(function(){"use strict";var a={1274:function(a,e,t){a.exports=t.p+"img/icon-sprite.cec624bc.svg"},8539:function(a,e,t){var s={};t.r(s),t.d(s,{W:function(){return mt}});var i={};t.r(i),t.d(i,{NO:function(){return AS},LC:function(){return jS},ph:function(){return BS},TV:function(){return _S}});t(8111),t(2489);var l=t(5130),n=t(6768);function o(a,e){const t=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(t)}var r=t(1241);const c={},d=(0,r.A)(c,[["render",o]]);var u=d,m=(t(3579),t(1387)),k=t(4232);const h={key:0,class:"loader-wrapper"},g={id:"goo"},p={key:1},b={class:"page-body-wrapper"},f=["sidebar-layout"];function L(a,e,t,s,i,o){const r=(0,n.g2)("fegaussianblur"),c=(0,n.g2)("fecolormatrix"),d=(0,n.g2)("Header"),u=(0,n.g2)("Sidebar"),m=(0,n.g2)("router-view"),L=(0,n.g2)("Footer"),y=(0,n.g2)("TapTop");return i.loading?((0,n.uX)(),(0,n.CE)("div",h,[e[2]||(e[2]=(0,n.Lk)("div",{class:"loader-index"},[(0,n.Lk)("span")],-1)),((0,n.uX)(),(0,n.CE)("svg",null,[e[1]||(e[1]=(0,n.Lk)("defs",null,null,-1)),(0,n.Lk)("filter",g,[(0,n.bF)(r,{in:"SourceGraphic",stddeviation:"11",result:"blur"}),(0,n.bF)(c,{in:"blur",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"})])]))])):((0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("div",{class:(0,k.C4)(["page-wrapper",i.layoutobj]),id:"pageWrapper"},[(0,n.Lk)("div",{class:(0,k.C4)(["page-header",{close_icon:!a.togglesidebar}])},[(0,n.bF)(d,{onClicked:o.sidebar_toggle},null,8,["onClicked"])],2),(0,n.Lk)("div",b,[(0,n.Lk)("div",{class:(0,k.C4)(["sidebar-wrapper",[{close_icon:!a.togglesidebar}]]),"sidebar-layout":"stroke-svg"==a.svg?"stroke-svg":"fill-svg"},[(0,n.bF)(u,{onClicked:o.sidebar_toggle},null,8,["onClicked"])],10,f),(0,n.Lk)("div",{class:"page-body",onClick:e[0]||(e[0]=a=>o.hidesecondmenu())},[(0,n.bF)(l.eB,{name:"fadeIn","enter-active-class":"animated fadeIn"},{default:(0,n.k6)(()=>[(0,n.bF)(m,{class:"view"})]),_:1})]),(0,n.bF)(L)]),(0,n.bF)(y)],2)]))}t(116);var y=t(782);const v=[{horizontal:"horizontal-wrapper"},{Dubai:"compact-wrapper"},{London:"only-body"},{Seoul:"compact-wrapper modern-type"},{LosAngeles:"horizontal-wrapper material-type"},{Paris:"compact-wrapper dark-sidebar"},{Tokyo:"compact-sidebar"},{Madrid:"compact-wrapper color-sidebar"},{Moscow:"compact-sidebar compact-small"},{NewYork:"compact-wrapper box-layout"},{Singapore:"horizontal-wrapper enterprice-type"},{Rome:"compact-sidebar compact-small material-icon"},{Barcelona:"horizontal-wrapper enterprice-type advance-layout"}],C={class:"header-wrapper row m-0"},P={class:"nav-right col-xxl-7 col-xl-6 col-md-7 col-8 pull-right right-header p-0 ms-auto"},E={class:"nav-menus"};function D(a,e,t,s,i,l){const o=(0,n.g2)("SearchBar"),r=(0,n.g2)("Logo"),c=(0,n.g2)("Profile");return(0,n.uX)(),(0,n.CE)("div",C,[(0,n.bF)(o),(0,n.bF)(r),(0,n.Lk)("div",P,[(0,n.Lk)("ul",E,[(0,n.bF)(c)])])])}const M={class:"flip-card"},w={class:"front"},F={class:"droplet-dropdown bookmark-dropdown"},X={class:"custom-scrollbar"},x={class:"row"},T={class:"bookmark-content"},S={class:"bookmark-icon"},B={class:"stroke-icon"},A=["xlink:href"],_={class:"text-center"},j={class:"back"},V={class:"bookmark-dropdown flip-back-content"},I={class:"ProfileCard-avatar header-search"},N={class:"stroke-icon"},U=["xlink:href"],R={class:"ProfileCard-details"},Q={class:"ProfileCard-realName"},W=["onClick"];function O(a,e,s,i,o,r){const c=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",{class:(0,k.C4)(["onhover-show-div bookmark-flip",o.bookmarkSearchBox||s.activeclass?"active":""])},[(0,n.Lk)("div",M,[(0,n.Lk)("div",{class:(0,k.C4)(["flip-card-inner",o.bookmarkSearchBox?"flipped":""])},[(0,n.Lk)("div",w,[e[4]||(e[4]=(0,n.Lk)("h6",{class:"f-18 mb-0 dropdown-title"},"Bookmark",-1)),(0,n.Lk)("ul",F,[(0,n.Lk)("li",X,[(0,n.Lk)("div",x,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.bookmarkItems.slice(0,8),(a,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"col-4 text-center",key:e},[(0,n.Lk)("div",T,[(0,n.Lk)("div",S,[((0,n.uX)(),(0,n.CE)("svg",B,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${a.icon}`},null,8,A)]))]),(0,n.Lk)("span",null,(0,k.v_)(a.title),1)])]))),128))])]),(0,n.Lk)("li",_,[(0,n.Lk)("a",{href:"javascript:void(0)",class:"flip-btn f-w-700",id:"flip-btn",onClick:e[0]||(e[0]=(...a)=>r.openbookmark&&r.openbookmark(...a))}," Add New Bookmark ")])])]),(0,n.Lk)("div",j,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.Lk)("div",V,[(0,n.bo)((0,n.Lk)("input",{type:"text",placeholder:"search...","onUpdate:modelValue":e[1]||(e[1]=a=>o.terms=a)},null,512),[[l.Jo,o.terms]]),(0,n.Lk)("div",{class:(0,k.C4)(["bookmark-search custom-scrollbar",a.searchMenuItems.length?"Typeahead-menu is-open":"Typeahead-menu"])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.searchMenuItems.slice(0,8),(a,s)=>((0,n.uX)(),(0,n.CE)("div",{class:"ProfileCard u-cf",key:s},[(0,n.Lk)("div",I,[((0,n.uX)(),(0,n.CE)("svg",N,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${a.icon}`},null,8,U)]))]),(0,n.Lk)("div",R,[(0,n.Lk)("div",Q,[(0,n.Lk)("span",{onClick:e[2]||(e[2]=a=>r.removeFix())},[(0,n.bF)(c,{to:"/",class:"realname"},{default:(0,n.k6)(()=>[(0,n.eW)((0,k.v_)(a.title),1)]),_:2},1024)]),(0,n.Lk)("a",{href:"JavaScript:void(0);",onClick:e=>r.addToBookmark(a)},[(0,n.Lk)("span",null,[(0,n.Lk)("i",{class:(0,k.C4)(["fa fa-star-o f-18 bookmark-search f-right",a.bookmark?"text-warning":""])},null,2)])],8,W)])])]))),128))],2),(0,n.Lk)("div",{class:(0,k.C4)(o.bookmarkSearchResultEmpty?"Typeahead-menu is-open":"Typeahead-menu")},e[5]||(e[5]=[(0,n.Lk)("div",{class:"tt-dataset tt-dataset-0"},[(0,n.Lk)("div",{class:"EmptyMessage"}," Your search turned up 0 results. Opps There are no result found. ")],-1)]),2)])]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{href:"javascript:void(0)",class:"d-block flip-back f-w-700",id:"flip-back",onClick:e[3]||(e[3]=(...a)=>r.openbookmark&&r.openbookmark(...a))}," Back ")])])])],2)])],2)}t(4114);var K={props:["activeclass"],data(){return{terms:"",bookmarkSearchBox:!1,bookmarkSearchResult:!1,bookmarkSearchResultEmpty:!1,bookmarkItems:[]}},computed:{...(0,y.aH)({menuItems:a=>a.menu.data,searchMenuItems:a=>a.menu.searchData})},watch:{terms:{handler(a){this.terms?this.addFix():this.removeFix(),this.searchMenuItems.length?this.bookmarkSearchResultEmpty=!1:this.bookmarkSearchResultEmpty=!0,this.addFix(),console.log("teradsdjsahfs;af==s===sa=d=sad",this.searchMenuItems),this.$store.dispatch("menu/searchTerm",a)}}},mounted(){this.menuItems.filter(a=>{a.bookmark&&this.bookmarkItems.push(a)})},methods:{openbookmark(){this.bookmarkSearchBox=!this.bookmarkSearchBox,this.bookmarkSearchBox||this.removeFix()},searchTerm:function(){this.addFix(),this.$store.dispatch("menu/searchTerm",this.terms)},addFix(){this.bookmarkSearchResult=!0},removeFix(){this.bookmarkSearchResult=!1,this.text=""},addToBookmark(a){const e=this.bookmarkItems.indexOf(a);-1!==e||a.bookmark?(this.bookmarkItems.splice(e,1),a.bookmark=!1):(a.bookmark=!0,this.bookmarkItems.push(a),this.text="")}}};const $=(0,r.A)(K,[["render",O]]);var G=$,J=t(1647),q=t(8378),H=t(1274);const Y=H+"#notification",z={class:"onhover-dropdown"},Z={class:"notification-box"};function aa(a,e,t,s,i,l){return(0,n.uX)(),(0,n.CE)("li",z,[(0,n.Lk)("div",Z,[((0,n.uX)(),(0,n.CE)("svg",null,[(0,n.Lk)("use",{href:Y,onClick:e[0]||(e[0]=a=>l.notification_open())})])),e[1]||(e[1]=(0,n.Lk)("span",{class:"badge rounded-pill badge-secondary"},"4 ",-1))]),(0,n.Lk)("div",{class:(0,k.C4)(["onhover-show-div notification-dropdown",{active:i.notification}])},e[2]||(e[2]=[(0,n.Fv)('<h6 class="f-18 mb-0 dropdown-title">Notitications</h6><ul><li class="b-l-primary border-4"><p>Delivery processing <span class="font-danger">10 min.</span></p></li><li class="b-l-success border-4"><p>Order Complete<span class="font-success">1 hr</span></p></li><li class="b-l-info border-4"><p>Tickets Generated<span class="font-info">3 hr</span></p></li><li class="b-l-warning border-4"><p>Delivery Complete<span class="font-warning">6 hr</span></p></li><li><a class="f-w-700" href="#">Check all</a></li></ul>',2)]),2)])}var ea={name:"Notifications",data(){return{notification:!1}},methods:{notification_open(){this.notification=!this.notification}}};const ta=(0,r.A)(ea,[["render",aa]]);var sa=ta;const ia=H+"#moon",la={class:"mode"};function na(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",la,[(0,n.bo)(((0,n.uX)(),(0,n.CE)("svg",{onClick:e[0]||(e[0]=a=>o.customizeMixLayout("dark-only"))},e[2]||(e[2]=[(0,n.Lk)("use",{href:ia},null,-1)]),512)),[[l.aG,"light-only"==i.mixLayout]]),(0,n.bo)(((0,n.uX)(),(0,n.CE)("svg",{onClick:e[1]||(e[1]=a=>o.customizeMixLayout("light-only"))},e[3]||(e[3]=[(0,n.Lk)("use",{href:ia},null,-1)]),512)),[[l.aG,"dark-only"==i.mixLayout]])])}var oa={name:"Mode",data(){return{mixLayout:"light-only"}},methods:{customizeMixLayout(a){this.mixLayout=a,this.$store.dispatch("layout/setLayout",{class:a})}}};const ra=(0,r.A)(oa,[["render",na]]);var ca=ra,da=t.p+"img/cart-img.309a9141.jpg";const ua=H+"#stroke-ecommerce",ma={class:"cart-nav onhover-dropdown"},ka={class:"cart-box"},ha={class:"mt-0"},ga={class:"media"},pa={class:"close-circle"},ba={href:"#",class:"bg-danger"},fa={class:"mt-0"},La={class:"media"},ya={class:"close-circle"},va={href:"#",class:"bg-danger"},Ca={class:"text-center"};function Pa(a,e,t,s,i,l){const o=(0,n.g2)("vue-feather"),r=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("li",ma,[(0,n.Lk)("div",ka,[((0,n.uX)(),(0,n.CE)("svg",null,[(0,n.Lk)("use",{href:ua,onClick:e[0]||(e[0]=a=>l.cart_open())})])),e[1]||(e[1]=(0,n.Lk)("span",{class:"badge rounded-pill badge-success"},"2",-1))]),(0,n.Lk)("div",{class:(0,k.C4)(["cart-dropdown onhover-show-div",{active:i.cart}])},[e[7]||(e[7]=(0,n.Lk)("h6",{class:"f-18 mb-0 dropdown-title"},"Cart",-1)),(0,n.Lk)("ul",null,[(0,n.Lk)("li",ha,[(0,n.Lk)("div",ga,[e[2]||(e[2]=(0,n.Fv)('<img class="img-fluid b-r-5 me-3 img-60" src="'+da+'" alt=""><div class="media-body"><span>Furniture Chair for Home</span><div class="qty-box"><div class="input-group"><span class="input-group-prepend"><button class="btn quantity-left-minus" type="button" data-type="minus" data-field=""> - </button></span><input class="form-control input-number" type="text" name="quantity" value="1"><span class="input-group-prepend"><button class="btn quantity-right-plus" type="button" data-type="plus" data-field=""> + </button></span></div></div><h6 class="font-primary mb-0">$500</h6></div>',2)),(0,n.Lk)("div",pa,[(0,n.Lk)("a",ba,[(0,n.bF)(o,{type:"x"})])])])]),(0,n.Lk)("li",fa,[(0,n.Lk)("div",La,[e[3]||(e[3]=(0,n.Fv)('<img class="img-fluid b-r-5 me-3 img-60" src="'+da+'" alt=""><div class="media-body"><span>Furniture Chair for Home</span><div class="qty-box"><div class="input-group"><span class="input-group-prepend"><button class="btn quantity-left-minus" type="button" data-type="minus" data-field=""> - </button></span><input class="form-control input-number" type="text" name="quantity" value="1"><span class="input-group-prepend"><button class="btn quantity-right-plus" type="button" data-type="plus" data-field=""> + </button></span></div></div><h6 class="font-primary mb-0">$500</h6></div>',2)),(0,n.Lk)("div",ya,[(0,n.Lk)("a",va,[(0,n.bF)(o,{type:"x"})])])])]),e[6]||(e[6]=(0,n.Lk)("li",{class:"total"},[(0,n.Lk)("h6",{class:"mb-0"},[(0,n.eW)(" Order Total : "),(0,n.Lk)("span",{class:"f-right"},"$1000.00")])],-1)),(0,n.Lk)("li",Ca,[(0,n.bF)(r,{class:"d-block mb-3 f-w-700 view-cart",to:"/ecommerce/cart"},{default:(0,n.k6)(()=>e[4]||(e[4]=[(0,n.eW)(" Go to your cart ")])),_:1,__:[4]}),(0,n.bF)(r,{to:"/ecommerce/checkout",class:"btn btn-primary view-checkout"},{default:(0,n.k6)(()=>e[5]||(e[5]=[(0,n.eW)(" Checkout ")])),_:1,__:[5]})])])],2)])}var Ea={name:"Cart",data(){return{cart:!1}},methods:{cart_open(){this.cart=!this.cart}}};const Da=(0,r.A)(Ea,[["render",Pa]]);var Ma=Da,wa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjBAMAAADs965qAAAAD1BMVEXd3d0AAADBwcGlpaWKiopWip6MAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAQUlEQVQokWNgGAUIoASEyDQDA5Oxk7MCEg0WczZiYGYwANNQYGJkbMDgAqWhwAEIXaA01CwjEwOgRjBNa68MdQAA0zYIQWXjQpMAAAAASUVORK5CYII=";const Fa={class:"profile-nav onhover-dropdown pe-0 py-0"},Xa={class:"media profile-media"},xa={class:"media-body"},Ta={class:"mb-0 font-roboto"},Sa={class:"profile-dropdown onhover-show-div"};function Ba(a,e,t,s,i,l){const o=(0,n.g2)("vue-feather");return(0,n.uX)(),(0,n.CE)("li",Fa,[(0,n.Lk)("div",Xa,[e[2]||(e[2]=(0,n.Lk)("img",{class:"b-r-10",src:wa,alt:""},null,-1)),(0,n.Lk)("div",xa,[(0,n.Lk)("span",null,(0,k.v_)(i.user.name),1),(0,n.Lk)("p",Ta,[(0,n.eW)((0,k.v_)(i.user.role_name)+" ",1),e[1]||(e[1]=(0,n.Lk)("i",{class:"middle fa fa-angle-down"},null,-1))])])]),(0,n.Lk)("ul",Sa,[(0,n.Lk)("li",null,[(0,n.bF)(o,{type:"user"}),e[3]||(e[3]=(0,n.Lk)("span",null,"Account",-1))]),(0,n.Lk)("li",{onClick:e[0]||(e[0]=(...a)=>l.logout&&l.logout(...a)),style:{cursor:"pointer"}},[(0,n.bF)(o,{type:"log-in"}),e[4]||(e[4]=(0,n.Lk)("span",null,"Log out",-1))])])])}var Aa=t(4373),_a={name:"Profile",data(){return{user:{name:"",role_name:""}}},mounted(){const a=JSON.parse(localStorage.getItem("User"))||{},e=a.id_pengguna;e&&Aa.A.get("/api/api",{params:{act:"users",key:e},headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}}).then(a=>{const e=a.data?.[0]?.data?.[0];e&&(this.user.name=e.name||"Pengguna",this.user.role_name=e.roles?.role_name||"Role")}).catch(a=>{console.error("Gagal mengambil data user:",a)})},methods:{logout(){const a=JSON.parse(localStorage.getItem("User"))?.token;Aa.A.get("/api/api/logout",{headers:{Authorization:`Bearer ${a}`}}).finally(()=>{localStorage.removeItem("User"),this.$router.replace("/auth")})}}};const ja=(0,r.A)(_a,[["render",Ba]]);var Va=ja,Ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHkAAAAjCAYAAACw76XYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA3nSURBVHgB7Vt7kBTFGf+6Z/ZxTxYuRIwVWNRDUIQlKkEQWSpWEiwVKYsCFfUoYyiVyFFJyhjLcET/IJGoRxkrD5TDmAhqAj6iGAwsKoiPhOWw4gPURdRCDrkH3O3tY7rzfT0ze7Nzu7d7h4Ers7+rrunp7e55/Pp79hyDfuL6G7smc4CZXPJZINi3QMgqJqwfDQaSy02P/Nk/C0oYNNCL6VRX3xpgcf9tAHIBSKhlggEwCcIDXZLBK1JClAv+LkvLDs1gzVDCoEJBkq9bc/g61uz9hQR5JvKKksogXQ770mX84bQv1fRkQ+VBKGFQIy/Jc1e3DyvzpVazvd45ohsFF3V0sozFkkPY4nOk74WGhoySVpj1vPRVHjsa1HVjhMaApWSyteOTjndfuK02ASWcVLBcjdesbh3FmbGZH9Fr2Yce7MWgvf39Azzgnf63356939n32sfavmPo8mqmswVokX3UF7g5sQDZLgXbBKA9te6qqqeghJOCXiTPW9V2hq4ZL6HdDWr7vCAMgMMfRaB7x0sXbW19YLvdb/6jbeejXb4PZ5iuSMWijsycVVJFEtFIPcm8hFgK2N0b5lU/AiWcUGSRPLehfZheZbzJNDidf64D69CgZX8EunZuff3lwyun2P3mr26dhLb5ReByuCKXZnGSzM1+En8Q6JlJsuXSPJeGfCjZeeynzy06rQu+BIwdOyXIuRHgXAsIYbR5vRWxaDTSBiVkkGWT0Z6ugBScLtGKsi84tLa8Bd07t4CuQaPdZ/6q1klGGl7IEGxLMZKIYouOmXkE6yDVn0m02cxu0cuqzr/iVy2XPHP78KMwAIRCU4JCaEtwQdXhaQDNgWrXNA2vk4KJE6dFhZCNmubdmI/wc8+dfiXnYoOjKbZ79/bR+a6Jc27FQ9g+x/kX7tmzoyl7zql1nLM1UBAyhu8hpqISbjRGoztjUCQmTJh2Pz53fdZsUixtbn7tgXxjuF2Z//OOOpFkN4kEek3tGnRp7dC1extojMX1TvZPu18KYL1IwykyjeSl8WGtQnWJqh2sIl1FOI5CwmR5iuc+GAAmTLhwiZTaLutBA3m6hehlI+G7QqGpodxdDPfYIPQDeP1gMW15RlO/MD0DPUsoNO2GYkbR4nYTbF6XLwuFwvnehUlyuGGrbqTEMiJYJlHFdmrQsf0p4Ec7YKjGtv3j2MpD1O+qe48skClWCynsl+YmsQ6ypVXsehbZJOWGtI5UtB/MebR1KfQDJCn4QLRiA0UOCUrJtuYnelAggBLdRAQW6mgYPJxvDsNIXplvnCK5puW8a2WCBWUSX/4xBomOFoCDB6ASY+IJZf63e67C5zAij0qKiLTINiwCHUQ7pdcsaKwFy9SJbK8X7pj7xAdDoAjQS+AcluX4qYkxuZAxNpMxsdRUhdkvAIneACcHbeZ9ZRe8x43ujkLw+kKToXZa0sdvebWBsslogxdJHdU0kkqpye4PX1M/jPH5oAyksmmzfrTXZyTge6KCJ6Qf9uDyOIg+1ThPSp7BU3QVCp0kpTVN74tZjpbpZANYthlkxnxTn+GV5ZU3YW0lFACtYnyQoLMNL7M0Gt3utEURLA9MnDgVSWXOlR0MhS4KR6OvRuDEoi3PNSNuG4/kz8ZDXqJpkaPEOzVSDEyNZmu1MKnsXD4Inz2//dsojRcCqmlUxZBGcWYHP0Qp5jDC40FnRlcc+WtG1CYr+D0dNcaIZxdXX/DsLdWXP3dz9Znxb1aPjldrdxmMtZmSbc4jlErPlmylvqWpuollrmIs7c65T0gvFECOlRpzEQw9LwyWu9uEEGEYREBnaX//+mvLXOMbpZRrnW1CJHMuEh2k9xJIopRp+MJR5Yr4Z6ChLf4G6lIdpRNl7+vUcUNDFantt90TbJrDYni45/uPxx/ztKaf88SNc2iQ4JZnzcwojY6W9DoursgPVOptF2J1G/T9mEHnYHzA3fl6RqM7ouiFrkU1PsNu41wOqrAKJXeGqynW9wgZdj4/Pg+qfA2lWy5xzEnaoME9UudJmCbpbQtTXcvOQ4rcYRg3oWcNo/y+WigCm64ui4XXtF5WneBvaSmoUWraLuquehIk1MY10u5C2XbBBT1wAZJZ0NUQ7at3c/P2OhgEGD9+Sth5jkQETK3Egtnt2VLZe46s/hEr7IqhaYo5fgvlMkucJdlI3s2Bo2dNKpt3dypyyzHm1JDs8WX+S+X0VcOhCEQWDo0lqvSfGaSWU1Yh9W1w9LiZSahhqu9ybzqjyllajIevJoIYu291Fs65218g4pej9mnKNwmOuyG7f8+CQPPnUtmil5fNWYKPRKKBJaxiJEFHkr0oeUS2T0OCmOd6KBIv3lj+cNqjHYKMfSayrTDLIpjjnfl0obx0016zs+H/F2hGWF6tZIVWddmtImLXMKHT5PwFF8wN7piZJLmSJWmLiSuSNUxfoaOtpJjUNtVx8+GHUinZIoDLTAjYLJK2JLviZyS6zGOY5ynLSUuIGvjKgkI6ZwG3b4AhnthAajbXaHdsjDb4aWeGzKpHnPOh9GTlBXSeYga+eF1lBmmPkFcocskZJqKTZupyjLj0Dz+B5+FeKAIiZXSINFcfFtD+s3LCrJx2mU+Aj/ankuY5+QOMa19VkjFVuqNXqjQUmn4lEkvpz4zEIXl03quvO6pAh6vJ3QfnehqTRGHHXOSJR+xznRsY+gj5tUyioqIGGzkk0ENCTQ1d6Bwpx8wnfp2Y9+D7vvWLn4YCEMLrF0nDTClzZm1goIr2CChnhsqqAXnz9Du53BocgIJQ+d6gfYZqaVRfvSn9iQ8ecvRfe3xxcrZ3fzyIRl/ZiPeHKUp+v6MZY/kLQtHomxnVbcXG4ay7kHwDxtiFLpEVM3OWghaOthMlGiipYZTXgubzQwcmmMkmH0obZqzjkeDxsfXGzQ/eWugKkISRSh1TipQkFlOfftTh5biKaPMDqC1pplBJorHfZwXnBOZWc8F8Pc0cr0p/1tmlt0Oi9QqpJk2aOir3fGTjWDC79fhCMtzgyGGHfYHsPoWzYPnnT9TZdY5pyl0sxVSigiHZ3pZKSJw6Bo6il0R7gZ+jq9zBTKJRon0okQ+KH6/aEm+4P5hzdswh8i6Yopw5nFdHsitwDh/F4AmeIV6pa4tsPBZMDJAtcjWF89kxfDm9Unyo5iLOc/RYI+4+hsHqc8+XXNJ7Pq3PEK4QUA1P7N2ayFo4KGOzYYDARZ4Zi7uLfKfQ4BrlHJH97ZIQP3U6xsnvwMEUBrxlGuxNJOC8oT7sLVWRupzplfBResV9bzCv2CTLjd1SS7RIn4jfsvKzy1oOD6tQplwTwEkLUH7bGquyXmT7lS2W6ojWYXuhm8Y+G1F1ubI+cg1uWiw3jBRuLWptug6Y39Zm59ipiaGURJwNpMpQ7VFbuOfFQD22YbLfWJtOQ6yv+Qaq+kkrpNPdISShofecPao6R2xMaIK8kAFXaBa2Y2Y9kYTn/T5Yga+73Ew5otr+9BQ4MuZi8O99GdpQxaIphU9TaTitkpuq2yKMaWIy6GIyOtTAvDoc0zEN+rEH/J2WvUWjrjJpuvLQrbo0CafdKw+STfkQDjuhAMws1kWNeC2nVAVpS5HzvrOiOGZ5rpwuxae4UMKu5jqUcix9zwfFIYiLRjobaL9byzE5+QzOc3dsjIjgfvdC6AO997xVKjfC1+9jH3AD/q5RLtkwi4ZqO9kShpYxM+BjXAWHcFm/35WAWHeqRyJ1i0irjtoA/vj2d6H9g2oMxTAcs0IySrIwTLZA3DyyOCZe4tiZSheq72727l/vHroLikBz86u4/8oaoR8wNzFyJxpoldPv0A8USlwMBHgP5BQ2uJpdCZP8GTEb5GVnjzF3rdRWI9L0kP3VDgkbp23ADuThkxmwf+QVEPOUw4F4CvZ2JmFPawIOo+ds0G6TZpYjrALujC6Af78+Dp03IthOrnBViGhObd14lYR55Krgb936CugHiGjaWsyxpegGEign5dvEsEG/M2ZQ6BKBgvOxmTnIcKDfzpg1Z3YKlr5agew981gxC4tzH/Vx3kOAPPZMTHDTWLkFNfVMW7dkjpSNHCahcth7MMT7MQytaoGqshT4/CiJ3ho4cnQ0vHNgNKS/8JhxLzclXB3tumbXaSMEMuETaoXY+kcrR8MAYX4MoAVR9weFoJww2V6ORY8O5Dsv04umRIIRMucj0vQYvoFosZ/oFLP5b8Lf1tc9Zs/Td9/scfQM3ZkFQvedIXnRWfJ8VLmbkd0AEWwXsI/WZgM5Swb6YORwq30m60O+HnKhh+wM6ZZqp3OyC6qubPLCdevKmqCE/ymyovtFZ6t/g/kT1W2CBbgIZ+aHe5L+nYLZmSyZyWhJLnuIpjbNcW6pdzPTJRsff8Y/4DiwhOLBnSe//w97DDn4jW2fFUeOoriSphQzw/SMyX5TndM5OW6UWFEFx1jnFC/TZ0OUcFEOWQr2sSPdxXqoJRwncubpFp8lf4nSd5dTbfey1eBQ47Zkg6NuSa+tym21Lrjcneapy9e9XF5EKrOELwN5k7G3jpO3I1d3YI8hbrJzEm6Rrey0/V8UDnLB/FJkc1c6fu2Tu9B7K+GEoc+Me/1YGcQdpEeQnZm5iHYSDtBDdsZW07+3mja7RWiyvulf+l+ghBOOorZVloyT85DA27A61a2u80q3SfIXgsnfGR7euGYXK0nvSUK/9s5QhY/CAZdguRiFdBZ9Uusiuh39sDfQJd+GJG95bwS8GYmoL7VLOIn4LwKSnnsJDhUAAAAAAElFTkSuQmCC";const Na={class:"header-logo-wrapper col-auto p-0"},Ua={class:"logo-wrapper"};function Ra(a,e,t,s,i,l){const o=(0,n.g2)("router-link"),r=(0,n.g2)("vue-feather");return(0,n.uX)(),(0,n.CE)("div",Na,[(0,n.Lk)("div",Ua,[(0,n.bF)(o,{to:"/"},{default:(0,n.k6)(()=>e[1]||(e[1]=[(0,n.Lk)("img",{class:"img-fluid",src:Ia,alt:""},null,-1)])),_:1,__:[1]})]),(0,n.Lk)("div",{class:"toggle-sidebar",onClick:e[0]||(e[0]=(...a)=>l.toggle_sidebar&&l.toggle_sidebar(...a))},[(0,n.bF)(r,{class:"status_toggle middle sidebar-toggle",type:"align-center",id:"sidebar-toggle"})])])}var Qa={name:"Logo",methods:{toggle_sidebar(){this.$store.dispatch("menu/opensidebar")}}};const Wa=(0,r.A)(Qa,[["render",Ra]]);var Oa=Wa;const Ka={class:"form-group w-100"},$a={class:"Typeahead Typeahead--twitterUsers"},Ga={class:"u-posRelative"},Ja={class:"ProfileCard-avatar header-search"},qa={class:"stroke-icon"},Ha=["xlink:href"],Ya={class:"ProfileCard-details"},za={class:"ProfileCard-realName"};function Za(a,e,s,i,o,r){const c=(0,n.g2)("vue-feather"),d=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("form",{class:(0,k.C4)(["form-inline search-full col",a.searchOpen?"open":""]),action:"#",method:"get",onSubmit:e[3]||(e[3]=(0,l.D$)(()=>{},["prevent"]))},[(0,n.Lk)("div",Ka,[(0,n.Lk)("div",$a,[(0,n.Lk)("div",Ga,[(0,n.bo)((0,n.Lk)("input",{class:"demo-input Typeahead-input form-control-plaintext w-100",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>o.terms=a),placeholder:"Search Cuba ..",name:"q",title:"",autofocus:""},null,512),[[l.Jo,o.terms]]),e[4]||(e[4]=(0,n.Lk)("div",{class:"spinner-border Typeahead-spinner",role:"status"},[(0,n.Lk)("span",{class:"sr-only"},"Loading...")],-1)),(0,n.bF)(c,{class:"close-search",type:"x",onClick:e[1]||(e[1]=a=>r.search_close())})]),a.menuItems.length?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,k.C4)(o.searchResult?"Typeahead-menu is-open":"Typeahead-menu")},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.menuItems.slice(0,8),(a,s)=>((0,n.uX)(),(0,n.CE)("div",{class:"ProfileCard u-cf",key:s},[(0,n.Lk)("div",Ja,[((0,n.uX)(),(0,n.CE)("svg",qa,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${a.icon}`},null,8,Ha)]))]),(0,n.Lk)("div",Ya,[(0,n.Lk)("div",za,[(0,n.Lk)("span",{onClick:e[2]||(e[2]=a=>r.removeFix())},[(0,n.bF)(d,{to:{path:a.path},class:"realname"},{default:(0,n.k6)(()=>[(0,n.eW)((0,k.v_)(a.title),1)]),_:2},1032,["to"])])])])]))),128))],2)):(0,n.Q3)("",!0),(0,n.Lk)("div",{class:(0,k.C4)(o.searchResultEmpty?"Typeahead-menu is-open":"Typeahead-menu")},e[5]||(e[5]=[(0,n.Lk)("div",{class:"tt-dataset tt-dataset-0"},[(0,n.Lk)("div",{class:"EmptyMessage"}," Your search turned up 0 results. Opps There are no result found. ")],-1)]),2)])])],34)}var ae=document.getElementsByTagName("body")[0],ee={name:"SearchBar",data(){return{terms:"",searchResult:!1,searchResultEmpty:!1}},computed:{...(0,y.aH)({menuItems:a=>a.menu.searchData,searchOpen:a=>a.menu.searchOpen})},watch:{terms:{handler(a){this.terms?this.addFix():this.removeFix(),this.$store.dispatch("menu/searchTerm",a),this.menuItems.length?this.searchResultEmpty=!1:this.searchResultEmpty=!0},deep:!0}},methods:{search_open(){this.$store.state.menu.searchOpen=!0},search_close(){this.$store.state.menu.searchOpen=!1,ae.classList.remove("offcanvas")},searchterm(){this.$store.dispatch("menu/searchTerm",this.terms)},addFix(){ae.classList.add("offcanvas"),this.searchResult=!0},removeFix(){ae.classList.remove("offcanvas"),this.searchResult=!1,this.terms=""}}};const te=(0,r.A)(ee,[["render",Za]]);var se=te,ie={components:{Bookmark:G,Notifications:sa,Mode:ca,Cart:Ma,Profile:Va,Logo:Oa,Swiper:J.RC,SwiperSlide:J.qr,SearchBar:se},data(){return{bookmark:!1}},computed:{...(0,y.aH)({menuItems:a=>a.menu.searchData,megamenuItems:a=>a.menu.megamenu,searchOpen:a=>a.menu.searchOpen})},methods:{search_open(){this.$store.state.menu.searchOpen=!0},bookmark_open(){this.bookmark=!this.bookmark}},setup(){return{modules:[q.Ij]}}};const le=(0,r.A)(ie,[["render",D]]);var ne=le,oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAi7SURBVHgBrVh9jFTVFT/nvjfzZmZnZT9CQU1wsV2KaJpYG6ptEUlNK8bWEkNBQWNjKalaS2O/bNN2W/2DVkoLoca2iIbSKkJL0lDBYvlqbKnaIIYoyocLKMEd9mt2d2bf1z2ec++b2dllkdF4k5t735vz7v3d3/mdc+8dhPdZ7rirNFMBzFGk5oLGT4KmRtTJjzECKdq+7s+ZufABiluP0Z3LepuwnLkPgBYDQTtqBEACnYISIfybCF5WWh3CiIpOjK/AByznBXP742dux1fSPyWgj/H8vHKEKAdHoqx6LPLCJzZ15E/Dh1TOCWb+2v6WrBeuxcPpeXqYiWDfBFnsDCbgvZeTt62jo+ocU+Y+Q15+cKDNdePJDgKGFPQW3yoe2nZfuw91Fhzv5W1rey9RGO9QPW47HkuxFUJ//xsnVVN61t9+N+N4re2iDX2fj126FV1czIrxxBaUHVgD9ZPG7QDO5qduadwM7xfMgtV9H3Wd+DnWRZtzJA06Bjjz5m4Y/s9zn9vV+9vnK3YL1/d9inWzkkeYZSbnalq0o5J0SAAxROGQoDMEfHDLggvW1QVmfkd/i9sYv4gOXKrecQGLDhSO74bSvl3/23tmxdVVIGt7r2TtPAuKJhoQaIFUwShrR/yDZoWTaI3sM8X0SDA0+L2tSy8ujQWjah/Y38shhEuJzbBbQe+pl2B4305wHVpVBbK698o4gm06ookU8QRcIU6qPMf2nVRtnskwI1VrA+huN9u468u/LDSeE8zCHxXv1AEu0T6rr9+BktMPpQN7wEEsu0P4r4pdCLCRJ5lEEVUn1MnkFI8AozFV17SaYCZNSq0cF8x1HbvcONQ/EyAUMLVDDhSf3wxqoAjNDu755+CKLrG75eGexRRiO4RsF6mEgRFQoxiJxoDSNSyZd87X563v/c5ZYFoLVy0iH9soYKNBBL9YADh9EvKcUz6RzRysWsdqHkbWHUIRRQmoOJmoBlAtG7aymDRW+wIqnYYH5j99dMIoMOTDUnYRtzzwsILhY/81CWia50EWqE9s5n7rsBf78MXQUX6QVS9x3ep76qiJFmEqVAkrNaAMg2hZSt5DDVD+dGI+l19S1ezNC/s/zau7BtmR5Mj2EgCePgYNSsHklOQYiQOATOvkdr+BHiq1xo/u/lpzX2WAG7ZQm+odXJwe0vc7ETTZ5TEAE95JBdtC0toRhQmJfefH85+m1Zu+ioELlL4eAgHCPzDVunwKHNbKRcyhy27ibz8iH27paBR3HRwruu3zsJObh254srwh1RttTZXjy+UjrQQE2XwDNu9oi7NahH1mqSnv9l3D3T1KBfBZCi2lIFQPdRkQLa4jkQRTs5l2qKNsvzXbOZCNbooUdhvX1LhIV0JeJ+/iJC2JcEIJeT3bMIUBTlGsE8WRBKwbNTxkQOQcBsOgrshmbqRZqyfWA4jd1+k3uj+MZeIwqWZyxYDQTpzkoVw6qmoLI32FBeOrKQwI0E9qHIDLYNIMXUB5Dg+EqTugzvLsXbnHopTTBVHCggGVhH8CRLFoPFdbMRvWcEaFmTwGsiUrA8bh/O7yIoQVcZf0eRP8BlUleJ6CSJxpd+igwszYjAyQTcX2ObTu1L5uNWBUiLFhRiprRqkGA0IiTwAFds+Zpm/8w3ehzqLDuKirrKBxkea+MJFVGjzZzwVsUAHoJGBi7FP8wuGPVCCUtDIYBT5HAnuIj3L8ocje07/yF6y5uS4wOp2RvKUTV0nGFiAej5XD2GR5qjBn25PWTSEUFH+gBAz/GOfawfEyUOS8I5rpimIbgymClIcb42+uuee8aAKYYtwggAIwCS/Dvsuxj8g3v5tgqYBiu1MWTAT7UZDHomoWbiEP/oXTYIDVJnv8OxwaRbSAmCGP1bdG3796Z7njN23jAiFCVYKrrdtZcwyqgcfwJIdxhq8ApGAEFLfmwManBrVPO3CbEZnoo0RQvnAW55nX4HQYQmvWgcO+D1c1e2xNppJLc9IEb0bLV76Aab2dcvEBcvwCebp894pTNxXOtDQYqTkalLAq+1fyrdk85VzqyoGMTMuqMIc21w/gmYwHy/l1zhyAODGptydBz7RrIXN4L/QxtSmOwrfDCC7OK+uyZGB09Exw9UwOIMC0C4NuCpwTKcgM8e+8tYjoTGZ3TUQmfbLAZK9KMShtcu0+46aNR/CoiuEfvAhQsa0OuysoXAeFabPhBKPtiiJ4o+RD53A4skI3mTDpM7vwx4NfgP6jF3CK4DSRpApJpshJFcq2xTJHbJmNpZbYbcN46K8PNu83zBg3AzzC5vNV8iAMpYtsH8yG41OaIC7tASoPQjSkoegquKhVQXOOschKufZgAzz88lfgrf2ThXJznDC5QaH5HR0yEWmkICxJ1jULkeyMyytyqyayJdNpJ3toDlV0WGklMlsI8i2vw4T0CWhuLEBjNgQvw6OlW6FnYCq8dnIqRN0ps+HwjdIwZtpK36n07ckAnOS9S50b1+enVjBU701s+30ebAejaKIEjFS5uKW72W0906ELp3MeIIhZyxJgZl9ODuSYTGzYkO1Z2b6wZFhwbMSC6EH6Yq/Vz2sDcVSKXzrDXF//VMuMrgFWYUpuBCQok/OKDEzJrUAYoeSmYN45Nc+JW03fpVVP/j2zrHb+UbeD37+KG9j215Xbhhmrptpt37LCm4iJBM7upq/kWQJAEqip/E3yLPlGdCKJ1Qg7hCPYMzyKlbOYqZR7P06/4NX8pNZdZ2mp0kebnwxTUNNXIyuqsmUOXXQgUuGXntqbO1kXGCn3XEY/4DEfYIsJY0GNCywBZXSEZ4MAe/LbUYrKizbt5ygYp7znsWDZdGrj4+M6HmXOeIBqgdWCqmpJ/jaxmipoh5Y98X/3L+81X11nlG9fRgt4Iv5/Bj4z1k3nZMuC6dZIj8Ypterx/Vg43zz1HZiSwq67hD+4nuu1vOi5ctUYA6if9fwCh+AeBrPz9cnw4u7d5qZVV3kXOX3GB94bJtEAAAAASUVORK5CYII=";const re={class:"logo-wrapper"},ce={class:"logo-icon-wrapper"};function de(a,e,t,s,i,l){const o=(0,n.g2)("Logo"),r=(0,n.g2)("vue-feather"),c=(0,n.g2)("router-link"),d=(0,n.g2)("Nav");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",re,[(0,n.bF)(o),(0,n.Lk)("div",{class:"back-btn",onClick:e[0]||(e[0]=(...a)=>l.toggle_sidebar&&l.toggle_sidebar(...a))},e[2]||(e[2]=[(0,n.Lk)("i",{class:"fa fa-angle-left"},null,-1)])),(0,n.Lk)("div",{class:"toggle-sidebar",onClick:e[1]||(e[1]=(...a)=>l.toggle_sidebar&&l.toggle_sidebar(...a))},[(0,n.bF)(r,{class:"status_toggle middle sidebar-toggle",type:"grid",id:"sidebar-toggle"})])]),(0,n.Lk)("div",ce,[(0,n.bF)(c,{to:"/"},{default:(0,n.k6)(()=>e[3]||(e[3]=[(0,n.Lk)("img",{class:"img-fluid",src:oe,alt:""},null,-1)])),_:1,__:[3]})]),(0,n.bF)(d)])}var ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAAjCAYAAABb2B7bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAyLSURBVHgB7Vt7kBTFGf+6Z/Z13B13XBFRK7CnHopaia8YTULcq1hJsFSkLApU1KOMoXxEL5WnsQxr9A+TEBXKWHmgEGMiqIkSTcRguMWU8ZnciVREeS1iEeSAvVvg9vYx3fm+np69ubnZx50EKLK/qq9muueb3pn59ffob2YZjBLX3TBwPgdo55LPAMHOASEbmNAHLQaSy9WP/i48A2o4qmBWo9TRmWpimfBtAHIeSGhjggEwCSIAA5LB36WEHi74RlaQacNi66GGow4Vib522Z5r2frgDyXIU5BbtFgGhTrYXIjwRwqh/PKn4vW7oIajHiWJnr20f0IklF/KNgVniUE0YPTXuQhL5sazW8+QoRfi8aLDVpjxFxmqP7A/aprWJIMBy8tcKv1heuMLt7VloYYjDubXefXS1BTOrDV8n9nGtgZQi0F///s7eFNw+h9/fvp2t+41j/d9yTLlVcxk8zBCh0gXuD2wANkvBVsNYDy94sqGp6GGI4YRRM9Z0neyaVgvYRyOGpuDICyAPdsSMPiPl77QlXrwFUdv7mN952Gcvh9HmK6IRVFbZo8qaUcS2Ug/2b6EZB7YPc/MaXwUajjsGEb07Hj/BLPBepMZcBL/yASWNqB3ewIGXut6/eU9iy5w9OYuTZ2NsfpF4HKiIphGcRPNbT2JBwRma5Jiu7Tb0pIP5w4e+M7zC04cgEMAKWUTbqIoTbqrhzHWBzUMA3c3ML7eB3k4SSIFbC+H1M63YPC1tWAacrGjM3dJ6myrAC+IgpwoC/igUcDSQm3L7iMRqi2VRZMIoci+2Yw0dF3+494GGCOIXJSFKF3YTKF0o3RpSWH/NpRlKNEK45CeG2eV0e3w6HaXuK6UrAzS6dbXGIPR3fsVPr+xTU/4kigSPfcH6Q6RYzeKLGZS/QYMGP0w8PY6MBjLmAfZ3xy9PMBKJPA4WZBFMoUmVjqEW5pwlwjXVkg4Xx4XuB/GAE0ePeQ4SqyEGul0oNADWFh6NKXnRtPH1G2C8mO49WhSdaB04TU+ANXjehj5G1GUK8qdpIiOxbtMKy8WEskyh+72oAHpV54Gvj8NzQZb99cDi3aT3pU/3TdP5lkb5FGvwLXlDhE+zJK1pRfJFi7rVn3G12Y9lvomjAKa5C4Y+dDLIV6B7KMBnXiN8UpK+v5LEXp9uXMV0S29514jsywqczjYAQbZdC/Arh1Qj2vmT0XCG4raFp/FiECSPJGpCbc0iS6y3VZsCwZvwYr7RHgwCHfMfnLLeKgeRFjU09eDQhNmlpbf+JwXH62LPISga2v3yGIfvduhMmLljpVz32odLbOwQJrospFYKmMObn1VHZgaCkEEpEpsZnxjU8jKwlfEOJ6VYXgHp8guzLOmBfLyZI6kA53LJZVA7YyM6eTLTr7pV1QbpN1Wi3AGE+vr6m/EvUVQAXo2d3i6n8XEa5a3D3UTuF3m6acZn4DDD0oOE56+BF4jPVe3p6H4fhbq9pQZyzsZ1qFc5Gp3gh3SRoDPnNv/WbTKCwFdNrplKKBZs11b0Zo5TAoEwDBMxVO4ZVJbbhy/N91iTXru1sbPPHdz42XP39R4SuaTja2ZRuMuCzNd28LtcYRy78MtXLlyabtxYpqr9Zdx5+wnZRAqwy9RuttPER/WchhJagyOLiR8+kpapE4U3c8gCSNJnVnqfBNk8GLIobUZ+NDR/YrMTjAwNp+AftVEK0Ub/AQpPhNvIBe+wTvA6lksiZt7v/pE5vFAqvB8IGOdQScJbtuwWk+Dva7WVuz6cTUBmurNvgvBnp3lMILoCrN/FQxPjpJwdMGPlGQZfa81LyZPgROAnoHzbM6iEOXjQZDLHHxe0hMXtuuWB3crgieYBmXcMCUcaoMqsPqqSDK2LHVpY5a/ZeShRblsR0iBDxVRqI8b5OmFivWCC3I/lYiOetrJcsp4sw/i5kE48qCH7+2j++309C3Ha05CacQ87Wf1lia02wgoWUt4T+YsxybzQQ4cM25y33zwoCK4zkCikfAzI+FL5PQlE6EKJOY3J7MN5vctctF5LeTKLY6ZOLNJ1evsumCh6NZZQZwJxy5o6dTlkbhHJwElwhCB1s4wfKInXJPCO5l9s2/Osnwykg0sq8XKgYlEB9ECifCQgSSxwHVQJV68oe6RQsDYDcV4TYTrJZgmmeMMD5nCLrCo+M1Oh/9vJCpYs9fNF1cWugqYcB1r8lthkEXXsxy9muKKaANrmpiAK2smF077+MLi61I53CrAmMQK2BqRcyzaWykDiAQsu53XiVtWtMCxi6RH/Mqz8VJFkxKrjYSnvcrTHlE34DzPLGXRJHl04XycIpiSZCI7Z9ewp4pLfvVtqBIib6VF0ZqZctuClmBIboQLCNF7LZoIOYd841gmej5aXatLmrGvFez1vxudJdb63r5VPta/3HuOd03NucX6OD5sAwnhOTLlFiSaQxazJvTaMIAJk0rWQuIn2TkPlUzf3RAiGBY5m2CpYjNTJIdwrDpmqeqbdCze3u6oYlivJZQtNdJyRNeSHammOhaFwwBNVLvPIb+qlzfmzvQWzsGu93vR4W5wlodejmRwIhofvFXXBkYoDGksSFOM3l2w7HVQQEIgxFZaNz10C1RCDiYr10xkI5G4OIcw+vM69Nsyq46rxM8hHPV2QmUkPW2KRVPK6C/UN+sWL7yTJwql8Wkofz2jgo6tSU/3sCqhdtsxGBuGGSXHkmY3I4uzKPvFJKy3HrLHT4X9mDnRe8SPMIVOM5tstOwQZlIPiW8tWZuJPxD1HV5KxgfgAjsUYIxHwsfhGCFao2d5kXypyAZFOG63Q2UkfPo6wfcSfGvCSR9Vr/u8Xfq88RrFeFVDjxn1dPd72p0wdsTcoQDfTPLXhAFXq4SJ4vGAhMzx03Ed/S7syuOCOGLApmwWzm0OobZUIk3ZHpSwrXDf/W+woFgt66y3pZHtlSGRuXnRzkt790wYp0K7IYCTN6B6uD5XVcfoWyOTPlaQaouR4pVKV03FEV3ajLkfhI5FVDt2rJMI8asb+9XAV3nGo7G6cExa6vToMWm8hVWOVxU0AX7JV8LTnulzPAmlEYPhkyfmjMnmnCJPDodgPVJQVyxwIAGBKevghE0vw6njQ1iQNuDMiUE4sRnpi6BmWAxJSAvuH8CS6XdfvR76/lOPsR71DLArborkoX0indE+faVk0LsSOOcP9zR3Q3UPqAtGD7+auDPmNhh9bKbixnyfsaK42QZjQ5KSNddYMRh5r63llmH6DZh7Uvbp5A/4ys1sC7fgzwbVni1bDHThud4Y9E69CD7I5jBOF+D9gSwkB/NDlmnaRDr76BXg1xu+DP1bGnGZhks1vVyjQgzDggxk7C3LYGafQWWSAXTlg2xjNSQTdGlvPowOiQrnUFKUhOpBln43HFokYWRy5k3CKq21Cd7iSXFNrV5TIlUPO18AkaFxeoWYRi4+vAi2T74ckoE62JHJw6aDOXgnlYU9OQutUGqrlbCPjYM7e+bBv16fhgkdh6ECDFdCZFNGzwbxV7L2livBY4PmfTAK6BcWNPOfraCaAHtp017u0yJXBkyuOFlmPBqDCG6v4oFXi6Qe82yfMb05QcVQ4VM8IagJUyyC3HiaXIvl7nanKlvc0upogoT6Ce/B+OAH0NzQCw2RPITCaJHBFti3vxXe3dEKhb0Bu57NtcumLXe5bz0xJHkBx62bMrnysfpWGCN0fKY6b1RLn5bEWMnQFhD1jNdT4QWK+/woVIe+chNQ31txCVnt/XjPc36nSPSCU+V56H7XIMNNRLIj4Gx1/KYEysK8jBJx9X5Kfxw4RDAMEV4kXrt5alOMUPt4boDNX7Eishxq+J9jWFlzwenqLze/pX2HZAEe0pn9aa+kv21o8hVp2vdLLofIpj7D1dauXu2bcvETfwp/nOVDDaPAsK9Af/lv9jjy8DMnXiueXKL4krY1Y+EU6L8aFM9pn1ObkjkqvijBc3Sb1tP0CRIVZVSSlofNbN/goU5oaigD3xcVt54qf4RWeJfbhY+I3eBy6Y6Fg2tfW7Hj1h0XL7h8u8Dzl614ua6asmcNhwgl30jdMk1+D/m6AzXGewn3JV0TruK2828NF8Fgf3GyZqCQueapbszoajisKPvqsfM0GRUcHkWG2v3IdpMOMER4MXbTX2vtGN4rDNm5/J/m76GGIwJWjdLt0+QcJPE23P2c13WXtHKb6L2CyV9YAb54WTerWfERRFVEO0B3PgVPuBjli2isM+hzXQ/Z/ZibvYGp+jokeu17k+DNREJ9CV7DEcZ/Adn9hryAs/7iAAAAAElFTkSuQmCC";function me(a,e,t,s,i,l){const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.Wv)(o,{to:"/"},{default:(0,n.k6)(()=>e[0]||(e[0]=[(0,n.Lk)("img",{class:"img-fluid for-light",src:Ia,alt:""},null,-1),(0,n.Lk)("img",{class:"img-fluid for-dark",src:ue,alt:""},null,-1)])),_:1,__:[0]})}var ke={name:"Logo"};const he=(0,r.A)(ke,[["render",me]]);var ge=he;const pe={class:"sidebar-main",id:"sidebar-main"};function be(a,e,t,s,i,l){const o=(0,n.g2)("vue-feather"),r=(0,n.g2)("Navmenu");return(0,n.uX)(),(0,n.CE)("nav",pe,[(0,n.Lk)("li",{class:(0,k.C4)(["left-arrow",{"d-none":"rtl"==a.layout.settings.layout_type?a.hideLeftArrowRTL:a.hideLeftArrow}]),onClick:e[0]||(e[0]=e=>l.layoutobject.split(" ").includes("horizontal-wrapper")&&"rtl"===a.layout.settings.layout_type?l.scrollToLeftRTL():l.scrollToLeft())},[(0,n.bF)(o,{type:"arrow-left"})],2),(0,n.bF)(r),(0,n.Lk)("li",{class:(0,k.C4)(["right-arrow",{"d-none":"rtl"==a.layout.settings.layout_type?a.hideRightArrowRTL:a.hideRightArrow}]),onClick:e[1]||(e[1]=e=>"horizontal_sidebar"==l.layoutobject&&"rtl"==a.layout.settings.layout_type?l.scrollToRightRTL():l.scrollToRight())},[(0,n.bF)(o,{type:"arrow-right"})],2)])}const fe={id:"sidebar-menu"},Le={class:"back-btn"},ye={key:0},ve={class:"lan-1"},Ce=["onClick"],Pe={class:"stroke-icon"},Ee=["xlink:href"],De={class:"fill-icon"},Me=["xlink:href"],we={class:"lan-3"},Fe={key:0,class:"according-menu"},Xe={class:"stroke-icon"},xe=["xlink:href"],Te={class:"fill-icon"},Se=["xlink:href"],Be={key:0,class:"fa fa-angle-right pull-right"},Ae=["href","onClick"],_e={class:"stroke-icon"},je=["xlink:href"],Ve={class:"fill-icon"},Ie=["xlink:href"],Ne={key:0,class:"fa fa-angle-right pull-right"},Ue=["href","onClick"],Re={class:"stroke-icon"},Qe=["xlink:href"],We={class:"fill-icon"},Oe=["xlink:href"],Ke={key:0,class:"fa fa-angle-right pull-right"},$e=["onClick"],Ge={key:1,class:"fa fa-angle-right pull-right mt-1"},Je=["href"],qe={key:1,class:"fa fa-angle-right pull-right mt-1"},He=["href"],Ye={key:1,class:"fa fa-angle-right pull-right mt-1"},ze={key:1,class:"fa fa-angle-right pull-right"},Ze={key:1,class:"fa fa-angle-right pull-right"},at={key:1,class:"fa fa-angle-right pull-right"};function et(a,e,s,i,l,o){const r=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",fe,[(0,n.Lk)("ul",{class:"sidebar-links custom-scrollbar",id:"myDIV",style:(0,k.Tr)([o.layoutobject.split(" ").includes("horizontal-wrapper")?"rtl"==a.layout.settings.layout_type?{"  -right":a.margin+"px"}:{"margin-left":a.margin+"px"}:{margin:"0px"}])},[(0,n.Lk)("li",Le,[(0,n.bF)(r,{to:"/"},{default:(0,n.k6)(()=>e[3]||(e[3]=[(0,n.Lk)("img",{class:"img-fluid",src:oe,alt:""},null,-1)])),_:1,__:[3]}),e[4]||(e[4]=(0,n.Lk)("div",{class:"mobile-back text-end"},[(0,n.Lk)("span",null,"Back"),(0,n.Lk)("i",{class:"fa fa-angle-right ps-2","aria-hidden":"true"})],-1))]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.menuItems,(s,i)=>((0,n.uX)(),(0,n.CE)("li",{key:i,class:(0,k.C4)(["sidebar-list",{" sidebar-main-title":"headtitle"==s.type},s.showPin?"pined":""])},["headtitle"==s.type?((0,n.uX)(),(0,n.CE)("div",ye,[(0,n.Lk)("h6",ve,(0,k.v_)(s.headTitle1),1)])):(0,n.Q3)("",!0),s.badgeType?((0,n.uX)(),(0,n.CE)("label",{key:1,class:(0,k.C4)("badge badge-"+s.badgeType)},(0,k.v_)(s.badgeValue),3)):(0,n.Q3)("",!0),"sub"==s.type?((0,n.uX)(),(0,n.CE)("a",{key:2,href:"javascript:void(0)",class:(0,k.C4)(["sidebar-link sidebar-title",{active:s.active}]),onClick:a=>o.setNavActive(s,i)},[((0,n.uX)(),(0,n.CE)("svg",Pe,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${s.icon}`},null,8,Ee)])),((0,n.uX)(),(0,n.CE)("svg",De,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${s.iconf}`},null,8,Me)])),(0,n.Lk)("span",we,(0,k.v_)(a.$t(s.title)),1),s.children?((0,n.uX)(),(0,n.CE)("div",Fe,e[5]||(e[5]=[(0,n.Lk)("i",{class:"fa fa-angle-right pull-right"},null,-1)]))):(0,n.Q3)("",!0)],10,Ce)):(0,n.Q3)("",!0),"link"==s.type?((0,n.uX)(),(0,n.Wv)(r,{key:3,to:s.path,class:(0,k.C4)(["sidebar-link sidebar-title",{active:s.active}]),onClick:[e[0]||(e[0]=a=>o.hidesecondmenu()),a=>o.setNavActive(s,i)]},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.CE)("svg",Xe,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${s.icon}`},null,8,xe)])),((0,n.uX)(),(0,n.CE)("svg",Te,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${s.iconf}`},null,8,Se)])),(0,n.Lk)("span",null,(0,k.v_)(a.$t(s.title)),1),s.children?((0,n.uX)(),(0,n.CE)("i",Be)):(0,n.Q3)("",!0)]),_:2},1032,["to","class","onClick"])):(0,n.Q3)("",!0),"extLink"==s.type?((0,n.uX)(),(0,n.CE)("a",{key:4,href:s.path,class:"sidebar-link sidebar-title",onClick:a=>o.setNavActive(s,i)},[((0,n.uX)(),(0,n.CE)("svg",_e,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${s.icon}`},null,8,je)])),((0,n.uX)(),(0,n.CE)("svg",Ve,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${s.iconf}`},null,8,Ie)])),(0,n.Lk)("span",null,(0,k.v_)(s.title),1),s.children?((0,n.uX)(),(0,n.CE)("i",Ne)):(0,n.Q3)("",!0)],8,Ae)):(0,n.Q3)("",!0),"extTabLink"==s.type?((0,n.uX)(),(0,n.CE)("a",{key:5,href:s.path,target:"_blank",class:"sidebar-link sidebar-title",onClick:a=>o.setNavActive(s,i)},[((0,n.uX)(),(0,n.CE)("svg",Re,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${s.icon}`},null,8,Qe)])),((0,n.uX)(),(0,n.CE)("svg",We,[(0,n.Lk)("use",{"xlink:href":t(1274)+`#${s.iconf}`},null,8,Oe)])),(0,n.Lk)("span",null,(0,k.v_)(s.title),1),s.children?((0,n.uX)(),(0,n.CE)("i",Ke)):(0,n.Q3)("",!0)],8,Ue)):(0,n.Q3)("",!0),s.children?((0,n.uX)(),(0,n.CE)("ul",{key:6,class:(0,k.C4)(["sidebar-submenu",{"menu-open":s.active}]),style:(0,k.Tr)({display:s.active?"":"none"})},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.children,(a,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},["sub"==a.type?((0,n.uX)(),(0,n.CE)("a",{key:0,class:(0,k.C4)(["lan-4",{active:a.active}]),href:"javascript:void(0)",onClick:e=>o.setNavActive(a,t)},[(0,n.eW)((0,k.v_)(a.title)+" ",1),a.badgeType?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,k.C4)("badge badge-"+a.badgeType+" pull-right")},(0,k.v_)(a.badgeValue),3)):(0,n.Q3)("",!0),a.children?((0,n.uX)(),(0,n.CE)("i",{key:1,class:(0,k.C4)(["fa pull-right mt-1",[a.active?"fa fa-angle-down":"fa fa-angle-right"]])},null,2)):(0,n.Q3)("",!0)],10,$e)):(0,n.Q3)("",!0),"link"==a.type?((0,n.uX)(),(0,n.Wv)(r,{key:1,class:(0,k.C4)(["lan-4",{active:a.active}]),to:a.path,onClick:[e=>o.setNavActive(a,t),e[1]||(e[1]=a=>o.hidesecondmenu())]},{default:(0,n.k6)(()=>[(0,n.eW)((0,k.v_)(a.title)+" ",1),a.badgeType?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,k.C4)("badge badge-"+a.badgeType+" pull-right")},(0,k.v_)(a.badgeValue),3)):(0,n.Q3)("",!0),a.children?((0,n.uX)(),(0,n.CE)("i",Ge)):(0,n.Q3)("",!0)]),_:2},1032,["class","to","onClick"])):(0,n.Q3)("",!0),"extLink"==a.type?((0,n.uX)(),(0,n.CE)("a",{key:2,href:a.path,class:"submenu-title"},[(0,n.eW)((0,k.v_)(a.title)+" ",1),a.badgeType?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,k.C4)("badge badge-"+a.badgeType+" pull-right")},(0,k.v_)(a.badgeValue),3)):(0,n.Q3)("",!0),a.children?((0,n.uX)(),(0,n.CE)("i",qe)):(0,n.Q3)("",!0)],8,Je)):(0,n.Q3)("",!0),"extTabLink"==a.type?((0,n.uX)(),(0,n.CE)("a",{key:3,class:"submenu-title",href:a.path,target:"_blank"},[(0,n.eW)((0,k.v_)(a.title)+" ",1),a.badgeType?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,k.C4)("badge badge-"+a.badgeType+" pull-right")},(0,k.v_)(a.badgeValue),3)):(0,n.Q3)("",!0),a.children?((0,n.uX)(),(0,n.CE)("i",Ye)):(0,n.Q3)("",!0)],8,He)):(0,n.Q3)("",!0),a.children?((0,n.uX)(),(0,n.CE)("ul",{key:4,class:(0,k.C4)(["nav-sub-childmenu submenu-content",{opensubchild:a.active}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.children,(a,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},["link"==a.type?((0,n.uX)(),(0,n.Wv)(r,{key:0,class:(0,k.C4)({active:a.active}),to:a.path,onClick:[e[2]||(e[2]=a=>o.hidesecondmenu()),e=>o.setNavActive(a,t)]},{default:(0,n.k6)(()=>[(0,n.eW)((0,k.v_)(a.title)+" ",1),a.badgeType?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,k.C4)("badge badge-"+a.badgeType+" pull-right")},(0,k.v_)(a.badgeValue),3)):(0,n.Q3)("",!0),a.children?((0,n.uX)(),(0,n.CE)("i",ze)):(0,n.Q3)("",!0)]),_:2},1032,["class","to","onClick"])):(0,n.Q3)("",!0),"extLink"==a.type?((0,n.uX)(),(0,n.Wv)(r,{key:1,to:a.path},{default:(0,n.k6)(()=>[(0,n.eW)((0,k.v_)(a.title)+" ",1),a.badgeType?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,k.C4)("badge badge-"+a.badgeType+" pull-right")},(0,k.v_)(a.badgeValue),3)):(0,n.Q3)("",!0),a.children?((0,n.uX)(),(0,n.CE)("i",Ze)):(0,n.Q3)("",!0)]),_:2},1032,["to"])):(0,n.Q3)("",!0),"extLink"==a.type?((0,n.uX)(),(0,n.Wv)(r,{key:2,to:a.path},{default:(0,n.k6)(()=>[(0,n.eW)((0,k.v_)(a.title)+" ",1),a.badgeType?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,k.C4)("badge badge-"+a.badgeType+" pull-right")},(0,k.v_)(a.badgeValue),3)):(0,n.Q3)("",!0),a.children?((0,n.uX)(),(0,n.CE)("i",at)):(0,n.Q3)("",!0)]),_:2},1032,["to"])):(0,n.Q3)("",!0)]))),128))],2)):(0,n.Q3)("",!0)]))),128))],6)):(0,n.Q3)("",!0)],2))),128))],4)])}t(1148),t(7588);var tt={name:"Navmenu",data(){return{layoutobj:{},items:[],text:"",active:!1}},computed:{...(0,y.aH)({menuItems:a=>a.menu.data,layout:a=>a.layout.layout,sidebar:a=>a.layout.sidebarType,activeoverlay:a=>a.menu.activeoverlay,togglesidebar:a=>a.menu.togglesidebar,width:a=>a.menu.width,height:a=>a.menu.height,margin:a=>a.menu.margin,menuWidth:a=>a.menu.menuWidth}),showPinTitle:{get(){let a=!1;return this.menuItems.every(e=>(e.showPin&&(a=!0),!a)),a}},layoutobject:{get:function(){return JSON.parse(JSON.stringify(v.find(a=>Object.keys(a).pop()===this.layout.settings.layout)))[this.layout.settings.layout]},set:function(){return this.layoutobj=v.find(a=>Object.keys(a).pop()===this.layout.settings.layout),this.layoutobj=JSON.parse(JSON.stringify(this.layoutobj))[this.layout.settings.layout],this.layoutobj}}},watch:{width(){if(window.addEventListener("resize",this.handleResize),this.handleResize(),window.addEventListener("scroll",this.handleScroll),this.handleScroll(),window.innerWidth<992){const a=JSON.parse(JSON.stringify(this.layoutobject).replace("horizontal-wrapper","compact-wrapper"));document.querySelector(".page-wrapper").className="page-wrapper "+a,this.$store.state.menu.margin=0}else document.querySelector(".page-wrapper").className="page-wrapper "+this.layoutobject;(window.innerWidth<1199&&"Tokyo"===this.layout.settings.layout||window.innerWidth<1199&&"Moscow"===this.layout.settings.layout||window.innerWidth<1199&&"Rome"===this.layout.settings.layout)&&this.menuItems.filter(a=>{a.active=!1})}},created(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.$store.state.menu.width<991&&(this.layout.settings.layout="Dubai",this.margin=0),setTimeout(()=>{const a=document.getElementById("myDIV");this.$store.state.menu.menuWidth=a.offsetWidth,this.$store.state.menu.menuWidth>window.innerWidth?(this.$store.state.menu.hideRightArrow=!1,this.$store.state.menu.hideLeftArrowRTL=!1):(this.$store.state.menu.hideRightArrow=!1,this.$store.state.menu.hideLeftArrowRTL=!0)},500),this.layoutobject=v.find(a=>Object.keys(a).pop()===this.layout.settings.layout),this.layoutobject=JSON.parse(JSON.stringify(this.layoutobject))[this.layout.settings.layout]},destroyed(){window.removeEventListener("resize",this.handleResize)},mounted(){window.addEventListener("unload",this.HandleUnload);let a=JSON.parse(localStorage.getItem("pins")||"[]");a.forEach(a=>{let e=this.menuItems.findIndex(e=>e.title==a);e>-1&&(this.menuItems[e].showPin=!0)}),this.menuItems.filter(a=>{if(a.path===this.$route.path&&this.$store.dispatch("menu/setActiveRoute",a),!a.children)return!1;a.children.filter(a=>{if(a.path===this.$route.path&&this.$store.dispatch("menu/setActiveRoute",a),!a.children)return!1;a.children.filter(a=>{a.path===this.$route.path&&this.$store.dispatch("menu/setActiveRoute",a)})})})},methods:{HandleUnload(){let a=[];this.menuItems.forEach(e=>{e.showPin&&a.push(e.title)}),localStorage.setItem("pins",JSON.stringify(a))},handleScroll(){window.scrollY>400?"material-type"!==this.layoutobject.split(" ").pop()&&"advance-layout"!==this.layoutobject.split(" ").pop()||(document.querySelector(".sidebar-main").className="sidebar-main hovered"):document.getElementById("sidebar-main")&&(document.querySelector(".sidebar-main").className="sidebar-main")},togglePinnedName({item:a}){a.showPin=!a.showPin,this.menuItems.length>0?this.menuItems="show":this.menuItems=""},setNavActive(a){this.$store.dispatch("menu/setNavActive",a),this.layoutobject.split(" ").includes("compact-sidebar")&&window.innerWidth>991&&(this.menuItems.some(a=>!0===a.active)?this.$store.state.menu.activeoverlay=!0:this.$store.state.menu.activeoverlay=!1)},setNavActiveh(a){this.layoutobject.split(" ").includes("horizontal-wrapper")&&(this.$store.dispatch("menu/setNavActive",a),this.layoutobject.split(" ").includes("compact-sidebar")&&window.innerWidth>991&&(this.menuItems.some(a=>!0===a.active)?this.$store.state.menu.activeoverlay=!0:this.$store.state.menu.activeoverlay=!1))},hidesecondmenu(){window.innerWidth<991?(this.$store.state.menu.activeoverlay=!1,this.$store.state.menu.togglesidebar=!1,this.menuItems.filter(a=>{a.active=!1})):this.layoutobject.split(" ").includes("compact-sidebar")&&(this.$store.state.menu.activeoverlay=!1,this.menuItems.filter(a=>{a.active=!1}))},handleResize(){this.$store.state.menu.width=window.innerWidth-450}}};const st=(0,r.A)(tt,[["render",et]]);var it=st,lt={name:"Nav",components:{Navmenu:it},data(){return{layoutobj:{}}},computed:{...(0,y.aH)({layout:a=>a.layout.layout,hideRightArrowRTL:a=>a.menu.hideRightArrowRTL,hideLeftArrowRTL:a=>a.menu.hideLeftArrowRTL,hideRightArrow:a=>a.menu.hideRightArrow,hideLeftArrow:a=>a.menu.hideLeftArrow,width:a=>a.menu.width,height:a=>a.menu.height,margin:a=>a.menu.margin,menuWidth:a=>a.menu.menuWidth}),layoutobject:{get:function(){return JSON.parse(JSON.stringify(v.find(a=>Object.keys(a).pop()===this.layout.settings.layout)))[this.layout.settings.layout]},set:function(){return this.layoutobj=v.find(a=>Object.keys(a).pop()===this.layout.settings.layout),this.layoutobj=JSON.parse(JSON.stringify(this.layoutobj))[this.layout.settings.layout],this.layoutobj}}},watch:{layoutobject(){setTimeout(()=>{const a=document.getElementById("myDIV");this.$store.state.menu.menuWidth=a.offsetWidth},500)}},methods:{scrollToRightRTL(){this.temp=this.$store.state.menu.width+this.$store.state.menu.margin,0===this.temp?(this.$store.state.menu.margin=this.temp,this.$store.state.menu.hideRightArrowRTL=!1):(this.$store.state.menu.margin+=this.$store.state.menu.width,this.$store.state.menu.hideRightArrowRTL=!1,this.$store.state.menu.hideLeftArrowRTL=!1)},scrollToLeftRTL(){this.$store.state.menu.margin<=-this.$store.state.menu.width?(this.$store.state.menu.margin+=-this.$store.state.menu.width,this.$store.state.menu.hideLeftArrowRTL=!0):(this.$store.state.menu.margin+=-this.$store.state.menu.width,this.$store.state.menu.hideRightArrowRTL=!1,this.$store.state.menu.activeoverlay=!1)},scrollToLeft(){this.$store.state.menu.margin>=-this.$store.state.menu.width?(this.$store.state.menu.margin=0,this.$store.state.menu.hideLeftArrow=!0):(this.$store.state.menu.margin+=this.$store.state.menu.width,this.$store.state.menu.hideRightArrow=!1)},scrollToRight(){this.temp=this.$store.state.menu.width-this.$store.state.menu.margin,this.temp+this.$store.state.menu.width>this.$store.state.menu.menuWidth?(this.$store.state.menu.margin=-this.temp,this.$store.state.menu.hideRightArrow=!0):(this.$store.state.menu.margin+=-this.$store.state.menu.width,this.$store.state.menu.hideLeftArrow=!1)}}};const nt=(0,r.A)(lt,[["render",be]]);var ot=nt,rt={name:"Sidebar",components:{Logo:ge,Nav:ot},computed:{...(0,y.aH)({menuItems:a=>a.menu.data,activeoverlay:a=>a.menu.activeoverlay})},methods:{toggle_sidebar(){this.$store.dispatch("menu/opensidebar"),this.$store.state.menu.activeoverlay=!1}}};const ct=(0,r.A)(rt,[["render",de]]);var dt=ct;function ut(a,e,t,s,i,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("footer",{class:(0,k.C4)(["footer","footer-dark"==this.footer?"footer-dark":""])},e[0]||(e[0]=[(0,n.Lk)("div",{class:"container-fluid"},[(0,n.Lk)("div",{class:"row"},[(0,n.Lk)("div",{class:"col-md-12 footer-copyright text-center"},[(0,n.Lk)("p",{class:"mb-0"},"Copyright 2023 Â© Desa Online | Ruang Media Solusi ")])])],-1)]),2)])}var mt={data:[{headTitle1:"General",type:"headtitle"},{title:"Beranda",icon:"stroke-home",iconf:"fill-home",type:"link",path:"/",active:!1},{title:"Informasi Desa",icon:"stroke-faq",iconf:"fill-faq",type:"sub",active:!1,children:[{path:"/village-information/profile",title:"Profil Desa",type:"link",active:!1}]},{title:"Pemerintahan",icon:"stroke-board",iconf:"fill-board",type:"sub",active:!1,children:[{path:"/village-government/officials",title:"Perangkat Desa",type:"link",active:!1},{path:"/village-government/tenure-periods",title:"Periode Jabatan",type:"link",active:!1}]},{title:"Kependudukan",icon:"customers",iconf:"customers",type:"sub",active:!1,children:[{path:"/population/residents",title:"Penduduk",type:"link",active:!1},{path:"/population/families",title:"keluarga",type:"link",active:!1},{path:"/population/households",title:"Rumah Tangga",type:"link",active:!1},{path:"/population/groups",title:"Kelompok",type:"link",active:!1}]},{title:"Dokumen",icon:"stroke-file",iconf:"fill-file",type:"sub",active:!1,children:[{path:"/documents/incoming-letters",title:"Surat Masuk",type:"link",active:!1},{path:"/documents/outgoing-letters",title:"Surat Keluar",type:"link",active:!1},{path:"/documents/regulations",title:"Peraturan/regulasi",type:"link",active:!1},{path:"/documents/decrees",title:"Keputusan Kepala Desa",type:"link",active:!1}]},{title:"Agenda Kegiatan",icon:"stroke-calendar",iconf:"fill-calendar",type:"sub",active:!1,children:[{path:"/activities/programs",title:"Progam Kegiatan",type:"link",active:!1},{path:"/activities/categories",title:"Kategori Kegiatan",type:"link",active:!1}]},{title:"Keuangan",icon:"stroke-charts",iconf:"fill-charts",type:"sub",active:!1,children:[{path:"/cash-flow/income",title:"Pemasukan",type:"link",active:!1},{path:"/cash-flow/expenses",title:"Pengeluaran",type:"link",active:!1}]},{title:"Aset/Inventory",icon:"stroke-bonus-kit",iconf:"fill-bonus-kit",type:"sub",active:!1,children:[{path:"/assets/land",title:"Tanah",type:"link",active:!1},{path:"/assets/buildings",title:"Bangunan",type:"link",active:!1},{path:"/assets/rooms",title:"Ruangan",type:"link",active:!1},{path:"/assets/vehicles",title:"Kendaraan",type:"link",active:!1},{path:"/assets/equipment",title:"Peralatan dan Mesin",type:"link",active:!1},{path:"/assets/items",title:"Barang",type:"link",active:!1}]},{title:"Pertanahan",icon:"stroke-maps",iconf:"fill-maps",type:"sub",active:!1,children:[{path:"/land-affairs/parcels",title:"Data Percil",type:"link",active:!1},{path:"/land-affairs/c-ledger",title:"C Desa",type:"link",active:!1}]},{title:"Badan Usaha",icon:"stroke-ecommerce",iconf:"fill-ecommerce",type:"sub",active:!1,children:[{path:"/enterprise/profile",title:"Profil",type:"link",active:!1},{path:"/enterprise/management",title:"Pengurus/Pengelola",type:"link",active:!1},{path:"/enterprise/reports",title:"Laporan Usaha",type:"link",active:!1}]},{title:"Website",icon:"stroke-internationalization",iconf:"fill-internationalization",type:"sub",active:!1,children:[{title:"Artikel",type:"sub",active:!1,children:[{path:"/website/articles/list",title:"Artikel",type:"link",active:!1},{path:"/website/articles/categories",title:"Kategori Artikel",type:"link",active:!1}]},{title:"Download",type:"sub",active:!1,children:[{path:"/website/download/documents",title:"Dokumen",type:"link",active:!1},{path:"/website/download/document-types",title:"Jenis Dokumen",type:"link",active:!1}]}]},{title:"Banner",icon:"stroke-gallery",iconf:"fill-gallery",type:"link",path:"/banner",active:!1},{title:"Layanan",icon:"stroke-job-search",iconf:"fill-job-search",type:"link",path:"/services",active:!1},{title:"Pengumuman",icon:"notification",iconf:"notification",type:"link",path:"/notices",active:!1},{title:"Link Terkait",icon:"stroke-button",iconf:"fill-button",type:"link",path:"/related-links",active:!1},{headTitle1:"Referensi",type:"headtitle"},{title:"Umum",icon:"stroke-user",iconf:"fill-user",type:"sub",active:!1,children:[{path:"/general/user",title:"Pengguna",type:"link",active:!1},{path:"/general/regions",title:"Wilayah",type:"link",active:!1}]},{title:"Kependudukan",icon:"stroke-social",iconf:"fill-social",type:"sub",active:!1,children:[{path:"/demographics/religions",title:"Agama",type:"link",active:!1},{path:"/demographics/blood-types",title:"Golongan Darah",type:"link",active:!1},{path:"/demographics/family-relationships",title:"Hubungan Keluarga",type:"link",active:!1},{path:"/demographics/genders",title:"Jenis Kelamin",type:"link",active:!1},{path:"/demographics/occupations",title:"Pekerjaan",type:"link",active:!1},{path:"/demographics/education-levels",title:"Pendidikan",type:"link",active:!1},{path:"/demographics/birth-attendants",title:"Penolong Kelahiran",type:"link",active:!1},{path:"/demographics/birth-places",title:"Tempat Dilahirkan",type:"link",active:!1},{path:"/demographics/martial-statuses",title:"Status Perkawinan",type:"link",active:!1},{path:"/demographics/group-categories",title:"Kategori Kelompok",type:"link",active:!1}]},{title:"Keuangan",icon:"stroke-charts",iconf:"fill-charts",type:"sub",active:!1,children:[{path:"/finance/budget-sources",title:"Sumber Anggaran",type:"link",active:!1},{path:"/finance/account-codes",title:"Kode Rekening",type:"link",active:!1}]},{title:"Pemerintahan",icon:"stroke-builders",iconf:"fill-builders",type:"sub",active:!1,children:[{path:"/government/positions",title:"Jabatan",type:"link",active:!1},{path:"/government/official-status",title:"Status Perangkat",type:"link",active:!1}]},{title:"BUMDES",icon:"stroke-project",iconf:"fill-project",type:"sub",active:!1,children:[{path:"/bumdes/business-fields",title:"Bidang Usaha",type:"link",active:!1},{path:"/bumdes/report-periods",title:"Periode Laporan Usaha",type:"link",active:!1}]},{title:"Dokumen",icon:"stroke-file",iconf:"fill-file",type:"sub",active:!1,children:[{path:"/archives/incoming-letter-types",title:"Jenis Surat Masuk",type:"link",active:!1},{path:"/archives/outgoing-letter-types",title:"Jenis Surat Keluar",type:"link",active:!1},{path:"/archives/regulation-types",title:"Jenis Peraturan/Regulasi",type:"link",active:!1}]},{title:"Aset",icon:"stroke-bonus-kit",iconf:"fill-bonus-kit",type:"sub",active:!1,children:[{path:"/inventory/legal-status",title:"Status Hak",type:"link",active:!1},{path:"/inventory/land-origins",title:"Asal Usul Tanah",type:"link",active:!1},{path:"/inventory/acquisition-procedures",title:"Prosedur Penguasaan",type:"link",active:!1},{path:"/inventory/acquisitions",title:"Perolehan",type:"link",active:!1},{path:"/inventory/conditions",title:"Kondisi",type:"link",active:!1},{path:"/inventory/multi-story-construction",title:"Kontruksi Bertingkat",type:"link",active:!1},{path:"/inventory/concrete-construction",title:"Kontruksi Beton",type:"link",active:!1},{path:"/inventory/physical-status",title:"Keberadaan Fisik",type:"link",active:!1},{path:"/inventory/item-categories",title:"Kategori Barang",type:"link",active:!1}]}]},kt={name:"footerpage",data(){return{customizer:!1,data:"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s["default"]))}},computed:{...(0,y.L8)({footer:"layout/footer"})}};const ht=(0,r.A)(kt,[["render",ut]]);var gt=ht;function pt(a,e,t,s,i,l){const o=(0,n.g2)("vue-feather");return(0,n.uX)(),(0,n.CE)("div",{class:"tap-top",style:(0,k.Tr)([i.display?{display:"block"}:{display:"none"}])},[(0,n.bF)(o,{type:"chevrons-up",onClick:e[0]||(e[0]=a=>l.executeScroll())})],4)}var bt={name:"TapTop",data(){return{display:!1}},created(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{executeScroll(){window.scrollTo({top:0,left:0,behavior:"smooth"})},handleScroll(){window.scrollY>600?this.display=!0:this.display=!1}}};const ft=(0,r.A)(bt,[["render",pt]]);var Lt=ft,yt={props:["sidebar_toggle_var"],components:{Header:ne,Sidebar:dt,Footer:gt,TapTop:Lt},data(){return{loading:!0,mobileheader_toggle_var:!1,sidebar_toggle_var:!1,horizontal_Sidebar:!0,resized:!1,layoutobj:{}}},computed:{...(0,y.aH)({menuItems:a=>a.menu.data,layout:a=>a.layout.layout,togglesidebar:a=>a.menu.togglesidebar,activeoverlay:a=>a.menu.activeoverlay,svg:a=>a.layout.svg}),...(0,y.L8)({sidebar:"layout/sidebar"}),layoutobject:{get:function(){return JSON.parse(JSON.stringify(v.find(a=>Object.keys(a).pop()===this.layout.settings.layout)))[this.layout.settings.layout]},set:function(){return this.layoutobj=v.find(a=>Object.keys(a).pop()===this.layout.settings.layout),this.layoutobj=JSON.parse(JSON.stringify(this.layoutobj))[this.layout.settings.layout],this.layoutobj}}},watch:{$route(){if(setTimeout(()=>{this.loading=!this.loading},3e3),this.loading=!this.loading,this.menuItems.filter(a=>{if(a.path===this.$route.path&&this.$store.dispatch("menu/setActiveRoute",a),!a.children)return!1;a.children.filter(a=>{if(a.path===this.$route.path&&this.$store.dispatch("menu/setActiveRoute",a),!a.children)return!1;a.children.filter(a=>{a.path===this.$route.path&&this.$store.dispatch("menu/setActiveRoute",a)})})}),this.layoutobj=v.find(a=>Object.keys(a).pop()===this.layout.settings.layout),console.log("layobj==>",this.layoutobj),window.innerWidth<991&&"LosAngeles"===this.layout.settings.layout||window.innerWidth<991&&"Singapore"===this.layout.settings.layout||window.innerWidth<991&&"Barcelona"===this.layout.settings.layout){const a=JSON.parse(JSON.stringify(this.layoutobj).replace("horizontal-wrapper","compact-wrapper"));this.layoutobj=JSON.parse(JSON.stringify(a))[this.layout.settings.layout]}else this.layoutobj=JSON.parse(JSON.stringify(this.layoutobj))[this.layout.settings.layout]},sidebar_toggle_var:function(){this.resized=this.width<=991?!this.sidebar_toggle_var:this.sidebar_toggle_var}},created(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.resized=this.sidebar_toggle_var,this.$store.dispatch("layout/set"),this.layout.settings.layout=this.$route.query.layout?this.$route.query.layout:"Dubai",this.layoutobj=v.find(a=>Object.keys(a).pop()===this.layout.settings.layout),this.layoutobj=JSON.parse(JSON.stringify(this.layoutobj))[this.layout.settings.layout]},methods:{sidebar_toggle(a){this.sidebar_toggle_var=!a},mobiletoggle_toggle(a){this.mobileheader_toggle_var=a},handleResize(){this.$store.dispatch("menu/resizetoggle")},removeoverlay(){this.$store.state.menu.activeoverlay=!1,window.innerWidth<991&&(this.$store.state.menu.togglesidebar=!1),this.menuItems.filter(a=>{a.active=!1})},hidesecondmenu(){this.layoutobject.split(" ").includes("compact-sidebar")&&this.menuItems.filter(a=>{a.active=!1}),window.innerWidth<991&&(this.$store.state.menu.togglesidebar=!1)}},mounted(){this.loading=!1}};const vt=(0,r.A)(yt,[["render",L]]);var Ct=vt;const Pt={class:"container-fluid"},Et={class:"row widget-grid"};function Dt(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("WelcomeCard");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Dashboard",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",Pt,[(0,n.Lk)("div",Et,[(0,n.bF)(r)])])])}var Mt=t.p+"img/cartoon.8cc6ce88.svg";const wt={class:"col-xxl-4 col-sm-6 box-col-6"};function Ft(a,e,t,s,i,l){return(0,n.uX)(),(0,n.CE)("div",wt,e[0]||(e[0]=[(0,n.Fv)('<div class="card profile-box"><div class="card-body"><div class="media"><div class="media-body"><div class="greeting-user"><h4 class="f-w-600 mb-0">Welcome to cuba</h4><p>Here whats happing in your account today</p><div class="whatsnew-btn"><a class="btn btn-outline-white">Whats New !</a></div></div></div><div><div class="clockbox"><svg id="clock" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 600"><g id="face"><circle class="circle" cx="300" cy="300" r="253.9"></circle><path class="hour-marks" d="M300.5 94V61M506 300.5h32M300.5 506v33M94 300.5H60M411.3 107.8l7.9-13.8M493 190.2l13-7.4M492.1 411.4l16.5 9.5M411 492.3l8.9 15.3M189 492.3l-9.2 15.9M107.7 411L93 419.5M107.5 189.3l-17.1-9.9M188.1 108.2l-9-15.6"></path><circle class="mid-circle" cx="300" cy="300" r="16.2"></circle></g><g id="hour"><path class="hour-hand" d="M300.5 298V142"></path><circle class="sizing-box" cx="300" cy="300" r="253.9"></circle></g><g id="minute"><path class="minute-hand" d="M300.5 298V67"></path><circle class="sizing-box" cx="300" cy="300" r="253.9"></circle></g><g id="second"><path class="second-hand" d="M300.5 350V55"></path><circle class="sizing-box" cx="300" cy="300" r="253.9"></circle></g></svg></div><div class="badge f-10 p-0" id="txt"></div></div></div><div class="cartoon"><img class="img-fluid" src="'+Mt+'" alt="vector women with leptop"></div></div></div>',1)]))}var Xt={data(){return{interval:"",greeting:"",time:""}},mounted(){const a=document.querySelector("#hour"),e=document.querySelector("#minute"),t=document.querySelector("#second");var s=new Date;let i=s.getHours(),l=s.getMinutes(),n=s.getSeconds();var o=i>=12?"PM":"AM";let r=360*i/12+6*l/12,c=360*l/60+6*n/60,d=360*n/60;function u(){r+=30/3600,c+=.1,d+=6,a.style.transform="rotate("+r+"deg)",e.style.transform="rotate("+c+"deg)",t.style.transform="rotate("+d+"deg)",document.getElementById("txt").innerHTML=i+":"+l+" "+o}this.interval=setInterval(u,1e3)},unmounted(){clearTimeout(this.interval)}};const xt=(0,r.A)(Xt,[["render",Ft]]);var Tt=xt,St={components:{WelcomeCard:Tt}};const Bt=(0,r.A)(St,[["render",Dt]]);var At=Bt;const _t={class:"container-fluid"},jt={class:"row"},Vt={class:"col-12 p-0"},It={class:"login-card"},Nt={class:"login-main"},Ut={class:"theme-form"},Rt={class:"form-group"},Qt={key:0,class:"validate-error"},Wt={class:"form-group"},Ot={class:"form-input position-relative"},Kt=["type"],$t={key:0,class:"validate-error"},Gt={class:"form-group mb-0"},Jt={class:"text-end mt-3"};function qt(a,e,t,s,i,o){const r=(0,n.g2)("vue-feather");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",_t,[(0,n.Lk)("div",jt,[(0,n.Lk)("div",Vt,[(0,n.Lk)("div",It,[(0,n.Lk)("div",null,[e[9]||(e[9]=(0,n.Lk)("div",null,[(0,n.Lk)("a",{class:"logo"},[(0,n.Lk)("img",{class:"img-fluid for-light",src:Ia,alt:"looginpage"}),(0,n.Lk)("img",{class:"img-fluid for-dark",src:ue,alt:"looginpage"})])],-1)),(0,n.Lk)("div",Nt,[(0,n.Lk)("form",Ut,[e[7]||(e[7]=(0,n.Lk)("h4",null,"Sign in to account",-1)),e[8]||(e[8]=(0,n.Lk)("p",null,"Enter your email & password to login",-1)),(0,n.Lk)("div",Rt,[e[4]||(e[4]=(0,n.Lk)("label",{class:"col-form-label"},"Email Address",-1)),(0,n.bo)((0,n.Lk)("input",{class:"form-control",type:"email",required:"",placeholder:"email@gmail.com","onUpdate:modelValue":e[0]||(e[0]=a=>i.user.email.value=a)},null,512),[[l.Jo,i.user.email.value]]),i.user.email.value&&o.validEmail(i.user.email.value)?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",Qt,(0,k.v_)(i.user.email.errormsg),1))]),(0,n.Lk)("div",Wt,[e[5]||(e[5]=(0,n.Lk)("label",{class:"col-form-label"},"Password",-1)),(0,n.Lk)("div",Ot,[(0,n.bo)((0,n.Lk)("input",{class:"form-control",type:i.showPassword?"text":"password",required:"",placeholder:"*********","onUpdate:modelValue":e[1]||(e[1]=a=>i.user.password.value=a)},null,8,Kt),[[l.hp,i.user.password.value]]),(0,n.Lk)("span",{class:"position-absolute end-0 top-50 translate-middle-y me-3",style:{cursor:"pointer"},onClick:e[2]||(e[2]=(...a)=>o.togglePassword&&o.togglePassword(...a))},[(0,n.bF)(r,{type:i.showPassword?"eye-off":"eye"},null,8,["type"])]),i.user.password.value.length<7?((0,n.uX)(),(0,n.CE)("span",$t,(0,k.v_)(i.user.password.errormsg),1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Gt,[e[6]||(e[6]=(0,n.Lk)("div",{class:"checkbox p-0"},[(0,n.Lk)("input",{id:"checkbox1",type:"checkbox"}),(0,n.Lk)("label",{class:"text-muted",for:"checkbox1"},"Remember password")],-1)),(0,n.Lk)("div",Jt,[(0,n.Lk)("button",{class:"btn btn-primary btn-block w-100",type:"submit",onClick:e[3]||(e[3]=(0,l.D$)((...a)=>o.login&&o.login(...a),["prevent"]))}," Sign in ")])])])])])])])])])])}const Ht="/api/api/auth",Yt=async(a,e)=>{try{const t=new FormData;t.append("email",a),t.append("password",e);const s=await Aa.A.post(Ht,t);return s.data}catch(t){throw console.error("Error during login:",t),t}};var zt={name:"login",data(){return{showPassword:!1,user:{email:{value:"",errormsg:""},password:{value:"",errormsg:""}}}},methods:{togglePassword(){this.showPassword=!this.showPassword},async login(){if(this.user.email.errormsg="",this.user.password.errormsg="",this.user.email.value&&this.validEmail(this.user.email.value))if(!this.user.password.value||this.user.password.value.length<6)this.user.password.errormsg="Password minimal 6 karakter.";else try{const a=await Yt(this.user.email.value,this.user.password.value);a.data;console.log("API Response:",a),a.success&&a.success.token?(localStorage.setItem("User",JSON.stringify({token:a.success.token,email:this.user.email.value,id_pengguna:a.success.data.id_pengguna})),this.$router.push("/")):alert("Login gagal")}catch(a){a.response?alert("Login gagal: "+(a.response.data.message||"Terjadi kesalahan.")):alert("Tidak bisa terhubung ke server."),console.error(a)}else this.user.email.errormsg="Email tidak valid."},validEmail(a){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(a)}}};const Zt=(0,r.A)(zt,[["render",qt]]);var as=Zt;const es={class:"container-fluid"},ts={class:"row"};function ss(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ProfilesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Informasi Desa",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",es,[(0,n.Lk)("div",ts,[(0,n.bF)(r)])])])}const is={class:"col-sm-12"},ls={class:"card"},ns={class:"card-body"},os={class:"d-flex justify-content-end align-items-start mb-3"},rs={class:"d-flex gap-2"},cs={key:0,class:"border p-3 mb-3 rounded filter-section"},ds={class:"row g-3"},us={class:"col-md-4"},ms={class:"col-md-4"},ks={class:"d-flex justify-content-end gap-2 mt-3"},hs={class:"table-responsive"},gs={class:"table table-hover"},ps={key:0,class:"fa fa-sort-asc"},bs={key:1,class:"fa fa-sort-desc"},fs={key:2,class:"fa fa-sort"},Ls={key:0,class:"fa fa-sort-asc"},ys={key:1,class:"fa fa-sort-desc"},vs={key:2,class:"fa fa-sort"},Cs={key:0},Ps=["src"],Es={key:1,class:"text-muted"},Ds={class:"d-flex align-items-center gap-2"},Ms=["onClick"],ws={class:"fw-bold"},Fs={class:"btn-group"},Xs=["onClick"],xs=["onClick"],Ts=["onClick"],Ss={key:0,class:"nested-row"},Bs={colspan:5,class:"nested-content-cell"},As={key:0,class:"text-center p-3"},_s={key:1,class:"p-3 text-center"},js=["onClick"],Vs={key:2},Is={class:"list-group list-group-flush"},Ns={class:"d-flex justify-content-between align-items-center"},Us={class:"d-flex align-items-center gap-2"},Rs=["onClick"],Qs={class:"btn-group",role:"group"},Ws=["onClick"],Os=["onClick"],Ks=["onClick"],$s={key:0,class:"nested-list ps-5 pt-2"},Gs={key:0,class:"text-center p-2"},Js={key:1,class:"text-muted fst-italic p-2"},qs={key:2,class:"list-group list-group-flush"},Hs={class:"d-flex justify-content-between align-items-center"},Ys={class:"d-flex align-items-center gap-2"},zs=["onClick"],Zs={class:"btn-group",role:"group"},ai=["onClick"],ei=["onClick"],ti=["onClick"],si={key:0,class:"nested-list ps-5 pt-2"},ii={key:0,class:"text-center p-2"},li={key:1,class:"text-muted fst-italic p-2"},ni={key:2,class:"list-group list-group-flush"},oi={class:"d-flex justify-content-between align-items-center"},ri={class:"d-flex align-items-center ps-4"},ci={class:"btn-group",role:"group"},di=["onClick"],ui=["onClick"],mi={class:"mt-3 text-end"},ki=["onClick"],hi={key:2},gi={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},pi={class:"mt-2"},bi={key:0,class:"text-muted"},fi={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},Li={class:"pagination mb-0"},yi=["onClick"];function vi(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-profile-modal"),c=(0,n.g2)("detail-profile-modal"),d=(0,n.g2)("add-edit-dusun-modal"),u=(0,n.g2)("add-edit-rw-modal"),m=(0,n.g2)("add-edit-rt-modal");return(0,n.uX)(),(0,n.CE)("div",is,[i.isProfileModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"profile-to-edit":i.profileBeingEdited,onClose:o.closeProfileModal,onSaveSuccessful:o.handleProfileSaveSuccessful},null,8,["profile-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isDetailModalVisible?((0,n.uX)(),(0,n.Wv)(c,{key:1,"profile-to-view":i.profileBeingViewed,onClose:o.closeDetailModal},null,8,["profile-to-view","onClose"])):(0,n.Q3)("",!0),i.isDusunModalVisible?((0,n.uX)(),(0,n.Wv)(d,{key:2,"profile-data":i.profileForDusun,"dusun-to-edit":i.dusunBeingEdited,onClose:o.closeDusunModal,onSaveSuccessful:o.handleDusunSaveSuccessful},null,8,["profile-data","dusun-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isRwModalVisible?((0,n.uX)(),(0,n.Wv)(u,{key:3,"dusun-data":i.dusunForRw,"rw-to-edit":i.rwBeingEdited,onClose:o.closeRwModal,onSaveSuccessful:o.handleRwSaveSuccessful},null,8,["dusun-data","rw-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isRtModalVisible?((0,n.uX)(),(0,n.Wv)(m,{key:4,"rw-data":i.rwForRt,"rt-to-edit":i.rtBeingEdited,onClose:o.closeRtModal,onSaveSuccessful:o.handleRtSaveSuccessful},null,8,["rw-data","rt-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",ls,[e[46]||(e[46]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Desa")],-1)),(0,n.Lk)("div",ns,[(0,n.Lk)("div",os,[(0,n.Lk)("div",rs,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[(0,n.Lk)("i",{class:(0,k.C4)([i.isFilterVisible?"fa fa-angle-up":"fa fa-angle-down","me-2"])},null,2),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddProfileModal&&o.openAddProfileModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null,"Tambah Data Desa",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",cs,[(0,n.Lk)("div",ds,[(0,n.Lk)("div",us,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])]),(0,n.Lk)("div",ms,[e[12]||(e[12]=(0,n.Lk)("label",{for:"filterAddress",class:"form-label"},"Alamat Kantor",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterAddress",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.alamatkantor=a),placeholder:"Filter berdasarkan alamat kantor"},null,512),[[l.Jo,i.filters.alamatkantor]])])]),(0,n.Lk)("div",ks,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[14]||(e[14]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",hs,[(0,n.Lk)("table",gs,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[17]||(e[17]=(0,n.Lk)("th",{scope:"col",style:{width:"5%"}},"No",-1)),e[18]||(e[18]=(0,n.Lk)("th",{scope:"col",style:{width:"10%"}},"Logo",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[6]||(e[6]=a=>o.sortBy("namawilayah"))},[e[15]||(e[15]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",ps)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",bs)):((0,n.uX)(),(0,n.CE)("i",fs))]),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("alamatkantor"))},[e[16]||(e[16]=(0,n.eW)(" Alamat Kantor ")),"alamatkantor"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Ls)):"alamatkantor"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",ys)):((0,n.uX)(),(0,n.CE)("i",vs))]),e[19]||(e[19]=(0,n.Lk)("th",{scope:"col",style:{width:"20%"}},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",Cs,e[20]||(e[20]=[(0,n.Lk)("td",{colspan:"5",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"}),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):o.paginatedProfiles.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:1},(0,n.pI)(o.paginatedProfiles,(a,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a.iddesa},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,[a.logo?((0,n.uX)(),(0,n.CE)("img",{key:0,src:a.logo,alt:"Logo",style:{height:"40px",width:"auto"}},null,8,Ps)):((0,n.uX)(),(0,n.CE)("span",Es,"-"))]),(0,n.Lk)("td",null,[(0,n.Lk)("div",Ds,[(0,n.Lk)("button",{class:"btn btn-expand flex-shrink-0",onClick:e=>o.toggleExpand(a,"desa")},[(0,n.Lk)("i",{class:(0,k.C4)(["fa fa-chevron-right",{"is-expanded":i.expanded.desa[a.iddesa]}])},null,2)],8,Ms),(0,n.Lk)("span",ws,(0,k.v_)(a.wilayah.namawilayah),1)])]),(0,n.Lk)("td",null,(0,k.v_)(a.alamatkantor||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",Fs,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openDetailModal(a)},e[21]||(e[21]=[(0,n.Lk)("i",{class:"fa fa-eye"},null,-1)]),8,Xs),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditProfileModal(a)},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,xs),(0,n.Lk)("button",{class:"btn btn-danger btn-sm",onClick:e=>o.advancedDeleteAlert(a.iddesa)},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,Ts)])])]),i.expanded.desa[a.iddesa]?((0,n.uX)(),(0,n.CE)("tr",Ss,[(0,n.Lk)("td",Bs,[i.loading.dusun[a.iddesa]?((0,n.uX)(),(0,n.CE)("div",As,e[24]||(e[24]=[(0,n.Lk)("div",{class:"spinner-border spinner-border-sm"},null,-1),(0,n.eW)(" Memuat Dusun... ")]))):i.subData.dusun[a.iddesa]&&0!==i.subData.dusun[a.iddesa].length?((0,n.uX)(),(0,n.CE)("div",Vs,[(0,n.Lk)("ul",Is,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.subData.dusun[a.iddesa],t=>((0,n.uX)(),(0,n.CE)("li",{key:t.iddusun,class:"list-group-item px-0 py-2"},[(0,n.Lk)("div",Ns,[(0,n.Lk)("div",Us,[(0,n.Lk)("button",{class:"btn btn-light btn-expand me-2",onClick:a=>o.toggleExpand(t,"dusun")},[(0,n.Lk)("i",{class:(0,k.C4)(["fa fa-chevron-right",{"is-expanded":i.expanded.dusun[t.iddusun]}])},null,2)],8,Rs),(0,n.Lk)("span",null,[(0,n.eW)((0,k.v_)(t.namadusun)+" ",1),e[27]||(e[27]=(0,n.Lk)("span",{class:"badge bg-secondary ms-1"},"Dusun",-1))])]),(0,n.Lk)("div",Qs,[(0,n.Lk)("button",{class:"btn btn-success btn-xs",title:"Tambah RW",onClick:a=>o.openAddRwModal(t)},e[28]||(e[28]=[(0,n.Lk)("i",{class:"fa fa-plus"},null,-1),(0,n.eW)(" RW ")]),8,Ws),(0,n.Lk)("button",{class:"btn btn-primary btn-xs",title:"Edit Dusun",onClick:e=>o.openEditDusunModal(t,a)},e[29]||(e[29]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,Os),(0,n.Lk)("button",{class:"btn btn-danger btn-xs",title:"Hapus Dusun",onClick:e=>o.advancedDeleteDusunAlert(t,a)},e[30]||(e[30]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,Ks)])]),i.expanded.dusun[t.iddusun]?((0,n.uX)(),(0,n.CE)("div",$s,[i.loading.rw[t.iddusun]?((0,n.uX)(),(0,n.CE)("div",Gs,e[31]||(e[31]=[(0,n.Lk)("div",{class:"spinner-border spinner-border-sm text-secondary"},null,-1),(0,n.eW)(" Memuat RW... ")]))):i.subData.rw[t.iddusun]&&0!==i.subData.rw[t.iddusun].length?((0,n.uX)(),(0,n.CE)("ul",qs,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.subData.rw[t.iddusun],a=>((0,n.uX)(),(0,n.CE)("li",{key:a.idrw,class:"list-group-item px-0 py-2"},[(0,n.Lk)("div",Hs,[(0,n.Lk)("div",Ys,[(0,n.Lk)("button",{class:"btn btn-light btn-expand me-2",onClick:e=>o.toggleExpand(a,"rw")},[(0,n.Lk)("i",{class:(0,k.C4)(["fa fa-chevron-right",{"is-expanded":i.expanded.rw[a.idrw]}])},null,2)],8,zs),(0,n.Lk)("span",null,[(0,n.eW)((0,k.v_)(a.namarw)+" ",1),e[32]||(e[32]=(0,n.Lk)("span",{class:"badge bg-info ms-1"},"RW",-1))])]),(0,n.Lk)("div",Zs,[(0,n.Lk)("button",{class:"btn btn-success btn-xs",title:"Tambah RT",onClick:e=>o.openAddRtModal(a)},e[33]||(e[33]=[(0,n.Lk)("i",{class:"fa fa-plus"},null,-1),(0,n.eW)(" RT ")]),8,ai),(0,n.Lk)("button",{class:"btn btn-primary btn-xs",title:"Edit RW",onClick:e=>o.openEditRwModal(a,t)},e[34]||(e[34]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,ei),(0,n.Lk)("button",{class:"btn btn-danger btn-xs",title:"Hapus RW",onClick:e=>o.advancedDeleteRwAlert(a,t)},e[35]||(e[35]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,ti)])]),i.expanded.rw[a.idrw]?((0,n.uX)(),(0,n.CE)("div",si,[i.loading.rt[a.idrw]?((0,n.uX)(),(0,n.CE)("div",ii,e[36]||(e[36]=[(0,n.Lk)("div",{class:"spinner-border spinner-border-sm text-success"},null,-1),(0,n.eW)(" Memuat RT... ")]))):i.subData.rt[a.idrw]&&0!==i.subData.rt[a.idrw].length?((0,n.uX)(),(0,n.CE)("ul",ni,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.subData.rt[a.idrw],t=>((0,n.uX)(),(0,n.CE)("li",{key:t.idrt,class:"list-group-item px-0 py-2"},[(0,n.Lk)("div",oi,[(0,n.Lk)("div",ri,[(0,n.Lk)("span",null,[(0,n.eW)((0,k.v_)(t.namart)+" ",1),e[37]||(e[37]=(0,n.Lk)("span",{class:"badge bg-success ms-1"},"RT",-1))])]),(0,n.Lk)("div",ci,[(0,n.Lk)("button",{class:"btn btn-primary btn-xs",title:"Edit RT",onClick:e=>o.openEditRtModal(t,a)},e[38]||(e[38]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,di),(0,n.Lk)("button",{class:"btn btn-danger btn-xs",title:"Hapus RT",onClick:e=>o.advancedDeleteRtAlert(t,a)},e[39]||(e[39]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,ui)])])]))),128))])):((0,n.uX)(),(0,n.CE)("div",li," Belum ada data RT di RW ini. "))])):(0,n.Q3)("",!0)]))),128))])):((0,n.uX)(),(0,n.CE)("div",Js," Belum ada data RW di dusun ini. "))])):(0,n.Q3)("",!0)]))),128))]),(0,n.Lk)("div",mi,[(0,n.Lk)("button",{class:"btn btn-outline-success btn-sm",onClick:e=>o.openAddDusunModal(a)},e[40]||(e[40]=[(0,n.Lk)("i",{class:"fa fa-plus"},null,-1),(0,n.eW)(" Tambah Dusun Baru ")]),8,ki)])])):((0,n.uX)(),(0,n.CE)("div",_s,[e[26]||(e[26]=(0,n.Lk)("p",{class:"text-muted fst-italic mb-2"}," Belum ada data dusun. ",-1)),(0,n.Lk)("button",{class:"btn btn-success btn-sm",onClick:e=>o.openAddDusunModal(a)},e[25]||(e[25]=[(0,n.Lk)("i",{class:"fa fa-plus"},null,-1),(0,n.eW)(" Tambah Dusun Pertama ")]),8,js)]))])])):(0,n.Q3)("",!0)],64))),128)):((0,n.uX)(),(0,n.CE)("tr",hi,e[41]||(e[41]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"}," Tidak ada data yang tersedia. ",-1)])))])])]),(0,n.Lk)("div",gi,[(0,n.Lk)("div",pi,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",bi,[e[42]||(e[42]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[43]||(e[43]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[44]||(e[44]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[45]||(e[45]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",fi,[(0,n.Lk)("ul",Li,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(i.currentPage-1))}," Prev ")],2),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{class:(0,k.C4)(["page-item",{active:i.currentPage===a}]),key:a},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,yi)],2))),128)),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))}," Next ")],2)])])):(0,n.Q3)("",!0)])])])}const Ci=()=>{try{const a=JSON.parse(localStorage.getItem("User"));return a||{}}catch(a){return console.error("Gagal parse user data dari localStorage:",a),{}}},Pi=()=>Ci().token,Ei="http://37.44.244.19/api_desaonline",Di=Aa.A.create({baseURL:Ei});Di.interceptors.request.use(a=>{const e=Pi();return e&&(a.headers.Authorization=`Bearer ${e}`),a},a=>Promise.reject(a));var Mi=Di;const wi=(a={})=>Mi.get("",{params:{act:"profil-desa",...a}}),Fi=a=>a?Mi.get("",{params:{act:"profil-desa",key:a}}):Promise.reject(new Error("ID profil desa tidak tersedia.")),Xi=a=>(a.append("act","profil-desa"),Mi.post("",a)),xi=(a,e)=>a?(e.append("act","profil-desa"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID profil desa tidak tersedia.")),Ti=a=>a?Mi.delete("",{data:{act:"profil-desa",key:a}}):Promise.reject(new Error("ID profil desa tidak tersedia.")),Si=(a={})=>Mi.get("",{params:{act:"dusun",...a}}),Bi=a=>(a.append("act","dusun"),Mi.post("",a)),Ai=(a,e)=>a?(e.append("act","dusun"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID dusun tidak tersedia.")),_i=a=>a?Mi.delete("",{data:{act:"dusun",key:a}}):Promise.reject(new Error("ID dusun tidak tersedia.")),ji=(a={})=>Mi.get("",{params:{act:"rw",...a}}),Vi=a=>(a.append("act","rw"),Mi.post("",a)),Ii=(a,e)=>a?(e.append("act","rw"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID rw tidak tersedia.")),Ni=a=>a?Mi.delete("",{data:{act:"rw",key:a}}):Promise.reject(new Error("ID rw tidak tersedia.")),Ui=(a={})=>Mi.get("",{params:{act:"rt",...a}}),Ri=a=>(a.append("act","rt"),Mi.post("",a)),Qi=(a,e)=>a?(e.append("act","rt"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID rt tidak tersedia.")),Wi=a=>a?Mi.delete("",{data:{act:"rt",key:a}}):Promise.reject(new Error("ID rt tidak tersedia.")),Oi={class:"modal-header"},Ki={class:"modal-title"},$i={class:"modal-body"},Gi={class:"mb-3"},Ji={class:"input-group"},qi=["value"],Hi={class:"row"},Yi={class:"col-md-8 mb-3"},zi={class:"col-md-4 mb-3"},Zi={class:"mb-3"},al={class:"row"},el={class:"col-md-6 mb-3"},tl={class:"col-md-6 mb-3"},sl={class:"row"},il={class:"col-md-6 mb-3"},ll=["src"],nl={class:"col-md-6 mb-3"},ol=["src"],rl=["for"],cl=["id","rows","onUpdate:modelValue"],dl={key:0,class:"alert alert-danger mt-3"},ul={class:"modal-footer"},ml=["disabled"],kl={key:0,class:"spinner-border spinner-border-sm",role:"status"},hl={key:1},gl={key:0,class:"modal-overlay-selector"},pl={class:"modal-content-selector"},bl={class:"modal-header"},fl={class:"modal-body-selector"};function Ll(a,e,t,s,i,o){const r=(0,n.g2)("FilterRegions");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[13]||(e[13]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[12]||(e[12]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Oi,[(0,n.Lk)("h5",Ki,(0,k.v_)(o.isEditMode?"Edit Data Profil Desa":"Tambah Data Profil Desa"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",$i,[(0,n.Lk)("form",{onSubmit:e[9]||(e[9]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Gi,[e[16]||(e[16]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.Lk)("div",Ji,[(0,n.Lk)("input",{type:"text",class:"form-control",value:i.selectedRegionName,placeholder:"Pilih wilayah dengan menekan tombol 'Cari'",readonly:"",required:""},null,8,qi),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=(...a)=>o.openRegionSelector&&o.openRegionSelector(...a))},e[15]||(e[15]=[(0,n.Lk)("i",{class:"fa fa-search"},null,-1),(0,n.eW)(" Cari ")]))])]),(0,n.Lk)("div",Hi,[(0,n.Lk)("div",Yi,[e[17]||(e[17]=(0,n.Lk)("label",{class:"form-label"},"Alamat Kantor Desa ",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.alamatkantor=a),placeholder:"Masukkan alamat kantor desa",required:""},null,512),[[l.Jo,i.formData.alamatkantor]])]),(0,n.Lk)("div",zi,[e[18]||(e[18]=(0,n.Lk)("label",{class:"form-label"},"Kode Pos",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.kodepos=a),placeholder:"Masukkan kode pos kantor desa",required:""},null,512),[[l.Jo,i.formData.kodepos]])])]),(0,n.Lk)("div",Zi,[e[19]||(e[19]=(0,n.Lk)("label",{class:"form-label"},"Koordinat",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.koordinat=a),placeholder:"Masukkan koordinat kantor desa",required:""},null,512),[[l.Jo,i.formData.koordinat]])]),(0,n.Lk)("div",al,[(0,n.Lk)("div",el,[e[20]||(e[20]=(0,n.Lk)("label",{class:"form-label"},"Email Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>i.formData.email=a),placeholder:"Masukkan email desa",required:""},null,512),[[l.Jo,i.formData.email]])]),(0,n.Lk)("div",tl,[e[21]||(e[21]=(0,n.Lk)("label",{class:"form-label"},"Website",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=a=>i.formData.website=a),placeholder:"Masukkan website desa",required:""},null,512),[[l.Jo,i.formData.website]])])]),(0,n.Lk)("div",sl,[(0,n.Lk)("div",il,[e[22]||(e[22]=(0,n.Lk)("label",{class:"form-label"},"Upload Logo",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[7]||(e[7]=a=>o.handleFileUpload(a,"logo"))},null,32),i.logoPreview?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.logoPreview,alt:"Logo Preview",class:"image-preview mt-2"},null,8,ll)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",nl,[e[23]||(e[23]=(0,n.Lk)("label",{class:"form-label"},"Upload Foto Kantor",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[8]||(e[8]=a=>o.handleFileUpload(a,"foto"))},null,32),i.fotoPreview?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.fotoPreview,alt:"Foto Preview",class:"image-preview mt-2"},null,8,ol)):(0,n.Q3)("",!0)])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.textareaFields,(a,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"mb-3",key:e},[(0,n.Lk)("label",{for:e,class:"form-label"},(0,k.v_)(a.label),9,rl),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:e,rows:a.rows,"onUpdate:modelValue":a=>i.formData[e]=a},null,8,cl),[[l.Jo,i.formData[e]]])]))),128)),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",dl,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ul,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[10]||(e[10]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[11]||(e[11]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",kl)):((0,n.uX)(),(0,n.CE)("span",hl,"Simpan"))],8,ml)])])]),i.isRegionSelectorVisible?((0,n.uX)(),(0,n.CE)("div",gl,[(0,n.Lk)("div",pl,[(0,n.Lk)("div",bl,[e[24]||(e[24]=(0,n.Lk)("h5",{class:"modal-title"},"Pilih Wilayah",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[14]||(e[14]=(...a)=>o.closeRegionSelector&&o.closeRegionSelector(...a))})]),(0,n.Lk)("div",fl,[(0,n.bF)(r,{onRegionSelected:o.handleRegionSelection},null,8,["onRegionSelected"])])])])):(0,n.Q3)("",!0)])}const yl={class:"col-sm-12"},vl={class:"card"},Cl={class:"card-body"},Pl={class:"border p-3 mb-3 rounded filter-section"},El={class:"row g-3"},Dl={class:"col-md-4"},Ml={class:"col-md-4"},wl={class:"d-flex justify-content-end gap-2 mt-3"},Fl={class:"table-responsive signal-table"},Xl={class:"table table-hover"},xl={key:0,class:"fa fa-sort-asc"},Tl={key:1,class:"fa fa-sort-desc"},Sl={key:2,class:"fa fa-sort"},Bl={key:0,class:"fa fa-sort-asc"},Al={key:1,class:"fa fa-sort-desc"},_l={key:2,class:"fa fa-sort"},jl={key:0},Vl={scope:"row"},Il=["onClick"],Nl={key:2},Ul={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},Rl={class:"mt-2"},Ql={key:0,class:"text-muted"},Wl={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},Ol={class:"pagination mb-0"},Kl={key:0,class:"page-item"},$l={key:1,class:"page-item disabled"},Gl=["onClick"],Jl={key:2,class:"page-item disabled"},ql={key:3,class:"page-item"};function Hl(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",yl,[(0,n.Lk)("div",vl,[e[30]||(e[30]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Pilih Wilayah Desa")],-1)),(0,n.Lk)("div",Cl,[(0,n.Lk)("div",Pl,[(0,n.Lk)("div",El,[(0,n.Lk)("div",Dl,[e[12]||(e[12]=(0,n.Lk)("label",{for:"filterCode",class:"form-label"},"Kode Wilayah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterCode",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=a=>i.filters.region_code=a),placeholder:"Filter berdasarkan kode...",onKeyup:e[1]||(e[1]=(0,l.jR)((...a)=>o.applyFilters&&o.applyFilters(...a),["enter"]))},null,544),[[l.Jo,i.filters.region_code]])]),(0,n.Lk)("div",Ml,[e[13]||(e[13]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Wilayah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.region_name=a),placeholder:"Filter berdasarkan nama...",onKeyup:e[3]||(e[3]=(0,l.jR)((...a)=>o.applyFilters&&o.applyFilters(...a),["enter"]))},null,544),[[l.Jo,i.filters.region_name]])])]),(0,n.Lk)("div",wl,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[14]||(e[14]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[15]||(e[15]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])]),(0,n.Lk)("div",Fl,[(0,n.Lk)("table",Xl,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[18]||(e[18]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[6]||(e[6]=a=>o.sortBy("region_code"))},[e[16]||(e[16]=(0,n.eW)(" Kode Wilayah ")),"region_code"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xl)):"region_code"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Tl)):((0,n.uX)(),(0,n.CE)("i",Sl))]),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("region_name"))},[e[17]||(e[17]=(0,n.eW)(" Nama Wilayah ")),"region_name"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Bl)):"region_name"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Al)):((0,n.uX)(),(0,n.CE)("i",_l))]),e[19]||(e[19]=(0,n.Lk)("th",{scope:"col"},"Tipe",-1)),e[20]||(e[20]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",jl,e[21]||(e[21]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")])],-1)]))):o.paginatedRegions.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:1},(0,n.pI)(o.paginatedRegions,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.region_id},[(0,n.Lk)("th",Vl,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.region_code),1),(0,n.Lk)("td",null,(0,k.v_)(a.region_name),1),(0,n.Lk)("td",null,(0,k.v_)(a.region_type),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-success btn-sm",onClick:e=>o.selectRegion(a)},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-check me-1"},null,-1),(0,n.eW)(" Pilih ")]),8,Il)])]))),128)):((0,n.uX)(),(0,n.CE)("tr",Nl,e[23]||(e[23]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)])))])]),(0,n.Lk)("div",Ul,[(0,n.Lk)("div",Rl,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",Ql,[e[24]||(e[24]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[25]||(e[25]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[26]||(e[26]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[27]||(e[27]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",Wl,[(0,n.Lk)("ul",Ol,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Kl,[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",$l,e[28]||(e[28]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,Gl)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",Jl,e[29]||(e[29]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",ql,[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}t(1701);const Yl=(a={})=>Mi.get("",{params:{act:"regions",...a}}),zl=a=>a?Mi.get("",{params:{act:"regions",key:a}}):Promise.reject(new Error("ID Region tidak disediakan.")),Zl=a=>Mi.post("",{act:"regions",record:a}),an=(a,e)=>a?Mi.put("",{act:"regions",key:a,record:e}):Promise.reject(new Error("ID Region tidak tersedia.")),en=a=>a?Mi.delete("",{data:{act:"regions",key:a}}):Promise.reject(new Error("ID Region tidak tersedia."));var tn={emits:["region-selected"],data(){return{regions:[],sortColumn:"",sortDirection:"asc",currentPage:1,perPage:10,totalItems:0,isLoading:!1,filters:{region_code:"",region_name:""}}},computed:{paginatedRegions(){return this.regions},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchRegions()},perPage(){this.currentPage=1,this.fetchRegions()}},async mounted(){await this.fetchRegions()},methods:{selectRegion(a){const e={id:a.region_id,name:a.region_name};this.$emit("region-selected",e)},async fetchRegions(){this.isLoading=!0;try{const a={page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:""},e=Object.entries(this.filters).filter(([,a])=>a&&""!==a.trim()).map(([a,e])=>`${a}=${e.trim()}`),t="region_type=D",s=[t,...e];s.length>0&&(a.filter=s.join(","));const i=await Yl(a),l=i.data?.data||i.data?.[0]?.data||[],n=i.data?.meta?.pagination||i.data?.[0]?.meta?.pagination||{};this.regions=l,this.totalItems=n.total||l.length}catch(a){console.error("Error fetching regions:",a)}finally{this.isLoading=!1}},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchRegions()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},applyFilters(){this.currentPage=1,this.fetchRegions()},resetFilters(){this.filters.region_code="",this.filters.region_name="",this.currentPage=1,this.sortColumn="region_code",this.sortDirection="asc",this.fetchRegions()}}};const sn=(0,r.A)(tn,[["render",Hl],["__scopeId","data-v-ea1ede56"]]);var ln=sn,nn=t(7411);const on={idwilayah:"",logo:"",foto:"",alamatkantor:"",koordinat:"",email:"",website:"",kodepos:"",sejarah:"",profildesa:"",profilmasyarakat:"",profilpotensi:"",visimisi:"",sambutankepaladesa:""};var rn={name:"addEditProfilDesaModal",components:{FilterRegions:ln},props:{profileToEdit:{type:Object,default:null}},data(){return{formData:{...on},selectedLogoFile:null,selectedFotoFile:null,logoPreview:null,fotoPreview:null,isLoading:!1,errorMessage:null,toast:(0,nn.dj)(),isRegionSelectorVisible:!1,selectedRegionName:"",textareaFields:{sambutankepaladesa:{label:"Sambutan Kepala Desa",rows:3},sejarah:{label:"Sejarah Desa",rows:4},visimisi:{label:"Visi & Misi",rows:4},profildesa:{label:"Profil Umum Desa",rows:3},profilmasyarakat:{label:"Profil Masyarakat",rows:3},profilpotensi:{label:"Profil Potensi Desa",rows:3}}}},computed:{isEditMode(){return!!this.profileToEdit}},watch:{profileToEdit:{handler(a){a?(this.formData={...on,...a},this.logoPreview=a.logo||null,this.fotoPreview=a.foto||null,this.selectedLogoFile=null,this.selectedFotoFile=null,this.formData.idwilayah&&this.fetchRegionNameById(this.formData.idwilayah)):(this.formData={...on},this.selectedRegionName="",this.selectedLogoFile=null,this.selectedFotoFile=null,this.logoPreview=null,this.fotoPreview=null),this.errorMessage=null},immediate:!0,deep:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},openRegionSelector(){this.isRegionSelectorVisible=!0},closeRegionSelector(){this.isRegionSelectorVisible=!1},handleRegionSelection(a){this.formData.idwilayah=a.id,this.selectedRegionName=a.name,this.closeRegionSelector()},handleFileUpload(a,e){const t=a.target.files[0];t?(console.log("File yang dipilih:",t),"logo"===e?(this.selectedLogoFile=t,this.logoPreview=URL.createObjectURL(t)):"foto"===e&&(this.selectedFotoFile=t,this.fotoPreview=URL.createObjectURL(t))):console.log("Tidak ada file yang dipilih")},async fetchRegionNameById(a){if(a)try{const e=await zl(a),t=e.data?.[0]?.data?.[0]||null;t&&t.region_name?this.selectedRegionName=t.region_name:this.selectedRegionName="Nama wilayah tidak ditemukan"}catch(e){this.selectedRegionName="Gagal memuat nama wilayah"}else this.selectedRegionName="Wilayah tidak ditemukan"},async submitForm(){if(this.errorMessage=null,!this.formData.idwilayah||!this.formData.alamatkantor)return void(this.errorMessage="Nama Desa (Wilayah) dan Alamat Kantor wajib diisi.");this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("act","profil-desa"),this.selectedLogoFile?a.append("upload_logo",this.selectedLogoFile):this.formData.logo&&a.append("record[logo]",this.formData.logo),this.selectedFotoFile?a.append("upload_foto",this.selectedFotoFile):this.formData.foto&&a.append("record[foto]",this.formData.foto);const e={...this.formData};delete e.logo,delete e.foto,delete e.wilayah,Object.keys(e).forEach(t=>{const s=e[t];null!==s&&void 0!==s&&""!==s&&a.append(`record[${t}]`,s)});try{this.isEditMode?(a.append("_method","PUT"),await xi(this.profileToEdit.iddesa,a),this.toast.success("Data profil desa berhasil diperbarui.")):(await Xi(a),this.toast.success("Data profil desa berhasil ditambah.")),this.$emit("save-successful"),this.closeModal()}catch(t){this.errorMessage=t.response?.data?.failed||t.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi.",this.toast.error("Gagal menyimpan data profil desa.")}finally{this.isLoading=!1}}}};const cn=(0,r.A)(rn,[["render",Ll],["__scopeId","data-v-0a5ba586"]]);var dn=cn;const un={class:"modal-header"},mn={class:"modal-body"},kn={key:0,class:"text-center p-5"},hn={key:1,class:"text-center p-5 text-danger"},gn={key:0,class:"text-muted"},pn={key:2,class:"profile-container"},bn={class:"text-center mb-4"},fn=["src"],Ln={key:1,src:"https://placehold.co/150x150/EBF4FF/7F9CF5?text=Logo",alt:"Logo Default",class:"logo-desa"},yn={class:"nama-desa mt-3"},vn={class:"alamat-desa"},Cn={key:0},Pn={class:"row detail-section"},En={class:"col-md-4"},Dn={class:"col-md-4"},Mn={class:"col-md-4"},wn={class:"detail-section"},Fn={class:"text-content"},Xn={class:"detail-section"},xn={class:"text-content"},Tn={class:"detail-section"},Sn={class:"text-content"},Bn={class:"detail-section"},An={class:"text-content"},_n={class:"detail-section"},jn={class:"text-content"},Vn={class:"detail-section"},In={class:"text-content"},Nn={class:"detail-section"},Un=["src"],Rn={key:1,style:{display:"none"}},Qn={key:2},Wn={class:"detail-section"},On={key:0,class:"text-center p-3"},Kn={key:1,class:"table-responsive"},$n={class:"table table-bordered table-striped struktur-wilayah-table"},Gn={key:0},Jn={class:"text-muted small"},qn={key:1},Hn={key:2},Yn={key:0,class:"text-muted small"},zn={key:3},Zn={key:0,class:"text-muted small"},ao={key:2,class:"text-muted"},eo={class:"modal-footer"};function to(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[2]||(e[2]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",un,[e[4]||(e[4]=(0,n.Lk)("h5",{class:"modal-title"},"Detail Profil Desa",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",mn,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",kn,e[5]||(e[5]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...",-1)]))):i.error?((0,n.uX)(),(0,n.CE)("div",hn,[e[6]||(e[6]=(0,n.Lk)("i",{class:"fa fa-exclamation-triangle fa-3x mb-3"},null,-1)),e[7]||(e[7]=(0,n.Lk)("h4",null,"Terjadi Kesalahan",-1)),(0,n.Lk)("p",null,(0,k.v_)(i.error),1),i.debugMessage?((0,n.uX)(),(0,n.CE)("small",gn,"Detail: "+(0,k.v_)(i.debugMessage),1)):(0,n.Q3)("",!0)])):i.profile?((0,n.uX)(),(0,n.CE)("div",pn,[(0,n.Lk)("div",bn,[i.profile.logo?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.profile.logo,alt:"Logo Desa",class:"logo-desa",onerror:"this.src='https://placehold.co/150x150/EBF4FF/7F9CF5?text=Logo'"},null,8,fn)):((0,n.uX)(),(0,n.CE)("img",Ln)),(0,n.Lk)("h2",yn,(0,k.v_)(i.profile.namawilayah||"Nama Desa Belum Diatur"),1),(0,n.Lk)("p",vn,[(0,n.eW)((0,k.v_)(i.profile.alamatkantor||"Alamat belum diatur")+" ",1),i.profile.kodepos?((0,n.uX)(),(0,n.CE)("span",Cn,", Kode Pos "+(0,k.v_)(i.profile.kodepos),1)):(0,n.Q3)("",!0)])]),e[21]||(e[21]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",Pn,[(0,n.Lk)("div",En,[e[8]||(e[8]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-envelope me-2"}),(0,n.eW)("Email")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.profile.email||"-"),1)]),(0,n.Lk)("div",Dn,[e[9]||(e[9]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-globe me-2"}),(0,n.eW)("Website")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.profile.website||"-"),1)]),(0,n.Lk)("div",Mn,[e[10]||(e[10]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-map-marker me-2"}),(0,n.eW)("Koordinat")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.profile.koordinat||"-"),1)])]),e[22]||(e[22]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",wn,[e[11]||(e[11]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-user me-2"}),(0,n.eW)("Sambutan Kepala Desa")],-1)),(0,n.Lk)("p",Fn,(0,k.v_)(i.profile.sambutankepaladesa||"Tidak ada data."),1)]),(0,n.Lk)("div",Xn,[e[12]||(e[12]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-bullseye me-2"}),(0,n.eW)("Visi & Misi")],-1)),(0,n.Lk)("p",xn,(0,k.v_)(i.profile.visimisi||"Tidak ada data."),1)]),(0,n.Lk)("div",Tn,[e[13]||(e[13]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-book me-2"}),(0,n.eW)("Sejarah Desa")],-1)),(0,n.Lk)("p",Sn,(0,k.v_)(i.profile.sejarah||"Tidak ada data."),1)]),(0,n.Lk)("div",Bn,[e[14]||(e[14]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-info-circle me-2"}),(0,n.eW)("Profil Umum Desa")],-1)),(0,n.Lk)("p",An,(0,k.v_)(i.profile.profildesa||"Tidak ada data."),1)]),(0,n.Lk)("div",_n,[e[15]||(e[15]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-users me-2"}),(0,n.eW)("Profil Masyarakat")],-1)),(0,n.Lk)("p",jn,(0,k.v_)(i.profile.profilmasyarakat||"Tidak ada data."),1)]),(0,n.Lk)("div",Vn,[e[16]||(e[16]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-lightbulb-o me-2"}),(0,n.eW)("Profil Potensi Desa")],-1)),(0,n.Lk)("p",In,(0,k.v_)(i.profile.profilpotensi||"Tidak ada data."),1)]),(0,n.Lk)("div",Nn,[e[17]||(e[17]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-image me-2"}),(0,n.eW)("Foto Kantor Desa")],-1)),i.profile.foto?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.profile.foto,alt:"Foto Kantor Desa",class:"kantor-foto",onerror:"this.style.display='none'; this.nextElementSibling.style.display='block'"},null,8,Un)):((0,n.uX)(),(0,n.CE)("p",Rn,"Tidak ada foto.")),i.profile.foto?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("p",Qn,"Tidak ada foto."))]),(0,n.Lk)("div",Wn,[e[20]||(e[20]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-sitemap me-2"}),(0,n.eW)("Struktur Wilayah")],-1)),i.isStrukturLoading?((0,n.uX)(),(0,n.CE)("div",On,e[18]||(e[18]=[(0,n.Lk)("div",{class:"spinner-border spinner-border-sm text-primary",role:"status"},null,-1),(0,n.Lk)("p",{class:"mt-2 mb-0"},"Memuat struktur wilayah...",-1)]))):o.flatWilayahList.length>0?((0,n.uX)(),(0,n.CE)("div",Kn,[(0,n.Lk)("table",$n,[e[19]||(e[19]=(0,n.Lk)("thead",{class:"table-light"},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{style:{width:"35%"}},"Nama Dusun"),(0,n.Lk)("th",{style:{width:"25%"}},"Nama RW"),(0,n.Lk)("th",{style:{width:"25%"}},"Nama RT")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.flatWilayahList,(a,e)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.id},[0===e||a.namaDusun!==o.flatWilayahList[e-1].namaDusun?((0,n.uX)(),(0,n.CE)("td",Gn,[(0,n.Lk)("strong",null,(0,k.v_)(a.namaDusun),1),(0,n.Lk)("div",Jn,"Kepala: "+(0,k.v_)(a.kepalaDusun),1)])):((0,n.uX)(),(0,n.CE)("td",qn)),0===e||a.namaRw!==o.flatWilayahList[e-1].namaRw||a.namaDusun!==o.flatWilayahList[e-1].namaDusun?((0,n.uX)(),(0,n.CE)("td",Hn,[(0,n.eW)((0,k.v_)(a.namaRw)+" ",1),"-"!==a.namaRw?((0,n.uX)(),(0,n.CE)("div",Yn,"Ketua: "+(0,k.v_)(a.ketuaRw),1)):(0,n.Q3)("",!0)])):((0,n.uX)(),(0,n.CE)("td",zn)),(0,n.Lk)("td",null,[(0,n.eW)((0,k.v_)(a.namaRt)+" ",1),"-"!==a.namaRt?((0,n.uX)(),(0,n.CE)("div",Zn,"Ketua: "+(0,k.v_)(a.ketuaRt),1)):(0,n.Q3)("",!0)])]))),128))])])])):((0,n.uX)(),(0,n.CE)("p",ao,"Data struktur wilayah tidak tersedia."))]),(0,n.Lk)("div",eo,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...a)=>o.closeModal&&o.closeModal(...a))},"Tutup")])])):(0,n.Q3)("",!0)])])])}var so={name:"DetailProfileModal",props:{profileToView:{type:Object,required:!0}},emits:["close"],data(){return{profile:null,isLoading:!1,error:null,debugMessage:"",strukturWilayah:[],isStrukturLoading:!1}},methods:{closeModal(){this.$emit("close")},async fetchProfile(){const a=this.profileToView?.iddesa;if(a){this.isLoading=!0,this.error=null,this.debugMessage="";try{const e=await Fi(a),t=e.data;if(t&&t.length>0&&t[0].data&&t[0].data.length>0){const e=t[0].data[0];this.profile={...e,...e.wilayah},this.fetchStrukturWilayah(a)}else this.error="Data profil tidak ditemukan atau format respons tidak sesuai.",this.debugMessage=`Struktur data yang diterima: ${JSON.stringify(t)}`}catch(e){console.error("Gagal mengambil detail profil:",e),this.error=e.message||"Terjadi kesalahan saat memuat data.",e.response&&(this.debugMessage=`Status: ${e.response.status} - Data: ${JSON.stringify(e.response.data)}`)}finally{this.isLoading=!1}}else this.error="ID profile desa tidak valid atau tidak tersedia."},async fetchStrukturWilayah(a){this.isStrukturLoading=!0;try{const e=await Si({filter:`iddesa=${a}`,limit:-1}),t=e.data?.data||e.data?.[0]?.data||[];this.strukturWilayah=await Promise.all(t.map(async a=>{const e=await ji({filter:`iddusun=${a.iddusun}`,limit:-1}),t=e.data?.data||e.data?.[0]?.data||[],s=await Promise.all(t.map(async a=>{const e=await Ui({filter:`idrw=${a.idrw}`,limit:-1}),t=e.data?.data||e.data?.[0]?.data||[];return{...a,rts:t}}));return{...a,rws:s}}))}catch(e){console.error("Gagal memuat struktur wilayah:",e)}finally{this.isStrukturLoading=!1}}},mounted(){this.fetchProfile()},computed:{flatWilayahList(){const a=[];return this.strukturWilayah?(this.strukturWilayah.forEach(e=>{e.rws&&e.rws.length>0?e.rws.forEach(t=>{t.rts&&t.rts.length>0?t.rts.forEach(s=>{a.push({id:s.idrt,namaDusun:e.namadusun,kepalaDusun:e.kadus?.namakepaladusun||"-",namaRw:t.namarw,ketuaRw:t.ketuarw?.namaketuarw||"-",namaRt:s.namart,ketuaRt:s.ketuart?.namaketuart||"-"})}):a.push({id:`rw-${t.idrw}`,namaDusun:e.namadusun,kepalaDusun:e.kadus?.namakepaladusun||"-",namaRw:t.namarw,ketuaRw:t.ketuarw?.namaketuarw||"-",namaRt:"-",ketuaRt:"-"})}):a.push({id:`dusun-${e.iddusun}`,namaDusun:e.namadusun,kepalaDusun:e.penduduk?.nama||"-",namaRw:"-",ketuaRw:"-",namaRt:"-",ketuaRt:"-"})}),a):[]}},watch:{profileToView:{handler(a,e){a?.iddesa!==e?.iddesa&&this.fetchProfile()},deep:!0}}};const io=(0,r.A)(so,[["render",to],["__scopeId","data-v-3d69035c"]]);var lo=io;const no={class:"modal-header"},oo={class:"modal-title"},ro={class:"modal-body"},co={key:0,class:"alert alert-danger"},uo={class:"mb-3"},mo=["value"],ko={class:"mb-3"},ho={class:"mb-3"},go=["disabled"],po={disabled:"",value:""},bo=["value"],fo={class:"modal-footer"},Lo=["disabled"],yo={key:0,class:"spinner-border spinner-border-sm"},vo={key:1};function Co(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[7]||(e[7]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[6]||(e[6]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",no,[(0,n.Lk)("h5",oo,(0,k.v_)(o.isEditMode?"Edit Data Dusun":"Tambah Data Dusun"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a))})]),(0,n.Lk)("div",ro,[i.errorMessage?((0,n.uX)(),(0,n.CE)("div",co,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0),(0,n.Lk)("form",{onSubmit:e[3]||(e[3]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",uo,[e[8]||(e[8]=(0,n.Lk)("label",{for:"namawilayah",class:"form-label"},"Nama Desa",-1)),(0,n.Lk)("input",{type:"text",id:"namawilayah",class:"form-control",value:t.profileData?.wilayah?.namawilayah,disabled:"",readonly:""},null,8,mo)]),(0,n.Lk)("div",ko,[e[9]||(e[9]=(0,n.Lk)("label",{for:"namadusun",class:"form-label"},"Nama Dusun",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"namadusun",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namadusun=a),placeholder:"Masukkan nama dusun",required:""},null,512),[[l.Jo,i.formData.namadusun]])]),(0,n.Lk)("div",ho,[e[10]||(e[10]=(0,n.Lk)("label",{for:"idpenduduk",class:"form-label"},"Nama Kepala Dusun",-1)),(0,n.bo)((0,n.Lk)("select",{id:"idpenduduk",class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.idpenduduk=a),disabled:i.isLoading},[(0,n.Lk)("option",po,(0,k.v_)(o.filteredResidents.length>0?"Pilih Kepala Dusun":"Tidak ada penduduk di desa ini"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.filteredResidents,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idpenduduk,value:a.idpenduduk},(0,k.v_)(a.nama)+") ",9,bo))),128))],8,go),[[l.u1,i.formData.idpenduduk]])])],32)]),(0,n.Lk)("div",fo,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",yo)):((0,n.uX)(),(0,n.CE)("span",vo,"Simpan"))],8,Lo)])])])}const Po=(a={})=>Mi.get("",{params:{act:"penduduk",...a}}),Eo=a=>a?Mi.get("",{params:{act:"penduduk",key:a}}):Promise.reject(new Error("ID penduduk tidak tersedia.")),Do=a=>(a.append("act","penduduk"),Mi.post("",a)),Mo=(a,e)=>a?(e.append("act","penduduk"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID penduduk tidak tersedia.")),wo=a=>a?Mi.delete("",{data:{act:"penduduk",key:a}}):Promise.reject(new Error("ID penduduk tidak tersedia.")),Fo={namadusun:"",idpenduduk:"",iddesa:null};var Xo={name:"AddEditDusunModal",props:{dusunToEdit:{type:Object,default:null},profileData:{type:Object,required:!0}},data(){return{formData:{...Fo},residents:[],isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.dusunToEdit},filteredResidents(){return this.profileData&&this.profileData.iddesa?this.residents.filter(a=>a.dusun&&a.dusun.iddesa===this.profileData.iddesa):[]}},watch:{dusunToEdit:{handler(a){a?(this.formData.namadusun=a.namadusun,this.formData.idpenduduk=a.idpenduduk,this.formData.iddesa=a.iddesa):this.formData={...Fo},this.profileData&&(this.formData.iddesa=this.profileData.iddesa),this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchResidents()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchResidents(){this.isLoading=!0;try{const a=await Po({limit:-1});this.residents=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar penduduk")}finally{this.isLoading=!1}},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[iddesa]",this.formData.iddesa),a.append("record[namadusun]",this.formData.namadusun),a.append("record[idpenduduk]",this.formData.idpenduduk);try{this.isEditMode?(a.append("_method","PUT"),await Ai(this.dusunToEdit.iddusun,a),this.toast.success("Data dusun berhasil diperbarui")):(await Bi(a),this.toast.success("Data dusun berhasil ditambah")),this.$emit("save-successful"),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi.",this.toast.error("Gagal menyimpan data dusun")}finally{this.isLoading=!1}}}};const xo=(0,r.A)(Xo,[["render",Co],["__scopeId","data-v-2c226206"]]);var To=xo;const So={class:"modal-header"},Bo={class:"modal-title"},Ao={class:"modal-body"},_o={key:0,class:"alert alert-danger"},jo={class:"mb-3"},Vo=["value"],Io={class:"mb-3"},No={class:"mb-3"},Uo=["disabled"],Ro={disabled:"",value:""},Qo=["value"],Wo={class:"modal-footer"},Oo=["disabled"],Ko={key:0,class:"spinner-border spinner-border-sm"},$o={key:1};function Go(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[7]||(e[7]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[6]||(e[6]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",So,[(0,n.Lk)("h5",Bo,(0,k.v_)(o.isEditMode?"Edit Data RW":"Tambah Data RW"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a))})]),(0,n.Lk)("div",Ao,[i.errorMessage?((0,n.uX)(),(0,n.CE)("div",_o,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0),(0,n.Lk)("form",{onSubmit:e[3]||(e[3]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",jo,[e[8]||(e[8]=(0,n.Lk)("label",{for:"namadusun",class:"form-label"},"Nama Dusun",-1)),(0,n.Lk)("input",{type:"text",id:"namadusun",class:"form-control",value:t.dusunData?.namadusun,disabled:"",readonly:""},null,8,Vo)]),(0,n.Lk)("div",Io,[e[9]||(e[9]=(0,n.Lk)("label",{for:"namarw",class:"form-label"},"Nama RW",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"namarw",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namarw=a),placeholder:"Contoh: RW 001",required:""},null,512),[[l.Jo,i.formData.namarw]])]),(0,n.Lk)("div",No,[e[10]||(e[10]=(0,n.Lk)("label",{for:"idpenduduk",class:"form-label"},"Nama Ketua RW",-1)),(0,n.bo)((0,n.Lk)("select",{id:"idpenduduk",class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.idpenduduk=a),disabled:i.isLoading},[(0,n.Lk)("option",Ro,(0,k.v_)(o.filteredResidents.length>0?"Pilih Ketua RW":"Tidak ada penduduk di dusun ini"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.filteredResidents,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idpenduduk,value:a.idpenduduk},(0,k.v_)(a.nama),9,Qo))),128))],8,Uo),[[l.u1,i.formData.idpenduduk]])])],32)]),(0,n.Lk)("div",Wo,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.closeModal&&o.closeModal(...a))}," Batal "),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Ko)):((0,n.uX)(),(0,n.CE)("span",$o,"Simpan"))],8,Oo)])])])}const Jo={namarw:"",idpenduduk:"",iddusun:null};var qo={name:"AddEditRwModal",props:{rwToEdit:{type:Object,default:null},dusunData:{type:Object,required:!0}},data(){return{formData:{...Jo},residents:[],isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.rwToEdit},filteredResidents(){return this.dusunData&&this.dusunData.iddusun?this.residents.filter(a=>a.rw&&a.rw.iddusun===this.dusunData.iddusun):[]}},watch:{rwToEdit:{handler(a){a?(this.formData.namarw=a.namarw,this.formData.idpenduduk=a.idpenduduk,this.formData.iddusun=a.iddusun):this.formData={...Jo},this.dusunData&&(this.formData.iddusun=this.dusunData.iddusun),this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchResidents()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchResidents(){this.isLoading=!0;try{const a=await Po({limit:-1});this.residents=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar penduduk")}finally{this.isLoading=!1}},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[iddusun]",this.formData.iddusun),a.append("record[namarw]",this.formData.namarw),a.append("record[idpenduduk]",this.formData.idpenduduk);try{this.isEditMode?(a.append("_method","PUT"),await Ii(this.rwToEdit.idrw,a),this.toast.success("Data RW berhasil diperbarui")):(await Vi(a),this.toast.success("Data RW berhasil ditambah")),this.$emit("save-successful"),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi.",this.toast.error("Gagal menyimpan data RW")}finally{this.isLoading=!1}}}};const Ho=(0,r.A)(qo,[["render",Go],["__scopeId","data-v-05bce8f3"]]);var Yo=Ho;const zo={class:"modal-header"},Zo={class:"modal-title"},ar={class:"modal-body"},er={key:0,class:"alert alert-danger"},tr={class:"mb-3"},sr=["value"],ir={class:"mb-3"},lr={class:"mb-3"},nr=["disabled"],or={disabled:"",value:""},rr=["value"],cr={class:"modal-footer"},dr=["disabled"],ur={key:0,class:"spinner-border spinner-border-sm"},mr={key:1};function kr(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[7]||(e[7]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[6]||(e[6]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",zo,[(0,n.Lk)("h5",Zo,(0,k.v_)(o.isEditMode?"Edit Data RT":"Tambah Data RT"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a))})]),(0,n.Lk)("div",ar,[i.errorMessage?((0,n.uX)(),(0,n.CE)("div",er,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0),(0,n.Lk)("form",{onSubmit:e[3]||(e[3]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",tr,[e[8]||(e[8]=(0,n.Lk)("label",{for:"namarw",class:"form-label"},"Nama RW",-1)),(0,n.Lk)("input",{type:"text",id:"namarw",class:"form-control",value:t.rwData?.namarw,disabled:"",readonly:""},null,8,sr)]),(0,n.Lk)("div",ir,[e[9]||(e[9]=(0,n.Lk)("label",{for:"namart",class:"form-label"},"Nama RT",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"namart",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namart=a),placeholder:"Contoh: RT 001",required:""},null,512),[[l.Jo,i.formData.namart]])]),(0,n.Lk)("div",lr,[e[10]||(e[10]=(0,n.Lk)("label",{for:"idpenduduk",class:"form-label"},"Nama Ketua RT",-1)),(0,n.bo)((0,n.Lk)("select",{id:"idpenduduk",class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.idpenduduk=a),disabled:i.isLoading},[(0,n.Lk)("option",or,(0,k.v_)(o.filteredResidents.length>0?"Pilih Ketua RT":"Tidak ada penduduk di RT ini"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.filteredResidents,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idpenduduk,value:a.idpenduduk},(0,k.v_)(a.nama),9,rr))),128))],8,nr),[[l.u1,i.formData.idpenduduk]])])],32)]),(0,n.Lk)("div",cr,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.closeModal&&o.closeModal(...a))}," Batal "),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",ur)):((0,n.uX)(),(0,n.CE)("span",mr,"Simpan"))],8,dr)])])])}const hr={namart:"",idpenduduk:"",idrw:null};var gr={name:"AddEditRtModal",props:{rtToEdit:{type:Object,default:null},rwData:{type:Object,required:!0}},data(){return{formData:{...hr},residents:[],isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.rtToEdit},filteredResidents(){return this.rwData&&this.rwData.idrw?this.residents.filter(a=>a.rt&&a.rt.idrw===this.rwData.idrw):[]}},watch:{rtToEdit:{handler(a){a?(this.formData.namart=a.namart,this.formData.idpenduduk=a.idpenduduk):this.formData={...hr},this.rwData&&(this.formData.idrw=this.rwData.idrw),this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchResidents()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchResidents(){this.isLoading=!0;try{const a=await Po({limit:-1});this.residents=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar penduduk.")}finally{this.isLoading=!1}},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[idrw]",this.formData.idrw),a.append("record[namart]",this.formData.namart),a.append("record[idpenduduk]",this.formData.idpenduduk);try{this.isEditMode?(a.append("_method","PUT"),await Qi(this.rtToEdit.idrt,a),this.toast.success("Data RT berhasil diperbarui")):(await Ri(a),this.toast.success("Data RT berhasil ditambah")),this.$emit("save-successful"),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi.",this.toast.error("Gagal menyimpan data RT")}finally{this.isLoading=!1}}}};const pr=(0,r.A)(gr,[["render",kr],["__scopeId","data-v-e3de8b98"]]);var br=pr,fr={components:{AddEditProfileModal:dn,DetailProfileModal:lo,AddEditDusunModal:To,AddEditRwModal:Yo,AddEditRtModal:br},data(){return{profiles:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",currentPage:1,perPage:10,totalItems:0,isProfileModalVisible:!1,isDetailModalVisible:!1,isDusunModalVisible:!1,isRwModalVisible:!1,isRtModalVisible:!1,profileBeingEdited:null,profileBeingViewed:null,profileForDusun:null,dusunBeingEdited:null,dusunForRw:null,rwBeingEdited:null,rwForRt:null,rtBeingEdited:null,expanded:{desa:{},dusun:{},rw:{}},loading:{dusun:{},rw:{},rt:{}},subData:{dusun:{},rw:{},rt:{}},isFilterVisible:!1,filters:{namawilayah:"",alamatkantor:""}}},computed:{paginatedProfiles(){return this.profiles},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchProfiles()},perPage(){this.currentPage=1,this.fetchProfiles()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchProfiles()},methods:{async fetchProfiles(){this.isLoading=!0;try{const a={page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",filter:this.filters.namawilayah?`namawilayah=${this.filters.namawilayah}`:""},e=await wi(a),t=e.data?.data||e.data?.[0]?.data||[],s=e.data?.[0]?.meta?.pagination||{};this.profiles=t,this.totalItems=s.total||t.length}catch(a){this.toast.error("Gagal memuat data desa")}finally{this.isLoading=!1}},async fetchDusunForDesa(a){if(!this.subData.dusun[a]){this.loading.dusun[a]=!0;try{const e=await Si({filter:`iddesa=${a}`,limit:-1});this.subData.dusun[a]=e.data?.data||e.data?.[0]?.data||[]}catch(e){this.toast.error("Gagal memuat data dusun"),this.subData.dusun[a]=[]}finally{this.loading.dusun[a]=!1}}},async fetchRwForDusun(a){if(!this.subData.rw[a]){this.loading.rw[a]=!0;try{const e=await ji({filter:`iddusun=${a}`,limit:-1});this.subData.rw[a]=e.data?.data||e.data?.[0]?.data||[]}catch(e){this.toast.error("Gagal memuat data RW."),this.subData.rw[a]=[]}finally{this.loading.rw[a]=!1}}},toggleExpand(a,e){const t=a[`id${e}`];this.expanded[e][t]=!this.expanded[e][t],"desa"===e&&this.expanded.desa[t]&&this.fetchDusunForDesa(t),"dusun"===e&&this.expanded.dusun[t]&&this.fetchRwForDusun(t),"rw"===e&&this.expanded.rw[t]&&this.fetchRtForRw(t)},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchProfiles()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},openAddDusunModal(a){this.dusunBeingEdited=null,this.profileForDusun=a,this.isDusunModalVisible=!0},openEditDusunModal(a,e){this.dusunBeingEdited=a,this.profileForDusun=e,this.isDusunModalVisible=!0},closeDusunModal(){this.isDusunModalVisible=!1,this.dusunBeingEdited=null,this.profileForDusun=null},handleDusunSaveSuccessful(){const a=this.profileForDusun.iddesa;this.closeDusunModal(),delete this.subData.dusun[a],this.fetchDusunForDesa(a)},advancedDeleteDusunAlert(a,e){this.$swal({title:`Hapus Dusun ${a.namadusun}?`,text:"Data RW dan RT yang terkait juga akan terhapus. Aksi ini tidak dapat dibatalkan.",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async t=>{if(t.isConfirmed)try{await _i(a.iddusun),this.toast.success("Data dusun berhasil dihapus."),delete this.subData.dusun[e.iddesa],this.fetchDusunForDesa(e.iddesa)}catch(s){this.toast.error("Gagal menghapus data dusun.")}})},openAddProfileModal(){this.profileBeingEdited=null,this.isProfileModalVisible=!0},openEditProfileModal(a){this.profileBeingEdited=a,this.isProfileModalVisible=!0},closeProfileModal(){this.isProfileModalVisible=!1},handleProfileSaveSuccessful(){this.closeProfileModal(),this.fetchProfiles()},openDetailModal(a){this.profileBeingViewed={...a},this.isDetailModalVisible=!0},closeDetailModal(){this.isDetailModalVisible=!1},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Profil Desa",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Ti(a),this.fetchProfiles(),this.toast.success("Data profil desa berhasil dihapus.")}catch(t){this.toast.error("Gagal menghapus data profil desa.")}})},openAddRwModal(a){this.rwBeingEdited=null,this.dusunForRw=a,this.isRwModalVisible=!0},openEditRwModal(a,e){this.rwBeingEdited=a,this.dusunForRw=e,this.isRwModalVisible=!0},closeRwModal(){this.isRwModalVisible=!1,this.rwBeingEdited=null,this.dusunForRw=null},handleRwSaveSuccessful(){const a=this.dusunForRw.iddusun;this.closeRwModal(),delete this.subData.rw[a],this.fetchRwForDusun(a)},advancedDeleteRwAlert(a,e){this.$swal({title:`Hapus ${a.namarw}?`,text:"Data RT yang terkait juga akan terhapus. Aksi ini tidak dapat dibatalkan.",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async t=>{if(t.isConfirmed)try{await Ni(a.idrw),this.toast.success("Data RW berhasil dihapus."),delete this.subData.rw[e.iddusun],this.fetchRwForDusun(e.iddusun)}catch(s){this.toast.error("Gagal menghapus data RW.")}})},openAddRtModal(a){this.rtBeingEdited=null,this.rwForRt=a,this.isRtModalVisible=!0},openEditRtModal(a,e){this.rtBeingEdited=a,this.rwForRt=e,this.isRtModalVisible=!0},closeRtModal(){this.isRtModalVisible=!1,this.rtBeingEdited=null,this.rwForRt=null},handleRtSaveSuccessful(){const a=this.rwForRt.idrw;this.closeRtModal(),delete this.subData.rt[a],this.fetchRtForRw(a)},async fetchRtForRw(a){if(!this.subData.rt[a]){this.loading.rt[a]=!0;try{const e=await Ui({filter:`idrw=${a}`,limit:-1});this.subData.rt[a]=e.data?.data||e.data?.[0]?.data||[]}catch(e){this.toast.error("Gagal memuat data RT."),this.subData.rt[a]=[]}finally{this.loading.rt[a]=!1}}},advancedDeleteRtAlert(a,e){this.$swal({title:`Hapus ${a.namart}?`,text:"Aksi ini tidak dapat dibatalkan.",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async t=>{if(t.isConfirmed)try{await Wi(a.idrt),this.toast.success("Data RT berhasil dihapus"),delete this.subData.rt[e.idrw],this.fetchRtForRw(e.idrw)}catch(s){this.toast.error("Gagal menghapus data RT")}})},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchProfiles()},resetFilters(){this.filters.namawilayah="",this.filters.alamatkantor="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchProfiles()}}};const Lr=(0,r.A)(fr,[["render",vi],["__scopeId","data-v-478fa9e9"]]);var yr=Lr,vr={components:{ProfilesTable:yr}};const Cr=(0,r.A)(vr,[["render",ss]]);var Pr=Cr;const Er={class:"container-fluid"},Dr={class:"row"};function Mr(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("OfficialsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Pemerintahan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",Er,[(0,n.Lk)("div",Dr,[(0,n.bF)(r)])])])}const wr={class:"col-sm-12"},Fr={class:"card"},Xr={class:"card-body"},xr={class:"d-flex justify-content-end align-items-start mb-3"},Tr={class:"d-flex gap-2"},Sr={key:0,class:"fa fa-angle-up me-2"},Br={key:1,class:"fa fa-angle-down me-2"},Ar={key:0,class:"border p-3 mb-3 rounded filter-section"},_r={class:"row g-3"},jr={class:"col-md-3"},Vr={class:"col-md-3"},Ir={class:"col-md-3"},Nr={class:"col-md-3"},Ur=["value"],Rr={class:"d-flex justify-content-end gap-2 mt-3"},Qr={class:"table-responsive signal-table"},Wr={class:"table table-hover"},Or={key:0,class:"fa fa-sort-asc"},Kr={key:1,class:"fa fa-sort-desc"},$r={key:2,class:"fa fa-sort"},Gr={key:0,class:"fa fa-sort-asc"},Jr={key:1,class:"fa fa-sort-desc"},qr={key:2,class:"fa fa-sort"},Hr={key:0,class:"fa fa-sort-asc"},Yr={key:1,class:"fa fa-sort-desc"},zr={key:2,class:"fa fa-sort"},Zr={key:0,class:"fa fa-sort-asc"},ac={key:1,class:"fa fa-sort-desc"},ec={key:2,class:"fa fa-sort"},tc={key:0},sc={scope:"row"},ic={class:"btn-group"},lc=["onClick"],nc=["onClick"],oc={key:0},rc={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},cc={class:"mt-2"},dc={key:0,class:"text-muted"},uc={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},mc={class:"pagination mb-0"},kc={key:0,class:"page-item"},hc={key:1,class:"page-item disabled"},gc=["onClick"],pc={key:2,class:"page-item disabled"},bc={key:3,class:"page-item"};function fc(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-official-modal");return(0,n.uX)(),(0,n.CE)("div",wr,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"official-to-edit":i.officialBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["official-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Fr,[e[41]||(e[41]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Perangkat Desa")],-1)),(0,n.Lk)("div",Xr,[(0,n.Lk)("div",xr,[(0,n.Lk)("div",Tr,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Sr)):((0,n.uX)(),(0,n.CE)("i",Br)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Ar,[(0,n.Lk)("div",_r,[(0,n.Lk)("div",jr,[e[17]||(e[17]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])]),(0,n.Lk)("div",Vr,[e[18]||(e[18]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Pengurus",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.namapengurus=a),placeholder:"Filter berdasarkan nama pengurus"},null,512),[[l.Jo,i.filters.namapengurus]])]),(0,n.Lk)("div",Ir,[e[19]||(e[19]=(0,n.Lk)("label",{for:"filterPosition",class:"form-label"},"Jabatan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterPosition",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.namajabatan=a),placeholder:"Filter berdasarkan jabatan"},null,512),[[l.Jo,i.filters.namajabatan]])]),(0,n.Lk)("div",Nr,[e[21]||(e[21]=(0,n.Lk)("label",{for:"filterStatus",class:"form-label"},"Status",-1)),(0,n.bo)((0,n.Lk)("select",{id:"filterStatus",class:"form-select","onUpdate:modelValue":e[5]||(e[5]=a=>i.filters.namastatus=a)},[e[20]||(e[20]=(0,n.Lk)("option",{value:""},"Semua Status",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.statusList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a,value:a},(0,k.v_)(a),9,Ur))),128))],512),[[l.u1,i.filters.namastatus]])])]),(0,n.Lk)("div",Rr,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[6]||(e[6]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Qr,[(0,n.Lk)("table",Wr,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[28]||(e[28]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("namawilayah"))},[e[24]||(e[24]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Or)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Kr)):((0,n.uX)(),(0,n.CE)("i",$r))]),e[29]||(e[29]=(0,n.Lk)("th",{scope:"col"},"Periode Jabatan",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("namapengurus"))},[e[25]||(e[25]=(0,n.eW)(" Nama Pengurus ")),"namapengurus"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Gr)):"namapengurus"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Jr)):((0,n.uX)(),(0,n.CE)("i",qr))]),(0,n.Lk)("th",{scope:"col",onClick:e[10]||(e[10]=a=>o.sortBy("namajabatan"))},[e[26]||(e[26]=(0,n.eW)(" Jabatan ")),"namajabatan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Hr)):"namajabatan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Yr)):((0,n.uX)(),(0,n.CE)("i",zr))]),(0,n.Lk)("th",{scope:"col",onClick:e[11]||(e[11]=a=>o.sortBy("namastatus"))},[e[27]||(e[27]=(0,n.eW)(" Status ")),"namastatus"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Zr)):"namastatus"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",ac)):((0,n.uX)(),(0,n.CE)("i",ec))]),e[30]||(e[30]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",tc,e[31]||(e[31]=[(0,n.Lk)("td",{colspan:"7",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedOfficials,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idperangkat},[(0,n.Lk)("th",sc,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah.namawilayah||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.periode.tahunawal)+" - "+(0,k.v_)(a.periode.tahunakhir||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.penduduk.namapengurus||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.jabatan.namajabatan||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.status.namastatus||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",ic,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[32]||(e[32]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,lc),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idperangkat),title:"Hapus Data"},e[33]||(e[33]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,nc)])])]))),128)),0===o.paginatedOfficials.length?((0,n.uX)(),(0,n.CE)("tr",oc,e[34]||(e[34]=[(0,n.Lk)("td",{colspan:"7",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",rc,[(0,n.Lk)("div",cc,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",dc,[e[35]||(e[35]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[36]||(e[36]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[37]||(e[37]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[38]||(e[38]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",uc,[(0,n.Lk)("ul",mc,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",kc,[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",hc,e[39]||(e[39]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,gc)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",pc,e[40]||(e[40]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",bc,[(0,n.Lk)("button",{class:"page-link",onClick:e[14]||(e[14]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[15]||(e[15]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}t(7642),t(8004),t(3853),t(5876),t(2475),t(5024),t(1698);const Lc=(a={})=>Mi.get("",{params:{act:"perangkat",...a}}),yc=a=>(a.append("act","perangkat"),Mi.post("",a)),vc=(a,e)=>a?(e.append("act","perangkat"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID perangkat tidak tersedia.")),Cc=a=>a?Mi.delete("",{data:{act:"perangkat",key:a}}):Promise.reject(new Error("ID perangkat tidak tersedia.")),Pc={class:"modal-header"},Ec={class:"modal-title"},Dc={class:"modal-body"},Mc={class:"mb-3"},wc=["disabled"],Fc={disabled:"",value:""},Xc=["value"],xc={class:"mb-3"},Tc=["disabled"],Sc={disabled:"",value:""},Bc=["value"],Ac={class:"mb-3"},_c=["disabled"],jc={disabled:"",value:""},Vc=["value"],Ic={class:"mb-3"},Nc=["disabled"],Uc={disabled:"",value:""},Rc=["value"],Qc={class:"mb-3"},Wc=["disabled"],Oc={disabled:"",value:""},Kc=["value"],$c={key:0,class:"alert alert-danger mt-3"},Gc={class:"modal-footer"},Jc=["disabled"],qc={key:0,class:"spinner-border spinner-border-sm",role:"status"},Hc={key:1};function Yc(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[10]||(e[10]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[9]||(e[9]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Pc,[(0,n.Lk)("h5",Ec,(0,k.v_)(o.isEditMode?"Edit Data Perangkat Desa":"Tambah Data Perangkat Desa"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Dc,[(0,n.Lk)("form",{onSubmit:e[6]||(e[6]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Mc,[e[11]||(e[11]=(0,n.Lk)("label",{class:"form-label"},"Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.selectedDesaId=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Fc,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,Xc))),128))],8,wc),[[l.u1,i.selectedDesaId]])]),(0,n.Lk)("div",xc,[e[12]||(e[12]=(0,n.Lk)("label",{class:"form-label"},"Periode Jabatan",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.idperiode=a),required:"",disabled:i.isListLoading||!i.selectedDesaId},[(0,n.Lk)("option",Sc,(0,k.v_)(i.isListLoading?"Memuat...":i.selectedDesaId?"Pilih Periode Jabatan":"Pilih Desa terlebih dahulu"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.filteredPeriodeList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idperiode,value:a.idperiode},(0,k.v_)(a.tahunawal)+" - "+(0,k.v_)(a.tahunakhir),9,Bc))),128))],8,Tc),[[l.u1,i.formData.idperiode]])]),(0,n.Lk)("div",Ac,[e[13]||(e[13]=(0,n.Lk)("label",{class:"form-label"},"Nama Pengurus",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.idpenduduk=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",jc,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Nama Pengurus"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.pendudukList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idpenduduk,value:a.idpenduduk},(0,k.v_)(a.nama),9,Vc))),128))],8,_c),[[l.u1,i.formData.idpenduduk]])]),(0,n.Lk)("div",Ic,[e[14]||(e[14]=(0,n.Lk)("label",{class:"form-label"},"Jabatan",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.idjabatan=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Uc,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Jabatan"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.jabatanList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idjabatan,value:a.idjabatan},(0,k.v_)(a.namajabatan),9,Rc))),128))],8,Nc),[[l.u1,i.formData.idjabatan]])]),(0,n.Lk)("div",Qc,[e[15]||(e[15]=(0,n.Lk)("label",{class:"form-label"},"Status",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[5]||(e[5]=a=>i.formData.idstatus=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Oc,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Status Perangkat Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.statusList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idstatus,value:a.idstatus},(0,k.v_)(a.namastatus),9,Kc))),128))],8,Wc),[[l.u1,i.formData.idstatus]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",$c,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Gc,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[7]||(e[7]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[8]||(e[8]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",qc)):((0,n.uX)(),(0,n.CE)("span",Hc,"Simpan"))],8,Jc)])])])])}const zc=(a={})=>Mi.get("",{params:{act:"periode-perangkat",...a}}),Zc=a=>(a.append("act","periode-perangkat"),Mi.post("",a)),ad=(a,e)=>a?(e.append("act","periode-perangkat"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID periode jabatan tidak tersedia.")),ed=a=>a?Mi.delete("",{data:{act:"periode-perangkat",key:a}}):Promise.reject(new Error("ID periode jabatan tidak tersedia.")),td=(a={})=>Mi.get("",{params:{act:"status-perangkat",...a}}),sd=a=>Mi.post("",{act:"status-perangkat",record:a}),id=(a,e)=>a?Mi.put("",{act:"status-perangkat",key:a,record:e}):Promise.reject(new Error("ID status perangkat tidak tersedia.")),ld=a=>a?Mi.delete("",{data:{act:"status-perangkat",key:a}}):Promise.reject(new Error("ID status perangkat tidak tersedia.")),nd=(a={})=>Mi.get("",{params:{act:"jabatan",...a}}),od=a=>Mi.post("",{act:"jabatan",record:a}),rd=(a,e)=>a?Mi.put("",{act:"jabatan",key:a,record:e}):Promise.reject(new Error("ID jabatan tidak tersedia.")),cd=a=>a?Mi.delete("",{data:{act:"jabatan",key:a}}):Promise.reject(new Error("ID jabatan tidak tersedia.")),dd={idperiode:"",idjabatan:"",idstatus:"",idpenduduk:""};var ud={name:"addEditOfficialModal",props:{officialToEdit:{type:Object,default:null}},data(){return{formData:{...dd},desaList:[],selectedDesaId:"",periodeList:[],jabatanList:[],pendudukList:[],statusList:[],isListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.officialToEdit},filteredPeriodeList(){return this.selectedDesaId?this.periodeList.filter(a=>a.iddesa==this.selectedDesaId):[]}},watch:{selectedDesaId(a,e){if(a!==e){if(this.isEditMode&&""===e)return;this.formData.idperiode=""}},officialToEdit(){this.populateForm()}},async created(){await this.initializeComponent()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async initializeComponent(){await this.fetchDropdownData(),this.populateForm()},async fetchDropdownData(){this.isListLoading=!0;try{const[a,e,t,s,i]=await Promise.all([wi({limit:-1}),zc({limit:-1}),Po({limit:-1}),nd({limit:-1}),td({limit:-1})]);this.desaList=a.data?.data||a.data?.[0]?.data||[],this.periodeList=e.data?.data||e.data?.[0]?.data||[],this.pendudukList=t.data?.data||t.data?.[0]?.data||[],this.jabatanList=s.data?.data||s.data?.[0]?.data||[],this.statusList=i.data?.data||i.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat semua data referensi")}finally{this.isListLoading=!1}},populateForm(){if(this.errorMessage=null,this.isEditMode&&this.officialToEdit){const a=this.officialToEdit;this.formData.idjabatan=a.idjabatan,this.formData.idperiode=a.idperiode,this.formData.idpenduduk=a.idpenduduk,this.formData.idstatus=a.idstatus;const e=this.periodeList.find(a=>a.idperiode==this.formData.idperiode);e&&(this.selectedDesaId=e.iddesa)}else this.formData={...dd},this.selectedDesaId=""},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[idpenduduk]",this.formData.idpenduduk),a.append("record[idjabatan]",this.formData.idjabatan),a.append("record[idperiode]",this.formData.idperiode),a.append("record[idstatus]",this.formData.idstatus);try{this.isEditMode?(a.append("_method","PUT"),await vc(this.officialToEdit.idperangkat,a),this.toast.success("Data perangkat desa berhasil diperbarui")):(await yc(a),this.toast.success("Data perangkat desa berhasil ditambah")),this.$emit("save-successful"),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data perangkat desa")}finally{this.isLoading=!1}}}};const md=(0,r.A)(ud,[["render",Yc],["__scopeId","data-v-c458b8ee"]]);var kd=md,hd={components:{AddEditOfficialModal:kd},data(){return{officials:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,officialBeingEdited:null,isFilterVisible:!1,filters:{namapengurus:"",namajabatan:"",namawilayah:"",namastatus:""},statusList:[]}},computed:{paginatedOfficials(){return this.officials},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchOfficials()},perPage(){this.currentPage=1,this.fetchOfficials()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchOfficials()},methods:{openAddModal(){this.officialBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.officialBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.officialBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchOfficials()},async fetchOfficials(){this.isLoading=!0;try{const a={act:"perangkat",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Lc(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};if(this.officials=s,this.totalItems=i.total||s.length,s.length>0){const a=s.map(a=>a.status.namastatus).filter(Boolean);this.statusList=[...new Set(a)]}}catch(a){console.error("Error fetching officials:",a),this.toast.error("Gagal memuat data perangkat.",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Perangkat",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Cc(a),1===this.officials.length&&this.currentPage>1?this.currentPage--:this.fetchOfficials(),this.toast.success("Data perangkat berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data perangkat",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchOfficials()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchOfficials()},resetFilters(){this.filters.namapengurus="",this.filters.namajabatan="",this.filters.namawilayah="",this.filters.namastatus="",this.sortColumn="created_at",this.sortDirection="desc",this.currentPage=1,this.fetchOfficials()}}};const gd=(0,r.A)(hd,[["render",fc],["__scopeId","data-v-cff8b76c"]]);var pd=gd,bd={components:{OfficialsTable:pd}};const fd=(0,r.A)(bd,[["render",Mr]]);var Ld=fd;const yd={class:"container-fluid"},vd={class:"row"};function Cd(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("tenurePeriodsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Pemerintahan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",yd,[(0,n.Lk)("div",vd,[(0,n.bF)(r)])])])}const Pd={class:"col-sm-12"},Ed={class:"card"},Dd={class:"card-body"},Md={class:"d-flex justify-content-end align-items-start mb-3"},wd={class:"d-flex gap-2"},Fd={key:0,class:"fa fa-angle-up me-2"},Xd={key:1,class:"fa fa-angle-down me-2"},xd={key:0,class:"border p-3 mb-3 rounded filter-section"},Td={class:"row g-3"},Sd={class:"col-md-3"},Bd={class:"col-md-3"},Ad={class:"col-md-3"},_d={class:"col-md-3"},jd={class:"d-flex justify-content-end gap-2 mt-3"},Vd={class:"table-responsive signal-table"},Id={class:"table table-hover"},Nd={key:0,class:"fa fa-sort-asc"},Ud={key:1,class:"fa fa-sort-desc"},Rd={key:2,class:"fa fa-sort"},Qd={key:0,class:"fa fa-sort-asc"},Wd={key:1,class:"fa fa-sort-desc"},Od={key:2,class:"fa fa-sort"},Kd={key:0,class:"fa fa-sort-asc"},$d={key:1,class:"fa fa-sort-desc"},Gd={key:2,class:"fa fa-sort"},Jd={key:0,class:"fa fa-sort-asc"},qd={key:1,class:"fa fa-sort-desc"},Hd={key:2,class:"fa fa-sort"},Yd={key:0},zd={scope:"row"},Zd={class:"btn-group"},au=["onClick"],eu=["onClick"],tu=["onClick"],su={key:0},iu={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},lu={class:"mt-2"},nu={key:0,class:"text-muted"},ou={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},ru={class:"pagination mb-0"},cu={key:0,class:"page-item"},du={key:1,class:"page-item disabled"},uu=["onClick"],mu={key:2,class:"page-item disabled"},ku={key:3,class:"page-item"};function hu(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-period-modal");return(0,n.uX)(),(0,n.CE)("div",Pd,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"period-to-edit":i.periodBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["period-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Ed,[e[40]||(e[40]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Periode Jabatan")],-1)),(0,n.Lk)("div",Dd,[(0,n.Lk)("div",Md,[(0,n.Lk)("div",wd,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Fd)):((0,n.uX)(),(0,n.CE)("i",Xd)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",xd,[(0,n.Lk)("div",Td,[(0,n.Lk)("div",Sd,[e[17]||(e[17]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])]),(0,n.Lk)("div",Bd,[e[18]||(e[18]=(0,n.Lk)("label",{for:"filterStartYear",class:"form-label"},"Tahun Awal",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterStartYear",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.tahunawal=a),placeholder:"Filter berdasarkan tahun awal"},null,512),[[l.Jo,i.filters.tahunawal]])]),(0,n.Lk)("div",Ad,[e[19]||(e[19]=(0,n.Lk)("label",{for:"filterEndYear",class:"form-label"},"Tahun Akhir",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterEndYear",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.tahunakhir=a),placeholder:"Filter berdasarkan tahun akhir"},null,512),[[l.Jo,i.filters.tahunakhir]])]),(0,n.Lk)("div",_d,[e[20]||(e[20]=(0,n.Lk)("label",{for:"filterSkDate",class:"form-label"},"Tanggal SK",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",id:"filterSkDate",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>i.filters.tanggal_sk=a)},null,512),[[l.Jo,i.filters.tanggal_sk]])])]),(0,n.Lk)("div",jd,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[6]||(e[6]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[21]||(e[21]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Vd,[(0,n.Lk)("table",Id,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[27]||(e[27]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("namawilayah"))},[e[23]||(e[23]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Nd)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Ud)):((0,n.uX)(),(0,n.CE)("i",Rd))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("tahunawal"))},[e[24]||(e[24]=(0,n.eW)(" Tahun Awal ")),"tahunawal"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Qd)):"tahunawal"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Wd)):((0,n.uX)(),(0,n.CE)("i",Od))]),(0,n.Lk)("th",{scope:"col",onClick:e[10]||(e[10]=a=>o.sortBy("tahunakhir"))},[e[25]||(e[25]=(0,n.eW)(" Tahun Akhir ")),"tahunakhir"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Kd)):"tahunakhir"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",$d)):((0,n.uX)(),(0,n.CE)("i",Gd))]),(0,n.Lk)("th",{scope:"col",onClick:e[11]||(e[11]=a=>o.sortBy("tanggal_sk"))},[e[26]||(e[26]=(0,n.eW)(" Tanggal SK ")),"tanggal_sk"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Jd)):"tanggal_sk"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",qd)):((0,n.uX)(),(0,n.CE)("i",Hd))]),e[28]||(e[28]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",Yd,e[29]||(e[29]=[(0,n.Lk)("td",{colspan:"6",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedPeriods,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idperiode},[(0,n.Lk)("th",zd,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.tahunawal||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.tahunakhir||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(o.formatTanggal(a.tanggal_sk)||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",Zd,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openSkFile(a.filesk),title:"Lihat File SK"},e[30]||(e[30]=[(0,n.Lk)("i",{class:"fa fa-file"},null,-1)]),8,au),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[31]||(e[31]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,eu),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idperiode),title:"Hapus Data"},e[32]||(e[32]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,tu)])])]))),128)),0===o.paginatedPeriods.length?((0,n.uX)(),(0,n.CE)("tr",su,e[33]||(e[33]=[(0,n.Lk)("td",{colspan:"6",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",iu,[(0,n.Lk)("div",lu,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",nu,[e[34]||(e[34]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[35]||(e[35]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[36]||(e[36]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[37]||(e[37]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",ou,[(0,n.Lk)("ul",ru,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",cu,[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",du,e[38]||(e[38]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,uu)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",mu,e[39]||(e[39]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",ku,[(0,n.Lk)("button",{class:"page-link",onClick:e[14]||(e[14]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[15]||(e[15]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const gu={class:"modal-header"},pu={class:"modal-title"},bu={class:"modal-body"},fu={class:"mb-3"},Lu=["disabled"],yu={disabled:"",value:""},vu=["value"],Cu={class:"row"},Pu={class:"col-md-6 mb-3"},Eu={class:"col-md-6 mb-3"},Du={class:"mb-3"},Mu={class:"mb-3"},wu={key:0,class:"mt-2"},Fu=["href"],Xu={key:1,class:"mt-2"},xu={key:0,class:"alert alert-danger mt-3"},Tu={class:"modal-footer"},Su=["disabled"],Bu={key:0,class:"spinner-border spinner-border-sm",role:"status"},Au={key:1};function _u(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[10]||(e[10]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[9]||(e[9]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",gu,[(0,n.Lk)("h5",pu,(0,k.v_)(o.isEditMode?"Edit Data Periode Jabatan":"Tambah Data Periode Jabatan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",bu,[(0,n.Lk)("form",{onSubmit:e[6]||(e[6]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",fu,[e[11]||(e[11]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.iddesa=a),required:"",disabled:i.isDesaListLoading},[(0,n.Lk)("option",yu,(0,k.v_)(i.isDesaListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,vu))),128))],8,Lu),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",Cu,[(0,n.Lk)("div",Pu,[e[12]||(e[12]=(0,n.Lk)("label",{class:"form-label"},"Tahun Awal",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.tahunawal=a),placeholder:"YYYY",required:""},null,512),[[l.Jo,i.formData.tahunawal]])]),(0,n.Lk)("div",Eu,[e[13]||(e[13]=(0,n.Lk)("label",{class:"form-label"},"Tahun Akhir",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.tahunakhir=a),placeholder:"YYYY",required:""},null,512),[[l.Jo,i.formData.tahunakhir]])])]),(0,n.Lk)("div",Du,[e[14]||(e[14]=(0,n.Lk)("label",{class:"form-label"},"Tanggal SK",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.tanggal_sk=a),required:""},null,512),[[l.Jo,i.formData.tanggal_sk]])]),(0,n.Lk)("div",Mu,[e[17]||(e[17]=(0,n.Lk)("label",{class:"form-label"},"Upload File SK",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:".pdf,.doc,.docx,image/*",onChange:e[5]||(e[5]=(...a)=>o.handleFileUpload&&o.handleFileUpload(...a))},null,32),o.isEditMode&&i.formData.filesk&&!i.selectedSkFile?((0,n.uX)(),(0,n.CE)("div",wu,[e[15]||(e[15]=(0,n.eW)(" File saat ini: ")),(0,n.Lk)("a",{href:i.formData.filesk,target:"_blank",rel:"noopener noreferrer"},"Lihat File",8,Fu)])):(0,n.Q3)("",!0),i.skFileName?((0,n.uX)(),(0,n.CE)("div",Xu,[e[16]||(e[16]=(0,n.eW)(" File baru: ")),(0,n.Lk)("strong",null,(0,k.v_)(i.skFileName),1)])):(0,n.Q3)("",!0)]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",xu,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Tu,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[7]||(e[7]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[8]||(e[8]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Bu)):((0,n.uX)(),(0,n.CE)("span",Au,"Simpan"))],8,Su)])])])])}const ju={iddesa:"",tahunawal:"",tahunakhir:"",tanggal_sk:"",filesk:null};var Vu={name:"addEditPeriodModal",props:{periodToEdit:{type:Object,default:null}},data(){return{formData:{...ju},selectedSkFile:null,skFileName:"",desaList:[],isDesaListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.periodToEdit}},watch:{periodToEdit:{handler(a){a?(this.formData.iddesa=a.iddesa,this.formData.tahunawal=a.tahunawal,this.formData.tahunakhir=a.tahunakhir,this.formData.tanggal_sk=a.tanggal_sk,this.formData.filesk=a.filesk):this.formData={...ju},this.selectedSkFile=null,this.skFileName="",this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isDesaListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isDesaListLoading=!1}},handleFileUpload(a){const e=a.target.files[0];if(!e)return this.selectedSkFile=null,void(this.skFileName="");this.selectedSkFile=e,this.skFileName=e.name},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[iddesa]",this.formData.iddesa),a.append("record[tahunawal]",this.formData.tahunawal),a.append("record[tahunakhir]",this.formData.tahunakhir),a.append("record[tanggal_sk]",this.formData.tanggal_sk),this.selectedSkFile&&a.append("upload_filesk",this.selectedSkFile);try{this.isEditMode?(a.append("_method","PUT"),await ad(this.periodToEdit.idperiode,a),this.toast.success("Data periode jabatan berhasil diperbarui")):(await Zc(a),this.toast.success("Data periode jabatan berhasil ditambah")),this.$emit("save-successful"),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi.",this.toast.error("Gagal menyimpan data periode jabatan")}finally{this.isLoading=!1}}}};const Iu=(0,r.A)(Vu,[["render",_u],["__scopeId","data-v-35180cde"]]);var Nu=Iu,Uu={components:{AddEditPeriodModal:Nu},data(){return{periods:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,periodBeingEdited:null,isFilterVisible:!1,filters:{namadesa:"",tahunawal:"",tahunakhir:"",tanggal_sk:""}}},computed:{paginatedPeriods(){return this.periods},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchPeriods()},perPage(){this.currentPage=1,this.fetchPeriods()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchPeriods()},methods:{openAddModal(){this.periodBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.periodBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.periodBeingEdited=null},openSkFile(a){a?window.open(a,"_blank"):this.toast.info("Tidak ada file SK yang tersedia.",{icon:"fa fa-info-circle"})},formatTanggal(a){if(!a)return null;const e={day:"numeric",month:"long",year:"numeric"};return new Date(a).toLocaleDateString("id-ID",e)},handleSaveSuccessful(){this.closeModal(),this.fetchPeriods()},async fetchPeriods(){this.isLoading=!0;try{const a={act:"periode-perangkat",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await zc(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.periods=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching periods:",a),this.toast.error("Gagal memuat data periode jabatan",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Periode Jabatan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await ed(a),1===this.periods.length&&this.currentPage>1?this.currentPage--:this.fetchPeriods(),this.toast.success("Data periode jabatan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data periode jabatan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchPeriods()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchPeriods()},resetFilters(){this.filters.namawilayah="",this.filters.tahunawal="",this.filters.tahunakhir="",this.filters.tanggal_sk="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchPeriods()}}};const Ru=(0,r.A)(Uu,[["render",hu],["__scopeId","data-v-274376c2"]]);var Qu=Ru,Wu={components:{tenurePeriodsTable:Qu}};const Ou=(0,r.A)(Wu,[["render",Cd]]);var Ku=Ou;const $u={class:"container-fluid"},Gu={class:"row"};function Ju(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ResidentsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",$u,[(0,n.Lk)("div",Gu,[(0,n.bF)(r)])])])}const qu={class:"col-sm-12"},Hu={class:"card"},Yu={class:"card-body"},zu={class:"d-flex justify-content-end align-items-start mb-3"},Zu={class:"d-flex gap-2"},am={key:0,class:"fa fa-angle-up me-2"},em={key:1,class:"fa fa-angle-down me-2"},tm={key:0,class:"border p-3 mb-3 rounded filter-section"},sm={class:"row g-3"},im={class:"col-md-4"},lm={class:"col-md-4"},nm={class:"col-md-4"},om=["value"],rm={class:"d-flex justify-content-end gap-2 mt-3"},cm={class:"table-responsive signal-table"},dm={class:"table table-hover"},um={key:0,class:"fa fa-sort-asc"},mm={key:1,class:"fa fa-sort-desc"},km={key:2,class:"fa fa-sort"},hm={key:0,class:"fa fa-sort-asc"},gm={key:1,class:"fa fa-sort-desc"},pm={key:2,class:"fa fa-sort"},bm={key:0,class:"fa fa-sort-asc"},fm={key:1,class:"fa fa-sort-desc"},Lm={key:2,class:"fa fa-sort"},ym={key:0},vm={scope:"row"},Cm={class:"btn-group"},Pm=["onClick"],Em=["onClick"],Dm=["onClick"],Mm={key:0},wm={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},Fm={class:"mt-2"},Xm={key:0,class:"text-muted"},xm={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},Tm={class:"pagination mb-0"},Sm={key:0,class:"page-item"},Bm={key:1,class:"page-item disabled"},Am=["onClick"],_m={key:2,class:"page-item disabled"},jm={key:3,class:"page-item"};function Vm(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-resident-modal"),c=(0,n.g2)("detail-resident-modal");return(0,n.uX)(),(0,n.CE)("div",qu,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"resident-to-edit":i.residentBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["resident-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isDetailModalVisible?((0,n.uX)(),(0,n.Wv)(c,{key:1,"resident-to-view":i.residentBeingViewed,onClose:o.closeDetailModal},null,8,["resident-to-view","onClose"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Hu,[e[38]||(e[38]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Penduduk")],-1)),(0,n.Lk)("div",Yu,[(0,n.Lk)("div",zu,[(0,n.Lk)("div",Zu,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",am)):((0,n.uX)(),(0,n.CE)("i",em)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[14]||(e[14]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",tm,[(0,n.Lk)("div",sm,[(0,n.Lk)("div",im,[e[15]||(e[15]=(0,n.Lk)("label",{for:"filterNik",class:"form-label"},"NIK",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterNik",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.nik=a),placeholder:"Filter berdasarkan NIK..."},null,512),[[l.Jo,i.filters.nik]])]),(0,n.Lk)("div",lm,[e[16]||(e[16]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Penduduk",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.nama=a),placeholder:"Filter berdasarkan nama penduduk..."},null,512),[[l.Jo,i.filters.nama]])]),(0,n.Lk)("div",nm,[e[18]||(e[18]=(0,n.Lk)("label",{for:"filterGender",class:"form-label"},"Jenis Kelamin",-1)),(0,n.bo)((0,n.Lk)("select",{id:"filterGender",class:"form-select","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.idjeniskelamin=a)},[e[17]||(e[17]=(0,n.Lk)("option",{value:""},"Semua Jenis Kelamin",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.genderList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idjeniskelamin,value:a.idjeniskelamin},(0,k.v_)(a.namajeniskelamin),9,om))),128))],512),[[l.u1,i.filters.idjeniskelamin]])])]),(0,n.Lk)("div",rm,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[5]||(e[5]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[19]||(e[19]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[6]||(e[6]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[20]||(e[20]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",cm,[(0,n.Lk)("table",dm,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[24]||(e[24]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("nik"))},[e[21]||(e[21]=(0,n.eW)(" NIK ")),"nik"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",um)):"nik"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",mm)):((0,n.uX)(),(0,n.CE)("i",km))]),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("nama"))},[e[22]||(e[22]=(0,n.eW)(" Nama ")),"nama"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",hm)):"nama"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",gm)):((0,n.uX)(),(0,n.CE)("i",pm))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("namajeniskelamin"))},[e[23]||(e[23]=(0,n.eW)(" Jenis Kelamin ")),"namajeniskelamin"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",bm)):"namajeniskelamin"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",fm)):((0,n.uX)(),(0,n.CE)("i",Lm))]),e[25]||(e[25]=(0,n.Lk)("th",{scope:"col"},"Tempat, Tanggal Lahir",-1)),e[26]||(e[26]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",ym,e[27]||(e[27]=[(0,n.Lk)("td",{colspan:"6",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedResidents,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idpenduduk},[(0,n.Lk)("th",vm,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.nik||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.nama||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.jk.namajeniskelamin||"-"),1),(0,n.Lk)("td",null,(0,k.v_)([a.tempatlahir,o.formatTanggal(a.tanggallahir)].filter(Boolean).join(", ")||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",Cm,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openDetailModal(a),title:"Lihat Detail Data"},e[28]||(e[28]=[(0,n.Lk)("i",{class:"fa fa-eye"},null,-1)]),8,Pm),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[29]||(e[29]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,Em),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idpenduduk),title:"Hapus Data"},e[30]||(e[30]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,Dm)])])]))),128)),0===o.paginatedResidents.length?((0,n.uX)(),(0,n.CE)("tr",Mm,e[31]||(e[31]=[(0,n.Lk)("td",{colspan:"6",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",wm,[(0,n.Lk)("div",Fm,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",Xm,[e[32]||(e[32]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[33]||(e[33]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[34]||(e[34]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[35]||(e[35]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",xm,[(0,n.Lk)("ul",Tm,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Sm,[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",Bm,e[36]||(e[36]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,Am)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",_m,e[37]||(e[37]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",jm,[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const Im={class:"modal-header"},Nm={class:"modal-title"},Um={class:"modal-body"},Rm={class:"mb-3"},Qm={class:"mb-3"},Wm={class:"row"},Om={class:"col-md-6 mb-3"},Km=["disabled"],$m={disabled:"",value:""},Gm=["value"],Jm={class:"col-md-6 mb-3"},qm=["disabled"],Hm={disabled:"",value:""},Ym=["value"],zm={class:"row"},Zm={class:"col-md-6 mb-3"},ak=["disabled"],ek={disabled:"",value:""},tk=["value"],sk={class:"col-md-6 mb-3"},ik=["disabled"],lk={disabled:"",value:""},nk=["value"],ok={class:"row"},rk={class:"col-md-6 mb-3"},ck={class:"col-md-6 mb-3"},dk={class:"row"},uk={class:"col-md-6 mb-3"},mk=["disabled"],kk={disabled:"",value:""},hk=["value"],gk={class:"col-md-6 mb-3"},pk=["disabled"],bk={disabled:"",value:""},fk=["value"],Lk={class:"mb-3"},yk=["disabled"],vk={disabled:"",value:""},Ck=["value"],Pk={class:"mb-3"},Ek=["disabled"],Dk={disabled:"",value:""},Mk=["value"],wk={class:"mb-3"},Fk=["disabled"],Xk={disabled:"",value:""},xk=["value"],Tk={class:"mb-3"},Sk=["disabled"],Bk={disabled:"",value:""},Ak=["value"],_k={class:"mb-3"},jk=["disabled"],Vk={disabled:"",value:""},Ik=["value"],Nk={class:"mb-3"},Uk=["disabled"],Rk={disabled:"",value:""},Qk=["value"],Wk={class:"mb-3"},Ok=["disabled"],Kk={disabled:"",value:""},$k=["value"],Gk={class:"mb-3"},Jk={key:0,class:"alert alert-danger mt-3"},qk={class:"modal-footer"},Hk=["disabled"],Yk={key:0,class:"spinner-border spinner-border-sm",role:"status"},zk={key:1};function Zk(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[23]||(e[23]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[22]||(e[22]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Im,[(0,n.Lk)("h5",Nm,(0,k.v_)(o.isEditMode?"Edit Data Penduduk":"Tambah Data Penduduk"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Um,[(0,n.Lk)("form",{onSubmit:e[19]||(e[19]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Rm,[e[24]||(e[24]=(0,n.Lk)("label",{class:"form-label"},"Nomor Induk Kependudukan (NIK)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.nik=a),placeholder:"Masukkan NIK",required:""},null,512),[[l.Jo,i.formData.nik]])]),(0,n.Lk)("div",Qm,[e[25]||(e[25]=(0,n.Lk)("label",{class:"form-label"},"Nama",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.nama=a),placeholder:"Masukkan nama",required:""},null,512),[[l.Jo,i.formData.nama]])]),(0,n.Lk)("div",Wm,[(0,n.Lk)("div",Om,[e[26]||(e[26]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=a=>i.selectedLocation.desa=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",$m,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah?.namawilayah),9,Gm))),128))],8,Km),[[l.u1,i.selectedLocation.desa]])]),(0,n.Lk)("div",Jm,[e[27]||(e[27]=(0,n.Lk)("label",{class:"form-label"},"Nama Dusun",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[4]||(e[4]=a=>i.selectedLocation.dusun=a),required:"",disabled:i.isListLoading||!i.selectedLocation.desa},[(0,n.Lk)("option",Hm,(0,k.v_)(i.selectedLocation.desa?i.isListLoading?"Memuat...":"Pilih Dusun":"Pilih Desa terlebih dahulu"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.filteredDusunList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddusun,value:a.iddusun},(0,k.v_)(a.namadusun),9,Ym))),128))],8,qm),[[l.u1,i.selectedLocation.dusun]])])]),(0,n.Lk)("div",zm,[(0,n.Lk)("div",Zm,[e[28]||(e[28]=(0,n.Lk)("label",{class:"form-label"},"Nama RW",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[5]||(e[5]=a=>i.selectedLocation.rw=a),required:"",disabled:i.isListLoading||!i.selectedLocation.dusun},[(0,n.Lk)("option",ek,(0,k.v_)(i.selectedLocation.dusun?i.isListLoading?"Memuat...":"Pilih RW":"Pilih Dusun terlebih dahulu"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.filteredRwList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idrw,value:a.idrw},(0,k.v_)(a.namarw),9,tk))),128))],8,ak),[[l.u1,i.selectedLocation.rw]])]),(0,n.Lk)("div",sk,[e[29]||(e[29]=(0,n.Lk)("label",{class:"form-label"},"Nama RT",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[6]||(e[6]=a=>i.formData.idrt=a),required:"",disabled:i.isListLoading||!i.selectedLocation.rw},[(0,n.Lk)("option",lk,(0,k.v_)(i.selectedLocation.rw?i.isListLoading?"Memuat...":"Pilih RT":"Pilih RW terlebih dahulu"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.filteredRtList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idrt,value:a.idrt},(0,k.v_)(a.namart),9,nk))),128))],8,ik),[[l.u1,i.formData.idrt]])])]),(0,n.Lk)("div",ok,[(0,n.Lk)("div",rk,[e[30]||(e[30]=(0,n.Lk)("label",{class:"form-label"},"Tempat Lahir",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=a=>i.formData.tempatlahir=a),placeholder:"Tempat Lahir...",required:""},null,512),[[l.Jo,i.formData.tempatlahir]])]),(0,n.Lk)("div",ck,[e[31]||(e[31]=(0,n.Lk)("label",{class:"form-label"},"Tanggal Lahir",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>i.formData.tanggallahir=a),required:""},null,512),[[l.Jo,i.formData.tanggallahir]])])]),(0,n.Lk)("div",dk,[(0,n.Lk)("div",uk,[e[32]||(e[32]=(0,n.Lk)("label",{class:"form-label"},"Agama",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[9]||(e[9]=a=>i.formData.idagama=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",kk,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Agama"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.religionsList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idagama,value:a.idagama},(0,k.v_)(a.namaagama),9,hk))),128))],8,mk),[[l.u1,i.formData.idagama]])]),(0,n.Lk)("div",gk,[e[33]||(e[33]=(0,n.Lk)("label",{class:"form-label"},"Golongan Darah",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[10]||(e[10]=a=>i.formData.idgolongandarah=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",bk,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Golongan Darah"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.bloodTypesList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idgolongandarah,value:a.idgolongandarah},(0,k.v_)(a.namagolongandarah),9,fk))),128))],8,pk),[[l.u1,i.formData.idgolongandarah]])])]),(0,n.Lk)("div",Lk,[e[34]||(e[34]=(0,n.Lk)("label",{class:"form-label"},"Jenis Kelamin",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[11]||(e[11]=a=>i.formData.idjeniskelamin=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",vk,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Jenis Kelamin"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.genderList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idjeniskelamin,value:a.idjeniskelamin},(0,k.v_)(a.namajeniskelamin),9,Ck))),128))],8,yk),[[l.u1,i.formData.idjeniskelamin]])]),(0,n.Lk)("div",Pk,[e[35]||(e[35]=(0,n.Lk)("label",{class:"form-label"},"Hubungan Keluarga",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[12]||(e[12]=a=>i.formData.idhubungankeluarga=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Dk,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Hubungan Keluarga"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.familyRelationshipsList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idhubungankeluarga,value:a.idhubungankeluarga},(0,k.v_)(a.namahubungankeluarga),9,Mk))),128))],8,Ek),[[l.u1,i.formData.idhubungankeluarga]])]),(0,n.Lk)("div",wk,[e[36]||(e[36]=(0,n.Lk)("label",{class:"form-label"},"Pekerjaan",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[13]||(e[13]=a=>i.formData.idpekerjaan=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Xk,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Pekerjaan"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.occupationsList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idpekerjaan,value:a.idpekerjaan},(0,k.v_)(a.namapekerjaan),9,xk))),128))],8,Fk),[[l.u1,i.formData.idpekerjaan]])]),(0,n.Lk)("div",Tk,[e[37]||(e[37]=(0,n.Lk)("label",{class:"form-label"},"Pendidikan",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[14]||(e[14]=a=>i.formData.idpendidikan=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Bk,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Pendidikan"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.educationsList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idpendidikan,value:a.idpendidikan},(0,k.v_)(a.namapendidikan),9,Ak))),128))],8,Sk),[[l.u1,i.formData.idpendidikan]])]),(0,n.Lk)("div",_k,[e[38]||(e[38]=(0,n.Lk)("label",{class:"form-label"},"Status Perkawinan",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=a=>i.formData.idstatusperkawinan=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Vk,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Status Perkawinan"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.martialStatusesList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idstatusperkawinan,value:a.idstatusperkawinan},(0,k.v_)(a.namastatusperkawinan),9,Ik))),128))],8,jk),[[l.u1,i.formData.idstatusperkawinan]])]),(0,n.Lk)("div",Nk,[e[39]||(e[39]=(0,n.Lk)("label",{class:"form-label"},"Penolong Kelahiran",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[16]||(e[16]=a=>i.formData.idpenolongkelahiran=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Rk,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Penolong Kelahiran"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.birthAttendantsList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idpenolongkelahiran,value:a.idpenolongkelahiran},(0,k.v_)(a.namapenolongkelahiran),9,Qk))),128))],8,Uk),[[l.u1,i.formData.idpenolongkelahiran]])]),(0,n.Lk)("div",Wk,[e[40]||(e[40]=(0,n.Lk)("label",{class:"form-label"},"Tempat Dilahirkan",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[17]||(e[17]=a=>i.formData.idtempatkelahiran=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Kk,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Tempat Dilahirkan"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.birthPlacesList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idtempatdilahirkan,value:a.idtempatdilahirkan},(0,k.v_)(a.namatempatdilahirkan),9,$k))),128))],8,Ok),[[l.u1,i.formData.idtempatkelahiran]])]),(0,n.Lk)("div",Gk,[e[41]||(e[41]=(0,n.Lk)("label",{class:"form-label"},"Nomor whatsapp",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[18]||(e[18]=a=>i.formData.whatsapp=a),placeholder:"Masukkan Nomor Whatsapp",required:""},null,512),[[l.Jo,i.formData.whatsapp]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Jk,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",qk,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[20]||(e[20]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[21]||(e[21]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Yk)):((0,n.uX)(),(0,n.CE)("span",zk,"Simpan"))],8,Hk)])])])])}const ah=(a={})=>Mi.get("",{params:{act:"jenis-kelamin",...a}}),eh=a=>Mi.post("",{act:"jenis-kelamin",record:a}),th=(a,e)=>a?Mi.put("",{act:"jenis-kelamin",key:a,record:e}):Promise.reject(new Error("ID jenis kelamin tidak tersedia.")),sh=a=>a?Mi.delete("",{data:{act:"jenis-kelamin",key:a}}):Promise.reject(new Error("ID jenis kelamin tidak tersedia.")),ih=(a={})=>Mi.get("",{params:{act:"agama",...a}}),lh=a=>Mi.post("",{act:"agama",record:a}),nh=(a,e)=>a?Mi.put("",{act:"agama",key:a,record:e}):Promise.reject(new Error("ID agama tidak tersedia.")),oh=a=>a?Mi.delete("",{data:{act:"agama",key:a}}):Promise.reject(new Error("ID agama tidak tersedia.")),rh=(a={})=>Mi.get("",{params:{act:"golongan-darah",...a}}),ch=a=>Mi.post("",{act:"golongan-darah",record:a}),dh=(a,e)=>a?Mi.put("",{act:"golongan-darah",key:a,record:e}):Promise.reject(new Error("ID golongan darah tidak tersedia.")),uh=a=>a?Mi.delete("",{data:{act:"golongan-darah",key:a}}):Promise.reject(new Error("ID golongan darah tidak tersedia.")),mh=(a={})=>Mi.get("",{params:{act:"tempat-dilahirkan",...a}}),kh=a=>Mi.post("",{act:"tempat-dilahirkan",record:a}),hh=(a,e)=>a?Mi.put("",{act:"tempat-dilahirkan",key:a,record:e}):Promise.reject(new Error("ID tempat dilahirkan tidak tersedia.")),gh=a=>a?Mi.delete("",{data:{act:"tempat-dilahirkan",key:a}}):Promise.reject(new Error("ID tempat dilahirkan tidak tersedia.")),ph=(a={})=>Mi.get("",{params:{act:"hubungan-keluarga",...a}}),bh=a=>Mi.post("",{act:"hubungan-keluarga",record:a}),fh=(a,e)=>a?Mi.put("",{act:"hubungan-keluarga",key:a,record:e}):Promise.reject(new Error("ID hubungan keluarga tidak tersedia.")),Lh=a=>a?Mi.delete("",{data:{act:"hubungan-keluarga",key:a}}):Promise.reject(new Error("ID hubungan keluarga tidak tersedia.")),yh=(a={})=>Mi.get("",{params:{act:"pendidikan",...a}}),vh=a=>Mi.post("",{act:"pendidikan",record:a}),Ch=(a,e)=>a?Mi.put("",{act:"pendidikan",key:a,record:e}):Promise.reject(new Error("ID pendidikan tidak tersedia.")),Ph=a=>a?Mi.delete("",{data:{act:"pendidikan",key:a}}):Promise.reject(new Error("ID pendidikan tidak tersedia.")),Eh=(a={})=>Mi.get("",{params:{act:"pekerjaan",...a}}),Dh=a=>Mi.post("",{act:"pekerjaan",record:a}),Mh=(a,e)=>a?Mi.put("",{act:"pekerjaan",key:a,record:e}):Promise.reject(new Error("ID pekerjaan tidak tersedia.")),wh=a=>a?Mi.delete("",{data:{act:"pekerjaan",key:a}}):Promise.reject(new Error("ID pekerjaan tidak tersedia.")),Fh=(a={})=>Mi.get("",{params:{act:"penolong-kelahiran",...a}}),Xh=a=>Mi.post("",{act:"penolong-kelahiran",record:a}),xh=(a,e)=>a?Mi.put("",{act:"penolong-kelahiran",key:a,record:e}):Promise.reject(new Error("ID Penolong Kelahiran tidak tersedia.")),Th=a=>a?Mi.delete("",{data:{act:"penolong-kelahiran",key:a}}):Promise.reject(new Error("ID Penolong Kelahiran tidak tersedia.")),Sh=(a={})=>Mi.get("",{params:{act:"status-perkawinan",...a}}),Bh=a=>Mi.post("",{act:"status-perkawinan",record:a}),Ah=(a,e)=>a?Mi.put("",{act:"status-perkawinan",key:a,record:e}):Promise.reject(new Error("ID status perkawinan tidak tersedia.")),_h=a=>a?Mi.delete("",{data:{act:"status-perkawinan",key:a}}):Promise.reject(new Error("ID status perkawinan tidak tersedia.")),jh={nik:"",nama:"",tempatlahir:"",tanggallahir:"",idrt:"",idjeniskelamin:"",idagama:"",idgolongandarah:"",idhubungankeluarga:"",idpekerjaan:"",idpendidikan:"",idpenolongkelahiran:"",idstatusperkawinan:"",idtempatkelahiran:"",whatsapp:""};var Vh={name:"addEditResidentModal",props:{residentToEdit:{type:Object,default:null}},data(){return{formData:{...jh},selectedLocation:{desa:"",dusun:"",rw:""},desaList:[],dusunList:[],rwList:[],rtList:[],genderList:[],religionsList:[],bloodTypesList:[],familyRelationshipsList:[],occupationsList:[],educationsList:[],martialStatusesList:[],birthAttendantsList:[],birthPlacesList:[],isListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.residentToEdit},filteredDusunList(){return this.selectedLocation.desa?this.dusunList.filter(a=>a.iddesa==this.selectedLocation.desa):[]},filteredRwList(){return this.selectedLocation.dusun?this.rwList.filter(a=>a.iddusun==this.selectedLocation.dusun):[]},filteredRtList(){return this.selectedLocation.rw?this.rtList.filter(a=>a.idrw==this.selectedLocation.rw):[]}},watch:{"selectedLocation.desa"(a,e){a!==e&&(this.selectedLocation.dusun="",this.selectedLocation.rw="",this.formData.idrt="")},"selectedLocation.dusun"(a,e){a!==e&&(this.selectedLocation.rw="",this.formData.idrt="")},"selectedLocation.rw"(a,e){a!==e&&(this.formData.idrt="")},residentToEdit(){this.populateForm()}},async created(){await this.initializeComponent()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async initializeComponent(){await this.fetchDropdownData(),this.populateForm()},async fetchDropdownData(){this.isListLoading=!0;try{const[a,e,t,s,i,l,n,o,r,c,d,u,m]=await Promise.all([wi({limit:-1}),Si({limit:-1}),ji({limit:-1}),Ui({limit:-1}),ah({limit:-1}),ih({limit:-1}),rh({limit:-1}),ph({limit:-1}),Eh({limit:-1}),yh({limit:-1}),Fh({limit:-1}),Sh({limit:-1}),mh({limit:-1})]);this.desaList=a.data?.data||a.data?.[0]?.data||[],this.dusunList=e.data?.data||e.data?.[0]?.data||[],this.rwList=t.data?.data||t.data?.[0]?.data||[],this.rtList=s.data?.data||s.data?.[0]?.data||[],this.genderList=i.data?.data||i.data?.[0]?.data||[],this.religionsList=l.data?.data||l.data?.[0]?.data||[],this.bloodTypesList=n.data?.data||n.data?.[0]?.data||[],this.familyRelationshipsList=o.data?.data||o.data?.[0]?.data||[],this.occupationsList=r.data?.data||r.data?.[0]?.data||[],this.educationsList=c.data?.data||c.data?.[0]?.data||[],this.birthAttendantsList=d.data?.data||d.data?.[0]?.data||[],this.martialStatusesList=u.data?.data||u.data?.[0]?.data||[],this.birthPlacesList=m.data?.data||m.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat semua data referensi")}finally{this.isListLoading=!1}},populateForm(){if(this.errorMessage=null,this.isEditMode&&this.residentToEdit){Object.assign(this.formData,this.residentToEdit);const a=this.rtList.find(a=>a.idrt===this.residentToEdit.idrt);if(a){const e=this.rwList.find(e=>e.idrw===a.idrw);if(e){const a=this.dusunList.find(a=>a.iddusun===e.iddusun);a&&(this.selectedLocation.desa=a.iddesa,this.selectedLocation.dusun=a.iddusun,this.selectedLocation.rw=e.idrw)}}}else this.formData={...jh},this.selectedLocation={desa:"",dusun:"",rw:""}},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[nik]",this.formData.nik||""),a.append("record[nama]",this.formData.nama||""),a.append("record[tempatlahir]",this.formData.tempatlahir||""),a.append("record[tanggallahir]",this.formData.tanggallahir||""),a.append("record[idjeniskelamin]",this.formData.idjeniskelamin||""),a.append("record[idagama]",this.formData.idagama||""),a.append("record[idgolongandarah]",this.formData.idgolongandarah||""),a.append("record[idhubungankeluarga]",this.formData.idhubungankeluarga||""),a.append("record[idpekerjaan]",this.formData.idpekerjaan||""),a.append("record[idpendidikan]",this.formData.idpendidikan||""),a.append("record[idpenolongkelahiran]",this.formData.idpenolongkelahiran||""),a.append("record[idstatusperkawinan]",this.formData.idstatusperkawinan||""),a.append("record[idtempatkelahiran]",this.formData.idtempatkelahiran||""),a.append("record[whatsapp]",this.formData.whatsapp||""),a.append("record[idrt]",this.formData.idrt||"");try{this.isEditMode?(a.append("_method","PUT"),await Mo(this.residentToEdit.idpenduduk,a),this.toast.success("Data penduduk berhasil diperbarui")):(await Do(a),this.toast.success("Data penduduk berhasil ditambah")),this.$emit("save-successful"),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data penduduk")}finally{this.isLoading=!1}}}};const Ih=(0,r.A)(Vh,[["render",Zk],["__scopeId","data-v-0d1b3c16"]]);var Nh=Ih;const Uh={class:"modal-header"},Rh={class:"modal-body"},Qh={key:0,class:"text-center p-5"},Wh={key:1,class:"text-center p-5 text-danger"},Oh={key:2,class:"profile-container"},Kh={class:"text-center mb-4"},$h={class:"penduduk mt-3"},Gh={class:"nik"},Jh={class:"detail-section"},qh={class:"row"},Hh={class:"col-md-6 detail-item"},Yh={class:"col-md-6 detail-item"},zh={class:"col-md-6 detail-item"},Zh={class:"col-md-6 detail-item"},ag={class:"col-md-6 detail-item"},eg={class:"col-md-6 detail-item"},tg={class:"detail-section"},sg={class:"row"},ig={class:"col-md-6 detail-item"},lg={class:"col-md-6 detail-item"},ng={class:"col-md-6 detail-item"},og={class:"col-md-6 detail-item"},rg={class:"detail-section"},cg={class:"row"},dg={class:"col-md-6 detail-item"},ug={class:"col-md-6 detail-item"},mg={class:"detail-section"},kg={class:"row"},hg={class:"col-md-6 detail-item"},gg={class:"detail-section"},pg={class:"row"},bg={class:"col-md-6 detail-item"},fg={class:"col-md-6 detail-item"},Lg={class:"modal-footer"};function yg(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[2]||(e[2]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Uh,[e[4]||(e[4]=(0,n.Lk)("h5",{class:"modal-title"},"Detail Data Penduduk",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Rh,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",Qh,e[5]||(e[5]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...",-1)]))):i.error?((0,n.uX)(),(0,n.CE)("div",Wh,[e[6]||(e[6]=(0,n.Lk)("i",{class:"fa fa-exclamation-triangle fa-3x mb-3"},null,-1)),e[7]||(e[7]=(0,n.Lk)("h4",null,"Terjadi Kesalahan",-1)),(0,n.Lk)("p",null,(0,k.v_)(i.error),1)])):i.penduduk?((0,n.uX)(),(0,n.CE)("div",Oh,[(0,n.Lk)("div",Kh,[(0,n.Lk)("h2",$h,(0,k.v_)(i.penduduk.nama||"Nama Tidak Tersedia"),1),(0,n.Lk)("p",Gh," NIK: "+(0,k.v_)(i.penduduk.nik||"-"),1)]),e[28]||(e[28]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",Jh,[e[14]||(e[14]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-user-circle me-2"}),(0,n.eW)("Data Diri")],-1)),(0,n.Lk)("div",qh,[(0,n.Lk)("div",Hh,[e[8]||(e[8]=(0,n.Lk)("label",null,"Tempat, Tanggal Lahir",-1)),(0,n.Lk)("span",null,(0,k.v_)([i.penduduk.tempatlahir,o.formatTanggal(i.penduduk.tanggallahir)].filter(Boolean).join(", ")||"-"),1)]),(0,n.Lk)("div",Yh,[e[9]||(e[9]=(0,n.Lk)("label",null,"Jenis Kelamin",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.jk?.namajeniskelamin||"-"),1)]),(0,n.Lk)("div",zh,[e[10]||(e[10]=(0,n.Lk)("label",null,"Agama",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.agama?.namaagama||"-"),1)]),(0,n.Lk)("div",Zh,[e[11]||(e[11]=(0,n.Lk)("label",null,"Golongan Darah",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.darah?.namagolongandarah||"-"),1)]),(0,n.Lk)("div",ag,[e[12]||(e[12]=(0,n.Lk)("label",null,"Status Perkawinan",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.perkawinan?.namastatusperkawinan||"-"),1)]),(0,n.Lk)("div",eg,[e[13]||(e[13]=(0,n.Lk)("label",null,"Hubungan Keluarga",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.hubungan?.namahubungankeluarga||"-"),1)])])]),(0,n.Lk)("div",tg,[e[19]||(e[19]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-map-marker me-2"}),(0,n.eW)("Data Alamat")],-1)),(0,n.Lk)("div",sg,[(0,n.Lk)("div",ig,[e[15]||(e[15]=(0,n.Lk)("label",null,"Desa",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.wilayah?.namawilayah||"-"),1)]),(0,n.Lk)("div",lg,[e[16]||(e[16]=(0,n.Lk)("label",null,"Dusun",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.dusun?.namadusun||"-"),1)]),(0,n.Lk)("div",ng,[e[17]||(e[17]=(0,n.Lk)("label",null,"RW",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.rw?.namarw||"-"),1)]),(0,n.Lk)("div",og,[e[18]||(e[18]=(0,n.Lk)("label",null,"RT",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.rt?.namart||"-"),1)])])]),(0,n.Lk)("div",rg,[e[22]||(e[22]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-briefcase me-2"}),(0,n.eW)("Pendidikan & Pekerjaan")],-1)),(0,n.Lk)("div",cg,[(0,n.Lk)("div",dg,[e[20]||(e[20]=(0,n.Lk)("label",null,"Pendidikan Terakhir",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.pendidikan?.namapendidikan||"-"),1)]),(0,n.Lk)("div",ug,[e[21]||(e[21]=(0,n.Lk)("label",null,"Pekerjaan",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.pekerjaan?.namapekerjaan||"-"),1)])])]),(0,n.Lk)("div",mg,[e[24]||(e[24]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-whatsapp me-2"}),(0,n.eW)("Kontak")],-1)),(0,n.Lk)("div",kg,[(0,n.Lk)("div",hg,[e[23]||(e[23]=(0,n.Lk)("label",null,"Nomor WhatsApp",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.whatsapp||"-"),1)])])]),(0,n.Lk)("div",gg,[e[27]||(e[27]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-child me-2"}),(0,n.eW)("Data Kelahiran")],-1)),(0,n.Lk)("div",pg,[(0,n.Lk)("div",bg,[e[25]||(e[25]=(0,n.Lk)("label",null,"Tempat Dilahirkan",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.tempatkelahiran?.namatempatdilahirkan||"-"),1)]),(0,n.Lk)("div",fg,[e[26]||(e[26]=(0,n.Lk)("label",null,"Penolong Kelahiran",-1)),(0,n.Lk)("span",null,(0,k.v_)(i.penduduk.penolong?.namapenolongkelahiran||"-"),1)])])])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Lg,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...a)=>o.closeModal&&o.closeModal(...a))},"Tutup")])])])])}var vg={name:"DetailResidentModal",props:{residentToView:{type:Object,required:!0}},emits:["close"],data(){return{penduduk:null,isLoading:!1,error:null}},methods:{closeModal(){this.$emit("close")},formatTanggal(a){if(!a)return null;const e={day:"numeric",month:"long",year:"numeric"};return new Date(a).toLocaleDateString("id-ID",e)},async fetchResidents(){const a=this.residentToView?.idpenduduk;if(a){this.isLoading=!0,this.error=null;try{const e=await Eo(a),t=e.data;if(Array.isArray(t)&&t.length>0){const a=t[0]?.data?.[0];a?this.penduduk=a:this.error="Struktur data penduduk di dalam respons tidak valid"}}catch(e){console.error("Gagal mengambil detail penduduk:",e),this.error=e.response?.data?.message||e.message||"Terjadi kesalahan saat memuat data"}finally{this.isLoading=!1}}else this.error="ID penduduk tidak valid atau tidak tersedia."}},mounted(){this.fetchResidents()},watch:{residentToView:{handler(a,e){a?.idpenduduk!==e?.idpenduduk&&this.fetchResidents()},deep:!0}}};const Cg=(0,r.A)(vg,[["render",yg],["__scopeId","data-v-496d32e1"]]);var Pg=Cg,Eg={components:{AddEditResidentModal:Nh,DetailResidentModal:Pg},data(){return{residents:[],genderList:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,residentBeingEdited:null,isFilterVisible:!1,filters:{namapenduduk:"",namakategoripenduduk:"",namawilayah:""},isDetailModalVisible:!1,residentBeingViewed:null}},computed:{paginatedResidents(){return this.residents},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchResidents()},perPage(){this.currentPage=1,this.fetchResidents()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchResidents(),await this.fetchGenders()},methods:{openAddModal(){this.residentBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.residentBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.residentBeingEdited=null},openDetailModal(a){this.residentBeingViewed={...a},this.isDetailModalVisible=!0},closeDetailModal(){this.isDetailModalVisible=!1,this.residentBeingViewed=null},handleSaveSuccessful(){this.closeModal(),this.fetchResidents()},formatTanggal(a){if(!a)return null;const e={day:"numeric",month:"long",year:"numeric"};return new Date(a).toLocaleDateString("id-ID",e)},async fetchResidents(){this.isLoading=!0;try{const a={act:"penduduk",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Po(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.residents=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching residents:",a),this.toast.error("Gagal memuat data penduduk",{icon:"fa fa-times"})}finally{this.isLoading=!1}},async fetchGenders(){try{const a=await ah({limit:-1});this.genderList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar jenis kelamin")}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Penduduk",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await wo(a),1===this.residents.length&&this.currentPage>1?this.currentPage--:this.fetchResidents(),this.toast.success("Data penduduk berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data penduduk",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchResidents()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchResidents()},resetFilters(){this.filters.namawilayah="",this.filters.tahunawal="",this.filters.tahunakhir="",this.filters.tanggal_sk="",this.filters.idjeniskelamin="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchResidents()}}};const Dg=(0,r.A)(Eg,[["render",Vm],["__scopeId","data-v-c15856ae"]]);var Mg=Dg,wg={components:{ResidentsTable:Mg}};const Fg=(0,r.A)(wg,[["render",Ju]]);var Xg=Fg;const xg={class:"container-fluid"},Tg={class:"row"};function Sg(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("groupsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",xg,[(0,n.Lk)("div",Tg,[(0,n.bF)(r)])])])}const Bg={class:"col-sm-12"},Ag={class:"card"},_g={class:"card-body"},jg={class:"d-flex justify-content-end align-items-start mb-3"},Vg={class:"d-flex gap-2"},Ig={key:0,class:"fa fa-angle-up me-2"},Ng={key:1,class:"fa fa-angle-down me-2"},Ug={key:0,class:"border p-3 mb-3 rounded filter-section"},Rg={class:"row g-3"},Qg={class:"col-md-3"},Wg={class:"col-md-3"},Og={class:"col-md-3"},Kg={class:"d-flex justify-content-end gap-2 mt-3"},$g={class:"table-responsive signal-table"},Gg={class:"table table-hover"},Jg={key:0,class:"fa fa-sort-asc"},qg={key:1,class:"fa fa-sort-desc"},Hg={key:2,class:"fa fa-sort"},Yg={key:0,class:"fa fa-sort-asc"},zg={key:1,class:"fa fa-sort-desc"},Zg={key:2,class:"fa fa-sort"},ap={key:0,class:"fa fa-sort-asc"},ep={key:1,class:"fa fa-sort-desc"},tp={key:2,class:"fa fa-sort"},sp={key:0},ip={scope:"row"},lp=["src"],np={key:1,class:"text-muted"},op={class:"btn-group"},rp=["onClick"],cp=["onClick"],dp=["onClick"],up={key:0},mp={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},kp={class:"mt-2"},hp={key:0,class:"text-muted"},gp={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},pp={class:"pagination mb-0"},bp={key:0,class:"page-item"},fp={key:1,class:"page-item disabled"},Lp=["onClick"],yp={key:2,class:"page-item disabled"},vp={key:3,class:"page-item"};function Cp(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-group-modal");return(0,n.uX)(),(0,n.CE)("div",Bg,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"group-to-edit":i.groupBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["group-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Ag,[e[38]||(e[38]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Kelompok")],-1)),(0,n.Lk)("div",_g,[(0,n.Lk)("div",jg,[(0,n.Lk)("div",Vg,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Ig)):((0,n.uX)(),(0,n.CE)("i",Ng)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[14]||(e[14]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Ug,[(0,n.Lk)("div",Rg,[(0,n.Lk)("div",Qg,[e[15]||(e[15]=(0,n.Lk)("label",{for:"filterGroupName",class:"form-label"},"Nama Kelompok",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterGroupName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namkelompok=a),placeholder:"Filter berdasarkan nama kelompok..."},null,512),[[l.Jo,i.filters.namkelompok]])]),(0,n.Lk)("div",Wg,[e[16]||(e[16]=(0,n.Lk)("label",{for:"filterGroupCategory",class:"form-label"},"Kategori Kelompok",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterGroupCategory",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.namakategorikelompok=a),placeholder:"Filter berdasarkan kategori kelompok..."},null,512),[[l.Jo,i.filters.namakategorikelompok]])]),(0,n.Lk)("div",Og,[e[17]||(e[17]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa..."},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",Kg,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[5]||(e[5]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[6]||(e[6]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[19]||(e[19]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",$g,[(0,n.Lk)("table",Gg,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[23]||(e[23]=(0,n.Lk)("th",{scope:"col"},"No",-1)),e[24]||(e[24]=(0,n.Lk)("th",{scope:"col"},"Logo",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("namakelompok"))},[e[20]||(e[20]=(0,n.eW)(" Nama Kelompok ")),"namakelompok"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Jg)):"namakelompok"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",qg)):((0,n.uX)(),(0,n.CE)("i",Hg))]),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("namakategorikelompok"))},[e[21]||(e[21]=(0,n.eW)(" Nama Kategori Kelompok ")),"namakategorikelompok"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Yg)):"namakategorikelompok"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",zg)):((0,n.uX)(),(0,n.CE)("i",Zg))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("namawilayah"))},[e[22]||(e[22]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",ap)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",ep)):((0,n.uX)(),(0,n.CE)("i",tp))]),e[25]||(e[25]=(0,n.Lk)("th",{scope:"col"},"Deskripsi",-1)),e[26]||(e[26]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",sp,e[27]||(e[27]=[(0,n.Lk)("td",{colspan:"6",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedGroups,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkelompok},[(0,n.Lk)("th",ip,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,[a.logo?((0,n.uX)(),(0,n.CE)("img",{key:0,src:a.logo,alt:"Logo",style:{height:"50px",width:"auto"}},null,8,lp)):((0,n.uX)(),(0,n.CE)("span",np,"-"))]),(0,n.Lk)("td",null,(0,k.v_)(a.namakelompok||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.kelompok.namakategorikelompok||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah.namawilayah||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.deskripsi||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",op,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openSkFile(a.filesk),title:"Lihat File SK"},e[28]||(e[28]=[(0,n.Lk)("i",{class:"fa fa-file"},null,-1)]),8,rp),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[29]||(e[29]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,cp),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkelompok),title:"Hapus Data"},e[30]||(e[30]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,dp)])])]))),128)),0===o.paginatedGroups.length?((0,n.uX)(),(0,n.CE)("tr",up,e[31]||(e[31]=[(0,n.Lk)("td",{colspan:"6",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",mp,[(0,n.Lk)("div",kp,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",hp,[e[32]||(e[32]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[33]||(e[33]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[34]||(e[34]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[35]||(e[35]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",gp,[(0,n.Lk)("ul",pp,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",bp,[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",fp,e[36]||(e[36]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,Lp)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",yp,e[37]||(e[37]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",vp,[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const Pp=(a={})=>Mi.get("",{params:{act:"kelompok",...a}}),Ep=a=>(a.append("act","kelompok"),Mi.post("",a)),Dp=(a,e)=>a?(e.append("act","kelompok"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID kelompok tidak tersedia.")),Mp=a=>a?Mi.delete("",{data:{act:"kelompok",key:a}}):Promise.reject(new Error("ID kelompok tidak tersedia.")),wp={class:"modal-header"},Fp={class:"modal-title"},Xp={class:"modal-body"},xp={class:"mb-3"},Tp={class:"mb-3"},Sp=["disabled"],Bp={disabled:"",value:""},Ap=["value"],_p={class:"mb-3"},jp=["disabled"],Vp={disabled:"",value:""},Ip=["value"],Np={class:"row"},Up={class:"mb-3"},Rp={class:"row"},Qp={class:"col-md-6 mb-3"},Wp={class:"mt-2"},Op={key:0},Kp=["src"],$p={key:1},Gp=["src"],Jp={class:"col-md-6 mb-3"},qp={key:0,class:"mt-2"},Hp=["href"],Yp={key:1,class:"mt-2"},zp={key:0,class:"alert alert-danger mt-3"},Zp={class:"modal-footer"},ab=["disabled"],eb={key:0,class:"spinner-border spinner-border-sm",role:"status"},tb={key:1};function sb(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[11]||(e[11]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[10]||(e[10]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",wp,[(0,n.Lk)("h5",Fp,(0,k.v_)(o.isEditMode?"Edit Data Kelompok":"Tambah Data Kelompok"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Xp,[(0,n.Lk)("form",{onSubmit:e[7]||(e[7]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",xp,[e[12]||(e[12]=(0,n.Lk)("label",{class:"form-label"},"Nama Kelompok ",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namakelompok=a),required:""},null,512),[[l.Jo,i.formData.namakelompok]])]),(0,n.Lk)("div",Tp,[e[13]||(e[13]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.iddesa=a),required:"",disabled:i.isDesaListLoading},[(0,n.Lk)("option",Bp,(0,k.v_)(i.isDesaListLoading?"Memuat daftar desa...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,Ap))),128))],8,Sp),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",_p,[e[14]||(e[14]=(0,n.Lk)("label",{class:"form-label"},"Kategori Kelompok",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.idkategorikelompok=a),required:"",disabled:i.isCategoryListLoading},[(0,n.Lk)("option",Vp,(0,k.v_)(i.isCategoryListLoading?"Memuat daftar kategori...":"Pilih Kategori Kelompok"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.categoryList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idkategorikelompok,value:a.idkategorikelompok},(0,k.v_)(a.namakategorikelompok),9,Ip))),128))],8,jp),[[l.u1,i.formData.idkategorikelompok]])]),(0,n.Lk)("div",Np,[(0,n.Lk)("div",Up,[e[15]||(e[15]=(0,n.Lk)("label",{class:"form-label"},"Deskripsi",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.deskripsi=a),rows:"4",placeholder:"Deskripsi..."},null,512),[[l.Jo,i.formData.deskripsi]])])]),(0,n.Lk)("div",Rp,[(0,n.Lk)("div",Qp,[e[16]||(e[16]=(0,n.Lk)("label",{class:"form-label"},"Upload Logo Usaha",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[5]||(e[5]=(...a)=>o.handleLogoUpload&&o.handleLogoUpload(...a))},null,32),(0,n.Lk)("div",Wp,[i.logoPreviewUrl?((0,n.uX)(),(0,n.CE)("div",Op,[(0,n.Lk)("img",{src:i.logoPreviewUrl,alt:"Preview Logo",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,Kp)])):o.isEditMode&&i.formData.logo?((0,n.uX)(),(0,n.CE)("div",$p,[(0,n.Lk)("img",{src:i.formData.logo,alt:"Logo Saat Ini",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,Gp)])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Jp,[e[19]||(e[19]=(0,n.Lk)("label",{class:"form-label"},"Upload File SK",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:".pdf,.doc,.docx,image/*",onChange:e[6]||(e[6]=(...a)=>o.handleFileUpload&&o.handleFileUpload(...a))},null,32),o.isEditMode&&i.formData.filesk&&!i.selectedSkFile?((0,n.uX)(),(0,n.CE)("div",qp,[e[17]||(e[17]=(0,n.eW)(" File saat ini: ")),(0,n.Lk)("a",{href:i.formData.filesk,target:"_blank",rel:"noopener noreferrer"},"Lihat File",8,Hp)])):(0,n.Q3)("",!0),i.skFileName?((0,n.uX)(),(0,n.CE)("div",Yp,[e[18]||(e[18]=(0,n.eW)(" File baru: ")),(0,n.Lk)("strong",null,(0,k.v_)(i.skFileName),1)])):(0,n.Q3)("",!0)])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zp,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Zp,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[8]||(e[8]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[9]||(e[9]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eb)):((0,n.uX)(),(0,n.CE)("span",tb,"Simpan"))],8,ab)])])])])}const ib=(a={})=>Mi.get("",{params:{act:"kategori-kelompok",...a}}),lb=a=>Mi.post("",{act:"kategori-kelompok",record:a}),nb=(a,e)=>a?Mi.put("",{act:"kategori-kelompok",key:a,record:e}):Promise.reject(new Error("ID kategori kelompok tidak tersedia.")),ob=a=>a?Mi.delete("",{data:{act:"kategori-kelompok",key:a}}):Promise.reject(new Error("ID kategori kelompok tidak tersedia.")),rb={namakelompok:"",iddesa:"",idkategorikelompok:"",deskripsi:"",logo:null,filesk:null};var cb={name:"addEditGroupModal",props:{groupToEdit:{type:Object,default:null}},data(){return{formData:{...rb},selectedSkFile:null,skFileName:"",selectedLogoFile:null,logoPreviewUrl:null,desaList:[],categoryList:[],isDesaListLoading:!1,isCategoryListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.groupToEdit}},watch:{groupToEdit:{handler(a){a?(this.formData.namakelompok=a.namakelompok,this.formData.iddesa=a.iddesa,this.formData.idkategorikelompok=a.idkategorikelompok,this.formData.deskripsi=a.deskripsi,this.formData.filesk=a.filesk,this.logo=a.logo):this.formData={...rb},this.selectedSkFile=null,this.skFileName="",this.selectedLogoFile=null,this.logoPreviewUrl=null,this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList(),this.fetchCategoryList()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isDesaListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa.")}finally{this.isDesaListLoading=!1}},async fetchCategoryList(){this.isCategoryListLoading=!0;try{const a=await ib({limit:-1});this.categoryList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar kategori kelompok.")}finally{this.isCategoryListLoading=!1}},handleFileUpload(a){const e=a.target.files[0];if(!e)return this.selectedSkFile=null,void(this.skFileName="");this.selectedSkFile=e,this.skFileName=e.name},handleLogoUpload(a){const e=a.target.files[0];if(this.logoPreviewUrl&&URL.revokeObjectURL(this.logoPreviewUrl),!e)return this.selectedLogoFile=null,void(this.logoPreviewUrl=null);this.selectedLogoFile=e,this.logoPreviewUrl=URL.createObjectURL(e)},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[namakelompok]",this.formData.namakelompok),a.append("record[iddesa]",this.formData.iddesa),a.append("record[idkategorikelompok]",this.formData.idkategorikelompok),a.append("record[deskripsi]",this.formData.deskripsi),this.selectedSkFile&&a.append("upload_filesk",this.selectedSkFile),this.selectedLogoFile&&a.append("upload_logo",this.selectedLogoFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await Dp(this.groupToEdit.idkelompok,a),this.toast.success("Data kelompok berhasil diperbarui")):(e=await Ep(a),this.toast.success("Data kelompok berhasil ditambah")),this.$emit("save-successful"),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data kelompok")}finally{this.isLoading=!1}}}};const db=(0,r.A)(cb,[["render",sb],["__scopeId","data-v-3f8f9338"]]);var ub=db,mb={components:{AddEditGroupModal:ub},data(){return{groups:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,groupBeingEdited:null,isFilterVisible:!1,filters:{namakelompok:"",namakategorikelompok:"",namawilayah:""}}},computed:{paginatedGroups(){return this.groups},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchGroups()},perPage(){this.currentPage=1,this.fetchGroups()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchGroups()},methods:{openAddModal(){this.groupBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.groupBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.groupBeingEdited=null},openSkFile(a){a?window.open(a,"_blank"):this.toast.info("Tidak ada file SK yang tersedia.",{icon:"fa fa-info-circle"})},handleSaveSuccessful(){this.closeModal(),this.fetchGroups()},async fetchGroups(){this.isLoading=!0;try{const a={act:"kelompok",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Pp(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.groups=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching groups:",a),this.toast.error("Gagal memuat data kelompok",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Kelompok",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Mp(a),1===this.groups.length&&this.currentPage>1?this.currentPage--:this.fetchGroups(),this.toast.success("Data kelompok berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data kelompok",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchGroups()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchGroups()},resetFilters(){this.filters.namawilayah="",this.filters.tahunawal="",this.filters.tahunakhir="",this.filters.tanggal_sk="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchGroups()}}};const kb=(0,r.A)(mb,[["render",Cp],["__scopeId","data-v-32513114"]]);var hb=kb,gb={components:{groupsTable:hb}};const pb=(0,r.A)(gb,[["render",Sg]]);var bb=pb;const fb={class:"container-fluid"},Lb={class:"row"};function yb(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ProgramsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Agenda Kegiatan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",fb,[(0,n.Lk)("div",Lb,[(0,n.bF)(r)])])])}const vb={class:"col-sm-12"},Cb={class:"card"},Pb={class:"card-body"},Eb={class:"d-flex justify-content-end align-items-start mb-3"},Db={class:"d-flex gap-2"},Mb={key:0,class:"fa fa-angle-up me-2"},wb={key:1,class:"fa fa-angle-down me-2"},Fb={key:0,class:"border p-3 mb-3 rounded filter-section"},Xb={class:"row g-3"},xb={class:"col-md-3"},Tb={class:"col-md-3"},Sb={class:"d-flex justify-content-end gap-2 mt-3"},Bb={class:"table-responsive signal-table"},Ab={class:"table table-hover"},_b={key:0,class:"fa fa-sort-asc"},jb={key:1,class:"fa fa-sort-desc"},Vb={key:2,class:"fa fa-sort"},Ib={key:0,class:"fa fa-sort-asc"},Nb={key:1,class:"fa fa-sort-desc"},Ub={key:2,class:"fa fa-sort"},Rb={key:0,class:"fa fa-sort-asc"},Qb={key:1,class:"fa fa-sort-desc"},Wb={key:2,class:"fa fa-sort"},Ob={key:0,class:"fa fa-sort-asc"},Kb={key:1,class:"fa fa-sort-desc"},$b={key:2,class:"fa fa-sort"},Gb={key:0},Jb={scope:"row"},qb={class:"btn-group"},Hb=["onClick"],Yb=["onClick"],zb=["onClick"],Zb={key:0},af={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},ef={class:"mt-2"},tf={key:0,class:"text-muted"},sf={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},lf={class:"pagination mb-0"},nf={key:0,class:"page-item"},of={key:1,class:"page-item disabled"},rf=["onClick"],cf={key:2,class:"page-item disabled"},df={key:3,class:"page-item"};function uf(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-program-modal"),c=(0,n.g2)("detail-program-modal");return(0,n.uX)(),(0,n.CE)("div",vb,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"program-to-edit":i.programBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["program-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isDetailModalVisible?((0,n.uX)(),(0,n.Wv)(c,{key:1,"program-to-view":i.programBeingViewed,onClose:o.closeDetailModal},null,8,["program-to-view","onClose"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Cb,[e[38]||(e[38]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Program Kegiatan")],-1)),(0,n.Lk)("div",Pb,[(0,n.Lk)("div",Eb,[(0,n.Lk)("div",Db,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Mb)):((0,n.uX)(),(0,n.CE)("i",wb)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[14]||(e[14]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Fb,[(0,n.Lk)("div",Xb,[(0,n.Lk)("div",xb,[e[15]||(e[15]=(0,n.Lk)("label",{for:"filterProgramTitle",class:"form-label"},"Judul Program",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterProgramTitle",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.judul=a),placeholder:"Filter berdasarkan judul"},null,512),[[l.Jo,i.filters.judul]])]),(0,n.Lk)("div",Tb,[e[16]||(e[16]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",Sb,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))]),e[19]||(e[19]=(0,n.eW)(" Â  Â  Â  Â  Â  Â  "))])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Bb,[(0,n.Lk)("table",Ab,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[24]||(e[24]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[6]||(e[6]=a=>o.sortBy("namawilayah"))},[e[20]||(e[20]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",_b)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",jb)):((0,n.uX)(),(0,n.CE)("i",Vb))]),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("judul"))},[e[21]||(e[21]=(0,n.eW)(" Judul Program ")),"judul"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Ib)):"judul"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Nb)):((0,n.uX)(),(0,n.CE)("i",Ub))]),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("tanggalmulai"))},[e[22]||(e[22]=(0,n.eW)(" Tanggal Mulai ")),"tanggalmulai"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Rb)):"tanggalmulai"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Qb)):((0,n.uX)(),(0,n.CE)("i",Wb))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("tanggalselesai"))},[e[23]||(e[23]=(0,n.eW)(" Tanggal Selesai ")),"tanggalselesai"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Ob)):"tanggalselesai"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Kb)):((0,n.uX)(),(0,n.CE)("i",$b))]),e[25]||(e[25]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",Gb,e[26]||(e[26]=[(0,n.Lk)("td",{colspan:"6",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.programs,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkegiatan},[(0,n.Lk)("th",Jb,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.judul||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(o.formatTanggal(a.tanggalmulai)||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(o.formatTanggal(a.tanggalselesai)||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",qb,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openDetailModal(a),title:"Lihat Detail"},e[27]||(e[27]=[(0,n.Lk)("i",{class:"fa fa-eye"},null,-1)]),8,Hb),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[28]||(e[28]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,Yb),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkegiatan),title:"Hapus Data"},e[29]||(e[29]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,zb)])])]))),128)),0===i.programs.length?((0,n.uX)(),(0,n.CE)("tr",Zb,e[30]||(e[30]=[(0,n.Lk)("td",{colspan:"6",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64)),e[31]||(e[31]=(0,n.eW)(" Â  "))])]),(0,n.Lk)("div",af,[(0,n.Lk)("div",ef,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",tf,[e[32]||(e[32]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[33]||(e[33]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[34]||(e[34]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[35]||(e[35]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",sf,[(0,n.Lk)("ul",lf,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",nf,[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",of,e[36]||(e[36]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,rf)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",cf,e[37]||(e[37]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",df,[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const mf=(a={})=>Mi.get("",{params:{act:"kegiatan",...a}}),kf=a=>a?Mi.get("",{params:{act:"kegiatan",key:a}}):Promise.reject(new Error("ID kegiatan tidak tersedia.")),hf=a=>(a.append("act","kegiatan"),Mi.post("",a)),gf=(a,e)=>a?(e.append("act","kegiatan"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID kegiatan tidak tersedia.")),pf=a=>a?Mi.delete("",{data:{act:"kegiatan",key:a}}):Promise.reject(new Error("ID kegiatan tidak tersedia.")),bf={class:"modal-header"},ff={class:"modal-title"},Lf={class:"modal-body"},yf={class:"mb-3"},vf=["disabled"],Cf={disabled:"",value:""},Pf=["value"],Ef={class:"mb-3"},Df=["disabled"],Mf={disabled:"",value:""},wf=["value"],Ff={class:"mb-3"},Xf={class:"mb-3"},xf={class:"row"},Tf={class:"col-md-6 mb-3"},Sf={class:"col-md-6 mb-3"},Bf={class:"mb-3"},Af={class:"mb-3"},_f={class:"mt-2"},jf={key:0},Vf=["src"],If={key:1},Nf=["src"],Uf={key:0,class:"alert alert-danger mt-3"},Rf={class:"modal-footer"},Qf=["disabled"],Wf={key:0,class:"spinner-border spinner-border-sm",role:"status"},Of={key:1};function Kf(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[13]||(e[13]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[12]||(e[12]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",bf,[(0,n.Lk)("h5",ff,(0,k.v_)(o.isEditMode?"Edit Data Kegiatan":"Tambah Data Kegiatan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Lf,[(0,n.Lk)("form",{onSubmit:e[9]||(e[9]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",yf,[e[14]||(e[14]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.iddesa=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Cf,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,Pf))),128))],8,vf),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",Ef,[e[15]||(e[15]=(0,n.Lk)("label",{class:"form-label"},"Nama Kategori Kegiatan",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.idkategorikegiatan=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Mf,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Kategori Kegiatan"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.categoryList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idkategorikegiatan,value:a.idkategorikegiatan},(0,k.v_)(a.namakategorikegiatan),9,wf))),128))],8,Df),[[l.u1,i.formData.idkategorikegiatan]])]),(0,n.Lk)("div",Ff,[e[16]||(e[16]=(0,n.Lk)("label",{class:"form-label"},"Judul Program",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.judul=a),placeholder:"Masukkan judul program",required:""},null,512),[[l.Jo,i.formData.judul]])]),(0,n.Lk)("div",Xf,[e[17]||(e[17]=(0,n.Lk)("label",{class:"form-label"},"Konten Program",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.konten=a),rows:"4",placeholder:"Tuliskan isi konten program",required:""},null,512),[[l.Jo,i.formData.konten]])]),(0,n.Lk)("div",xf,[(0,n.Lk)("div",Tf,[e[18]||(e[18]=(0,n.Lk)("label",{class:"form-label"},"Tanggal Mulai",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>i.formData.tanggalmulai=a),required:""},null,512),[[l.Jo,i.formData.tanggalmulai]])]),(0,n.Lk)("div",Sf,[e[19]||(e[19]=(0,n.Lk)("label",{class:"form-label"},"Tanggal Selesai",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=a=>i.formData.tanggalselesai=a),required:""},null,512),[[l.Jo,i.formData.tanggalselesai]])])]),(0,n.Lk)("div",Bf,[e[20]||(e[20]=(0,n.Lk)("label",{class:"form-label"},"Jam Pelaksanaan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"time",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=a=>i.formData.jampelaksanaan=a),required:""},null,512),[[l.Jo,i.formData.jampelaksanaan]])]),(0,n.Lk)("div",Af,[e[21]||(e[21]=(0,n.Lk)("label",{class:"form-label"},"Upload Poster",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[8]||(e[8]=(...a)=>o.handlePosterUpload&&o.handlePosterUpload(...a))},null,32),(0,n.Lk)("div",_f,[a.posterPreviewUrl?((0,n.uX)(),(0,n.CE)("div",jf,[(0,n.Lk)("img",{src:a.posterPreviewUrl,alt:"Preview Poster",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,Vf)])):o.isEditMode&&i.formData.poster?((0,n.uX)(),(0,n.CE)("div",If,[(0,n.Lk)("img",{src:i.formData.poster,alt:"Poster Saat Ini",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,Nf)])):(0,n.Q3)("",!0)])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Uf,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Rf,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[10]||(e[10]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[11]||(e[11]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Wf)):((0,n.uX)(),(0,n.CE)("span",Of,"Simpan"))],8,Qf)])])])])}const $f=(a={})=>Mi.get("",{params:{act:"kategori-kegiatan",...a}}),Gf=a=>(a.append("act","kategori-kegiatan"),Mi.post("",a)),Jf=(a,e)=>a?(e.append("act","kategori-kegiatan"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID kategori kegiatan tidak tersedia.")),qf=a=>a?Mi.delete("",{data:{act:"kategori-kegiatan",key:a}}):Promise.reject(new Error("ID kategori kegiatan tidak tersedia.")),Hf={idkategorikegiatan:"",iddesa:"",judul:"",konten:"",tanggalmulai:"",tanggalselesai:"",jampelaksanaan:"",poster:null};var Yf={name:"addEditProgramModal",props:{programToEdit:{type:Object,default:null}},data(){return{formData:{...Hf},selectedPosterFile:null,PosterPreviewUrl:null,categoryList:[],desaList:[],isListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.programToEdit}},watch:{programToEdit:{handler(a){a?(this.formData.idkategorikegiatan=a.idkategorikegiatan,this.formData.iddesa=a.iddesa,this.formData.judul=a.judul,this.formData.konten=a.konten,this.formData.tanggalmulai=a.tanggalmulai,this.formData.tanggalselesai=a.tanggalselesai,this.formData.jampelaksanaan=a.jampelaksanaan,this.formData.poster=a.poster):this.formData={...Hf},this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList(),this.fetchCategoryList()},beforeUnmount(){this.posterPreviewUrl&&URL.revokeObjectURL(this.posterPreviewUrl)},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isListLoading=!1}},async fetchCategoryList(){this.isListLoading=!0;try{const a=await $f({limit:-1});this.categoryList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar kategori kegiatan")}finally{this.isListLoading=!1}},handlePosterUpload(a){const e=a.target.files[0];if(this.posterPreviewUrl&&URL.revokeObjectURL(this.posterPreviewUrl),!e)return this.selectedPosterFile=null,void(this.posterPreviewUrl=null);this.selectedPosterFile=e,this.posterPreviewUrl=URL.createObjectURL(e)},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[idkategorikegiatan]",this.formData.idkategorikegiatan),a.append("record[iddesa]",this.formData.iddesa),a.append("record[judul]",this.formData.judul),a.append("record[konten]",this.formData.konten),a.append("record[tanggalmulai]",this.formData.tanggalmulai),a.append("record[tanggalselesai]",this.formData.tanggalselesai),a.append("record[jampelaksanaan]",this.formData.jampelaksanaan),this.selectedPosterFile&&a.append("upload_poster",this.selectedPosterFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await gf(this.programToEdit.idkegiatan,a),this.toast.success("Data kegiatan berhasil diperbarui")):(e=await hf(a),this.toast.success("Data kegiatan berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data kegiatan")}finally{this.isLoading=!1}}}};const zf=(0,r.A)(Yf,[["render",Kf],["__scopeId","data-v-448c9002"]]);var Zf=zf;const aL={class:"modal-header"},eL={class:"modal-body"},tL={key:0,class:"text-center p-5"},sL={key:1,class:"text-center p-5 text-danger"},iL={key:0,class:"text-muted"},lL={key:2,class:"program-details-container"},nL={class:"program-title text-center mb-4"},oL={class:"row"},rL={class:"col-md-5"},cL={class:"detail-item"},dL=["src"],uL={key:1,src:"https://placehold.co/400x200/EBF4FF/7F9CF5?text=Poster",alt:"Poster Default",class:"featured-image"},mL={class:"col-md-7"},kL={class:"detail-item mb-3"},hL={class:"detail-item mb-3"},gL={class:"detail-item mb-3"},pL={class:"detail-item"},bL={class:"detail-section"},fL={class:"text-content"},LL={class:"modal-footer"};function yL(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[2]||(e[2]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",aL,[e[4]||(e[4]=(0,n.Lk)("h5",{class:"modal-title"},"Detail Program",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",eL,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",tL,e[5]||(e[5]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...",-1)]))):i.error?((0,n.uX)(),(0,n.CE)("div",sL,[e[6]||(e[6]=(0,n.Lk)("i",{class:"fa fa-exclamation-triangle fa-3x mb-3"},null,-1)),e[7]||(e[7]=(0,n.Lk)("h4",null,"Terjadi Kesalahan",-1)),(0,n.Lk)("p",null,(0,k.v_)(i.error),1),i.debugMessage?((0,n.uX)(),(0,n.CE)("small",iL,"Detail: "+(0,k.v_)(i.debugMessage),1)):(0,n.Q3)("",!0)])):i.programDetail?((0,n.uX)(),(0,n.CE)("div",lL,[(0,n.Lk)("h2",nL,(0,k.v_)(i.programDetail.judul||"Judul Belum Tersedia"),1),(0,n.Lk)("div",oL,[(0,n.Lk)("div",rL,[(0,n.Lk)("div",cL,[e[8]||(e[8]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-image me-2"}),(0,n.eW)("Poster")],-1)),i.programDetail.poster?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.programDetail.poster,alt:"Poster Program",class:"featured-image",onerror:"this.src='https://placehold.co/400x200/EBF4FF/7F9CF5?text=Poster'"},null,8,dL)):((0,n.uX)(),(0,n.CE)("img",uL))])]),(0,n.Lk)("div",mL,[(0,n.Lk)("div",kL,[e[9]||(e[9]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-map-marker me-2"}),(0,n.eW)("Nama Desa")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.programDetail.wilayah?.namawilayah||"Lokasi tidak diketahui"),1)]),(0,n.Lk)("div",hL,[e[10]||(e[10]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-tags me-2"}),(0,n.eW)("Kategori Program")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.programDetail.kategorikegiatan?.namakategorikegiatan||"-"),1)]),(0,n.Lk)("div",gL,[e[11]||(e[11]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-calendar me-2"}),(0,n.eW)("Tanggal Pelaksanaan")],-1)),(0,n.Lk)("p",null,(0,k.v_)(o.formattedExecutionDate),1)]),(0,n.Lk)("div",pL,[e[12]||(e[12]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-clock-o me-2"}),(0,n.eW)("Waktu Pelaksanaan")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.programDetail.jampelaksanaan||"-"),1)])])]),e[14]||(e[14]=(0,n.Lk)("hr",{class:"my-4"},null,-1)),(0,n.Lk)("div",bL,[e[13]||(e[13]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-file-text-o me-2"}),(0,n.eW)("Isi Konten")],-1)),(0,n.Lk)("p",fL,(0,k.v_)(i.programDetail.konten||"Tidak ada konten untuk ditampilkan."),1)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",LL,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...a)=>o.closeModal&&o.closeModal(...a))},"Tutup")])])])}var vL={name:"DetailProgramModal",props:{programToView:{type:Object,required:!0}},emits:["close"],data(){return{programDetail:null,isLoading:!1,error:null,debugMessage:""}},computed:{formattedExecutionDate(){if(!this.programDetail)return"-";const{tanggalmulai:a,tanggalselesai:e}=this.programDetail;if(!a)return"-";const t={day:"numeric",month:"long",year:"numeric"},s=new Date(a).toLocaleDateString("id-ID",t);if(a===e||!e)return s;const i=new Date(e).toLocaleDateString("id-ID",t);return`${s} - ${i}`}},methods:{closeModal(){this.$emit("close")},async fetchProgramDetail(){const a=this.programToView?.idkegiatan;if(a){this.isLoading=!0,this.error=null,this.debugMessage="";try{const e=await kf(a),t=e.data;Array.isArray(t)&&t.length>0&&t[0]&&Array.isArray(t[0].data)&&t[0].data.length>0?this.programDetail=t[0].data[0]:(this.error="Data program tidak ditemukan atau format respons tidak sesuai.",this.debugMessage=`Struktur data yang diterima: ${JSON.stringify(t)}`)}catch(e){console.error("Gagal mengambil detail program:",e),this.error=e.message||"Terjadi kesalahan saat memuat data.",e.response&&(this.debugMessage=`Status: ${e.response.status} - Data: ${JSON.stringify(e.response.data)}`)}finally{this.isLoading=!1}}else this.error="ID program tidak valid atau tidak tersedia."}},mounted(){this.fetchProgramDetail()},watch:{programToView:{handler(a,e){a?.idkegiatan!==e?.idkegiatan&&this.fetchProgramDetail()},deep:!0}}};const CL=(0,r.A)(vL,[["render",yL],["__scopeId","data-v-704f26de"]]);var PL=CL,EL={components:{AddEditProgramModal:Zf,DetailProgramModal:PL},data(){return{programs:[],isLoading:!1,sortColumn:"created_at",sortDirection:"desc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,programBeingEdited:null,isFilterVisible:!1,filters:{judul:"",namawilayah:""},isDetailModalVisible:!1,programBeingViewed:null}},computed:{paginatedPrograms(){return this.programs},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchPrograms()},perPage(){this.currentPage=1,this.fetchPrograms()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchPrograms()},methods:{openAddModal(){this.programBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.programBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.programBeingEdited=null},openDetailModal(a){this.programBeingViewed={...a},this.isDetailModalVisible=!0},closeDetailModal(){this.isDetailModalVisible=!1,this.programBeingViewed=null},formatTanggal(a){if(!a)return"-";const e={day:"numeric",month:"long",year:"numeric"};return new Date(a).toLocaleDateString("id-ID",e)},handleSaveSuccessful(){this.closeModal(),this.fetchPrograms()},async fetchPrograms(){this.isLoading=!0;try{const a={act:"kegiatan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await mf(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.programs=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching programs:",a),this.toast.error("Gagal memuat data kegiatan",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Program",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await pf(a),1===this.programs.length&&this.currentPage>1?this.currentPage--:this.fetchPrograms(),this.toast.success("Data kegiatan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data kegiatan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchPrograms()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchPrograms()},resetFilters(){this.filters.judul="",this.filters.namawilayah="",this.sortColumn="created_at",this.sortDirection="desc",this.currentPage=1,this.fetchPrograms()}}};const DL=(0,r.A)(EL,[["render",uf],["__scopeId","data-v-5bc05a2c"]]);var ML=DL,wL={components:{ProgramsTable:ML}};const FL=(0,r.A)(wL,[["render",yb]]);var XL=FL;const xL={class:"container-fluid"},TL={class:"row"};function SL(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ActivityCategoryTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Agenda Kegiatan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",xL,[(0,n.Lk)("div",TL,[(0,n.bF)(r)])])])}const BL={class:"col-sm-12"},AL={class:"card"},_L={class:"card-body"},jL={class:"d-flex justify-content-end align-items-start mb-3"},VL={class:"d-flex gap-2"},IL={key:0,class:"fa fa-angle-up me-2"},NL={key:1,class:"fa fa-angle-down me-2"},UL={key:0,class:"border p-3 mb-3 rounded filter-section"},RL={class:"row g-3"},QL={class:"col-md-3"},WL={class:"col-md-3"},OL={class:"d-flex justify-content-end gap-2 mt-3"},KL={class:"table-responsive signal-table"},$L={class:"table table-hover"},GL={key:0,class:"fa fa-sort-asc"},JL={key:1,class:"fa fa-sort-desc"},qL={key:2,class:"fa fa-sort"},HL={key:0,class:"fa fa-sort-asc"},YL={key:1,class:"fa fa-sort-desc"},zL={key:2,class:"fa fa-sort"},ZL={key:0},ay={scope:"row"},ey={class:"btn-group"},ty=["onClick"],sy=["onClick"],iy={key:0},ly={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},ny={class:"mt-2"},oy={key:0,class:"text-muted"},ry={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},cy={class:"pagination mb-0"},dy={key:0,class:"page-item"},uy={key:1,class:"page-item disabled"},my=["onClick"],ky={key:2,class:"page-item disabled"},hy={key:3,class:"page-item"};function gy(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-activityCategory-modal");return(0,n.uX)(),(0,n.CE)("div",BL,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"activityCategory-to-edit":i.activityCategoryBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["activityCategory-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",AL,[e[31]||(e[31]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Kategori Kegiatan")],-1)),(0,n.Lk)("div",_L,[(0,n.Lk)("div",jL,[(0,n.Lk)("div",VL,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",IL)):((0,n.uX)(),(0,n.CE)("i",NL)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",UL,[(0,n.Lk)("div",RL,[(0,n.Lk)("div",QL,[e[13]||(e[13]=(0,n.Lk)("label",{for:"filterActivityCategoryName",class:"form-label"},"Nama Kategori Kegiatan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterActivityCategoryName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namakategorikegiatan=a),placeholder:"Filter berdasarkan nama kategori"},null,512),[[l.Jo,i.filters.namakategorikegiatan]])]),(0,n.Lk)("div",WL,[e[14]||(e[14]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",OL,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[15]||(e[15]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",KL,[(0,n.Lk)("table",$L,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[19]||(e[19]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[6]||(e[6]=a=>o.sortBy("namakategorikegiatan"))},[e[17]||(e[17]=(0,n.eW)(" Nama Kategori ")),"namakategorikegiatan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",GL)):"namakategorikegiatan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",JL)):((0,n.uX)(),(0,n.CE)("i",qL))]),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("namawilayah"))},[e[18]||(e[18]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",HL)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",YL)):((0,n.uX)(),(0,n.CE)("i",zL))]),e[20]||(e[20]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",ZL,e[21]||(e[21]=[(0,n.Lk)("td",{colspan:"5",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.activityCategories,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkategorikegiatan},[(0,n.Lk)("th",ay,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namakategorikegiatan||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah.namawilayah||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",ey,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,ty),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkategorikegiatan),title:"Hapus Data"},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,sy)])])]))),128)),0===o.paginatedActivityCategories.length?((0,n.uX)(),(0,n.CE)("tr",iy,e[24]||(e[24]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",ly,[(0,n.Lk)("div",ny,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",oy,[e[25]||(e[25]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[26]||(e[26]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[27]||(e[27]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[28]||(e[28]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",ry,[(0,n.Lk)("ul",cy,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",dy,[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",uy,e[29]||(e[29]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,my)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",ky,e[30]||(e[30]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",hy,[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const py={class:"modal-header"},by={class:"modal-title"},fy={class:"modal-body"},Ly={class:"col mb-3"},yy={class:"mb-3"},vy=["disabled"],Cy={disabled:"",value:""},Py=["value"],Ey={key:0,class:"alert alert-danger mt-3"},Dy={class:"modal-footer"},My=["disabled"],wy={key:0,class:"spinner-border spinner-border-sm",role:"status"},Fy={key:1};function Xy(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[7]||(e[7]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[6]||(e[6]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",py,[(0,n.Lk)("h5",by,(0,k.v_)(o.isEditMode?"Edit Data Kategori Kegiatan":"Tambah Data Kategori Kegiatan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",fy,[(0,n.Lk)("form",{onSubmit:e[3]||(e[3]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Ly,[e[8]||(e[8]=(0,n.Lk)("label",{class:"form-label"},"Nama Kategori Kegiatan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namakategorikegiatan=a),placeholder:"Masukkan nama kategori kegiatan",required:""},null,512),[[l.Jo,i.formData.namakategorikegiatan]])]),(0,n.Lk)("div",yy,[e[9]||(e[9]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.iddesa=a),required:"",disabled:i.isDesaListLoading},[(0,n.Lk)("option",Cy,(0,k.v_)(i.isDesaListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,Py))),128))],8,vy),[[l.u1,i.formData.iddesa]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Ey,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Dy,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[4]||(e[4]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",wy)):((0,n.uX)(),(0,n.CE)("span",Fy,"Simpan"))],8,My)])])])])}const xy={iddesa:"",namakategorikegiatan:""};var Ty={name:"addEditActivityCategoryModal",props:{activityCategoryToEdit:{type:Object,default:null}},data(){return{formData:{...xy},desaList:[],isDesaListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.activityCategoryToEdit}},watch:{activityCategoryToEdit:{handler(a){a?(this.formData.iddesa=a.id_desa||a.iddesa||"",this.formData.namakategorikegiatan=a.namakategorikegiatan):this.formData={...xy},this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isDesaListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isDesaListLoading=!1}},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[namakategorikegiatan]",this.formData.namakategorikegiatan),a.append("record[id_desa]",this.formData.iddesa);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await Jf(this.activityCategoryToEdit.idkategoriartikel,a),this.toast.success("Data kategori kegiatan berhasil diperbarui")):(e=await Gf(a),this.toast.success("Data kategori kegiatan berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data kategori kegiatan")}finally{this.isLoading=!1}}}};const Sy=(0,r.A)(Ty,[["render",Xy],["__scopeId","data-v-3f074b27"]]);var By=Sy,Ay={components:{AddEditActivityCategoryModal:By},data(){return{activityCategories:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,activityCategoryBeingEdited:null,isFilterVisible:!1,filters:{namakategorikegiatan:"",namawilayah:""}}},computed:{paginatedActivityCategories(){return this.activityCategories},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchActivityCategories()},perPage(){this.currentPage=1,this.fetchActivityCategories()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchActivityCategories()},methods:{openAddModal(){this.activityCategoryBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.activityCategoryBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.activityCategoryBeingEdited=null},openSkFile(a){a?window.open(a,"_blank"):this.toast.info("Tidak ada file SK yang tersedia.",{icon:"fa fa-info-circle"})},handleSaveSuccessful(){this.closeModal(),this.fetchActivityCategories()},async fetchActivityCategories(){this.isLoading=!0;try{const a={act:"kategori-kegiatan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await $f(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.activityCategories=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching activityCategories:",a),this.toast.error("Gagal memuat data kategori kegiatan",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Kategori Kegiatan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await qf(a),1===this.activityCategories.length&&this.currentPage>1?this.currentPage--:this.fetchActivityCategories(),this.toast.success("Data kategori kegiatan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data kategori kegiatan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchActivityCategories()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchActivityCategories()},resetFilters(){this.filters.namadesa="",this.filters.tahunawal="",this.filters.tahunakhir="",this.filters.tanggal_sk="",this.sortColumn="created_at",this.sortDirection="desc",this.currentPage=1,this.fetchActivityCategories()}}};const _y=(0,r.A)(Ay,[["render",gy],["__scopeId","data-v-7b461f4a"]]);var jy=_y,Vy={components:{ActivityCategoryTable:jy}};const Iy=(0,r.A)(Vy,[["render",SL]]);var Ny=Iy;const Uy={class:"container-fluid"},Ry={class:"row"};function Qy(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("VehiclesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset/Inventory",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",Uy,[(0,n.Lk)("div",Ry,[(0,n.bF)(r)])])])}const Wy={class:"col-sm-12"},Oy={class:"card"},Ky={class:"card-body"},$y={class:"d-flex justify-content-end align-items-start mb-3"},Gy={class:"d-flex gap-2"},Jy={key:0,class:"fa fa-angle-up me-2"},qy={key:1,class:"fa fa-angle-down me-2"},Hy={key:0,class:"border p-3 mb-3 rounded filter-section"},Yy={class:"row g-3"},zy={class:"col-md-3"},Zy={class:"col-md-3"},av={class:"col-md-3"},ev={class:"col-md-3"},tv=["value"],sv={class:"d-flex justify-content-end gap-2 mt-3"},iv={class:"table-responsive signal-table"},lv={class:"table table-hover"},nv={key:0,class:"fa fa-sort-asc"},ov={key:1,class:"fa fa-sort-desc"},rv={key:2,class:"fa fa-sort"},cv={key:0,class:"fa fa-sort-asc"},dv={key:1,class:"fa fa-sort-desc"},uv={key:2,class:"fa fa-sort"},mv={key:0,class:"fa fa-sort-asc"},kv={key:1,class:"fa fa-sort-desc"},hv={key:2,class:"fa fa-sort"},gv={key:0,class:"fa fa-sort-asc"},pv={key:1,class:"fa fa-sort-desc"},bv={key:2,class:"fa fa-sort"},fv={key:0},Lv={scope:"row"},yv={class:"text-muted"},vv={class:"btn-group"},Cv=["onClick"],Pv=["onClick"],Ev=["onClick"],Dv={key:0},Mv={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},wv={class:"mt-2"},Fv={key:0,class:"text-muted"},Xv={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},xv={class:"pagination mb-0"},Tv={key:0,class:"page-item"},Sv={key:1,class:"page-item disabled"},Bv=["onClick"],Av={key:2,class:"page-item disabled"},_v={key:3,class:"page-item"};function jv(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-vehicle-modal"),c=(0,n.g2)("detail-vehicle-modal");return(0,n.uX)(),(0,n.CE)("div",Wy,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"vehicle-to-edit":i.vehicleBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["vehicle-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isDetailModalVisible?((0,n.uX)(),(0,n.Wv)(c,{key:1,"vehicle-to-view":i.vehicleBeingViewed,onClose:o.closeDetailModal},null,8,["vehicle-to-view","onClose"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Oy,[e[43]||(e[43]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Aset Kendaraan")],-1)),(0,n.Lk)("div",Ky,[(0,n.Lk)("div",$y,[(0,n.Lk)("div",Gy,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Jy)):((0,n.uX)(),(0,n.CE)("i",qy)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Hy,[(0,n.Lk)("div",Yy,[(0,n.Lk)("div",zy,[e[17]||(e[17]=(0,n.Lk)("label",{for:"filterItemName",class:"form-label"},"Nama Barang",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterItemName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namabarang=a),placeholder:"Filter berdasarkan nama barang"},null,512),[[l.Jo,i.filters.namabarang]])]),(0,n.Lk)("div",Zy,[e[18]||(e[18]=(0,n.Lk)("label",{for:"filterPoliceNumber",class:"form-label"},"Nomor Polisi",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterPoliceNumber",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.nomorpolisi=a),placeholder:"Filter berdasarkan nomor polisi"},null,512),[[l.Jo,i.filters.nomorpolisi]])]),(0,n.Lk)("div",av,[e[19]||(e[19]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])]),(0,n.Lk)("div",ev,[e[21]||(e[21]=(0,n.Lk)("label",{for:"filterCondition",class:"form-label"},"Kondisi",-1)),(0,n.bo)((0,n.Lk)("select",{id:"filterCondition",class:"form-select","onUpdate:modelValue":e[5]||(e[5]=a=>i.filters.idkondisi=a)},[e[20]||(e[20]=(0,n.Lk)("option",{value:""},"Semua Kondisi",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.kondisiList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idkondisi,value:a.idkondisi},(0,k.v_)(a.namakondisi),9,tv))),128))],512),[[l.u1,i.filters.idkondisi]])])]),(0,n.Lk)("div",sv,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[6]||(e[6]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",iv,[(0,n.Lk)("table",lv,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[28]||(e[28]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("namabarang"))},[e[24]||(e[24]=(0,n.eW)(" Nama Barang / Merk ")),"namabarang"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",nv)):"namabarang"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",ov)):((0,n.uX)(),(0,n.CE)("i",rv))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("nomorpolisi"))},[e[25]||(e[25]=(0,n.eW)(" Nomor Polisi ")),"nomorpolisi"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",cv)):"nomorpolisi"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",dv)):((0,n.uX)(),(0,n.CE)("i",uv))]),(0,n.Lk)("th",{scope:"col",onClick:e[10]||(e[10]=a=>o.sortBy("namawilayah"))},[e[26]||(e[26]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",mv)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",kv)):((0,n.uX)(),(0,n.CE)("i",hv))]),(0,n.Lk)("th",{scope:"col",onClick:e[11]||(e[11]=a=>o.sortBy("namakondisi"))},[e[27]||(e[27]=(0,n.eW)(" Kondisi ")),"namakondisi"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",gv)):"namakondisi"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",pv)):((0,n.uX)(),(0,n.CE)("i",bv))]),e[29]||(e[29]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",fv,e[30]||(e[30]=[(0,n.Lk)("td",{colspan:"7",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedVehicles,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkendaraan},[(0,n.Lk)("th",Lv,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,[(0,n.eW)((0,k.v_)(a.namabarang)+" ",1),e[31]||(e[31]=(0,n.Lk)("br",null,null,-1)),e[32]||(e[32]=(0,n.eW)()),(0,n.Lk)("small",yv,(0,k.v_)(a.merk),1)]),(0,n.Lk)("td",null,(0,k.v_)(a.nomorpolisi||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.kondisi?.namakondisi||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",vv,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openDetailModal(a),title:"Lihat Detail"},e[33]||(e[33]=[(0,n.Lk)("i",{class:"fa fa-eye"},null,-1)]),8,Cv),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[34]||(e[34]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,Pv),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkendaraan),title:"Hapus Data"},e[35]||(e[35]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,Ev)])])]))),128)),0===o.paginatedVehicles.length?((0,n.uX)(),(0,n.CE)("tr",Dv,e[36]||(e[36]=[(0,n.Lk)("td",{colspan:"7",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",Mv,[(0,n.Lk)("div",wv,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",Fv,[e[37]||(e[37]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[38]||(e[38]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[39]||(e[39]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[40]||(e[40]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",Xv,[(0,n.Lk)("ul",xv,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Tv,[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",Sv,e[41]||(e[41]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,Bv)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",Av,e[42]||(e[42]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",_v,[(0,n.Lk)("button",{class:"page-link",onClick:e[14]||(e[14]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[15]||(e[15]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const Vv=(a={})=>Mi.get("",{params:{act:"kendaraan",...a}}),Iv=a=>a?Mi.get("",{params:{act:"kendaraan",key:a}}):Promise.reject(new Error("ID kendaraan tidak tersedia.")),Nv=a=>(a.append("act","kendaraan"),Mi.post("",a)),Uv=(a,e)=>a?(e.append("act","kendaraan"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID kendaraan tidak tersedia.")),Rv=a=>a?Mi.delete("",{data:{act:"kendaraan",key:a}}):Promise.reject(new Error("ID kendaraan tidak tersedia.")),Qv=(a={})=>Mi.get("",{params:{act:"kondisi",...a}}),Wv=a=>Mi.post("",{act:"kondisi",record:a}),Ov=(a,e)=>a?Mi.put("",{act:"kondisi",key:a,record:e}):Promise.reject(new Error("ID kondisi tidak tersedia.")),Kv=a=>a?Mi.delete("",{data:{act:"kondisi",key:a}}):Promise.reject(new Error("ID kondisi tidak tersedia.")),$v={class:"modal-header"},Gv={class:"modal-title"},Jv={class:"modal-body"},qv={class:"row"},Hv={class:"col-md-6 mb-3"},Yv=["disabled"],zv={disabled:"",value:""},Zv=["value"],aC={class:"col-md-6 mb-3"},eC={class:"row"},tC={class:"col-md-6 mb-3"},sC={class:"col-md-6 mb-3"},iC={class:"row"},lC={class:"col-md-4 mb-3"},nC={class:"col-md-4 mb-3"},oC={class:"col-md-4 mb-3"},rC={class:"row"},cC={class:"col-md-4 mb-3"},dC={class:"col-md-4 mb-3"},uC={class:"col-md-4 mb-3"},mC={class:"row"},kC={class:"col-md-4 mb-3"},hC={class:"col-md-4 mb-3"},gC={class:"col-md-4 mb-3"},pC={class:"row"},bC={class:"col-md-6 mb-3"},fC=["value"],LC={class:"col-md-6 mb-3"},yC=["value"],vC={class:"row"},CC={class:"col-md-6 mb-3"},PC=["value"],EC={class:"col-md-6 mb-3"},DC=["value"],MC={class:"mb-3"},wC={class:"mb-3"},FC={class:"mt-2"},XC={key:0},xC=["src"],TC={key:1},SC=["src"],BC={key:0,class:"alert alert-danger mt-3"},AC={class:"modal-footer"},_C=["disabled"],jC={key:0,class:"spinner-border spinner-border-sm",role:"status"},VC={key:1};function IC(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[24]||(e[24]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[23]||(e[23]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",$v,[(0,n.Lk)("h5",Gv,(0,k.v_)(o.isEditMode?"Edit Data Kendaraan":"Tambah Data Kendaraan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Jv,[(0,n.Lk)("form",{onSubmit:e[20]||(e[20]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",qv,[(0,n.Lk)("div",Hv,[e[25]||(e[25]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.iddesa=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",zv,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,Zv))),128))],8,Yv),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",aC,[e[26]||(e[26]=(0,n.Lk)("label",{class:"form-label"},"Kode Aset",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.kodeaset=a),placeholder:"Masukkan kode aset",required:""},null,512),[[l.Jo,i.formData.kodeaset]])])]),(0,n.Lk)("div",eC,[(0,n.Lk)("div",tC,[e[27]||(e[27]=(0,n.Lk)("label",{class:"form-label"},"Nomor Register",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.nomorregister=a),placeholder:"Masukkan nomor register"},null,512),[[l.Jo,i.formData.nomorregister]])]),(0,n.Lk)("div",sC,[e[28]||(e[28]=(0,n.Lk)("label",{class:"form-label"},"Nama Barang",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.namabarang=a),placeholder:"Contoh: Sepeda Motor",required:""},null,512),[[l.Jo,i.formData.namabarang]])])]),(0,n.Lk)("div",iC,[(0,n.Lk)("div",lC,[e[29]||(e[29]=(0,n.Lk)("label",{class:"form-label"},"Merk / Tipe",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>i.formData.merk=a),placeholder:"Contoh: Honda Vario"},null,512),[[l.Jo,i.formData.merk]])]),(0,n.Lk)("div",nC,[e[30]||(e[30]=(0,n.Lk)("label",{class:"form-label"},"Ukuran Silinder (CC)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=a=>i.formData.ukuransilinder=a),placeholder:"Contoh: 150"},null,512),[[l.Jo,i.formData.ukuransilinder]])]),(0,n.Lk)("div",oC,[e[31]||(e[31]=(0,n.Lk)("label",{class:"form-label"},"Bahan Bakar",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=a=>i.formData.bahanbakar=a),placeholder:"Contoh: Bensin"},null,512),[[l.Jo,i.formData.bahanbakar]])])]),(0,n.Lk)("div",rC,[(0,n.Lk)("div",cC,[e[32]||(e[32]=(0,n.Lk)("label",{class:"form-label"},"Nomor Mesin",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>i.formData.nomormesin=a),placeholder:"Masukkan nomor mesin"},null,512),[[l.Jo,i.formData.nomormesin]])]),(0,n.Lk)("div",dC,[e[33]||(e[33]=(0,n.Lk)("label",{class:"form-label"},"Nomor Rangka",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=a=>i.formData.nomorrangka=a),placeholder:"Masukkan nomor rangka"},null,512),[[l.Jo,i.formData.nomorrangka]])]),(0,n.Lk)("div",uC,[e[34]||(e[34]=(0,n.Lk)("label",{class:"form-label"},"Nomor Polisi",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=a=>i.formData.nomorpolisi=a),placeholder:"Contoh: AA 1234 BCD"},null,512),[[l.Jo,i.formData.nomorpolisi]])])]),(0,n.Lk)("div",mC,[(0,n.Lk)("div",kC,[e[35]||(e[35]=(0,n.Lk)("label",{class:"form-label"},"Tahun Pembuatan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=a=>i.formData.tahunpembuatan=a),placeholder:"YYYY"},null,512),[[l.Jo,i.formData.tahunpembuatan]])]),(0,n.Lk)("div",hC,[e[36]||(e[36]=(0,n.Lk)("label",{class:"form-label"},"Tahun Pembelian",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[12]||(e[12]=a=>i.formData.tahunpembelian=a),placeholder:"YYYY",required:""},null,512),[[l.Jo,i.formData.tahunpembelian]])]),(0,n.Lk)("div",gC,[e[37]||(e[37]=(0,n.Lk)("label",{class:"form-label"},"Harga Pembelian (Rp)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[13]||(e[13]=a=>i.formData.hargapembelian=a),placeholder:"Contoh: 15000000"},null,512),[[l.Jo,i.formData.hargapembelian]])])]),(0,n.Lk)("div",pC,[(0,n.Lk)("div",bC,[e[39]||(e[39]=(0,n.Lk)("label",{class:"form-label"},"Kondisi",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[14]||(e[14]=a=>i.formData.idkondisi=a),required:""},[e[38]||(e[38]=(0,n.Lk)("option",{disabled:"",value:""},"Pilih Kondisi",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.kondisiList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idkondisi,value:a.idkondisi},(0,k.v_)(a.namakondisi),9,fC))),128))],512),[[l.u1,i.formData.idkondisi]])]),(0,n.Lk)("div",LC,[e[41]||(e[41]=(0,n.Lk)("label",{class:"form-label"},"Keberadaan Fisik",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=a=>i.formData.idkeberadaanfisik=a),required:""},[e[40]||(e[40]=(0,n.Lk)("option",{disabled:"",value:""},"Pilih Keberadaan Fisik",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.keberadaanFisikList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idkeberadaanfisik,value:a.idkeberadaanfisik},(0,k.v_)(a.namakeberadaanfisik),9,yC))),128))],512),[[l.u1,i.formData.idkeberadaanfisik]])])]),(0,n.Lk)("div",vC,[(0,n.Lk)("div",CC,[e[43]||(e[43]=(0,n.Lk)("label",{class:"form-label"},"Perolehan",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[16]||(e[16]=a=>i.formData.idperolehan=a),required:""},[e[42]||(e[42]=(0,n.Lk)("option",{disabled:"",value:""},"Pilih Perolehan",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.perolehanList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idperolehan,value:a.idperolehan},(0,k.v_)(a.namaperolehan),9,PC))),128))],512),[[l.u1,i.formData.idperolehan]])]),(0,n.Lk)("div",EC,[e[45]||(e[45]=(0,n.Lk)("label",{class:"form-label"},"Sumber Anggaran",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[17]||(e[17]=a=>i.formData.idsumberanggaran=a),required:""},[e[44]||(e[44]=(0,n.Lk)("option",{disabled:"",value:""},"Pilih Sumber Anggaran",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.sumberAnggaranList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idsumberanggaran,value:a.idsumberanggaran},(0,k.v_)(a.namasumberanggaran),9,DC))),128))],512),[[l.u1,i.formData.idsumberanggaran]])])]),(0,n.Lk)("div",MC,[e[46]||(e[46]=(0,n.Lk)("label",{class:"form-label"},"Keterangan",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[18]||(e[18]=a=>i.formData.keterangan=a),rows:"3",placeholder:"Tambahkan keterangan jika ada"},null,512),[[l.Jo,i.formData.keterangan]])]),(0,n.Lk)("div",wC,[e[47]||(e[47]=(0,n.Lk)("label",{class:"form-label"},"Upload Foto",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[19]||(e[19]=(...a)=>o.handleFotoUpload&&o.handleFotoUpload(...a))},null,32),(0,n.Lk)("div",FC,[i.fotoPreviewUrl?((0,n.uX)(),(0,n.CE)("div",XC,[(0,n.Lk)("img",{src:i.fotoPreviewUrl,alt:"Preview Foto",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,xC)])):o.isEditMode&&i.formData.foto?((0,n.uX)(),(0,n.CE)("div",TC,[(0,n.Lk)("img",{src:i.formData.foto,alt:"Foto Saat Ini",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,SC)])):(0,n.Q3)("",!0)])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",BC,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",AC,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[21]||(e[21]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[22]||(e[22]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",jC)):((0,n.uX)(),(0,n.CE)("span",VC,"Simpan"))],8,_C)])])])])}const NC=(a={})=>Mi.get("",{params:{act:"perolehan",...a}}),UC=a=>Mi.post("",{act:"perolehan",record:a}),RC=(a,e)=>a?Mi.put("",{act:"perolehan",key:a,record:e}):Promise.reject(new Error("ID perolehan tidak tersedia.")),QC=a=>a?Mi.delete("",{data:{act:"perolehan",key:a}}):Promise.reject(new Error("ID perolehan tidak tersedia.")),WC=(a={})=>Mi.get("",{params:{act:"sumber-anggaran",...a}}),OC=a=>Mi.post("",{act:"sumber-anggaran",record:a}),KC=(a,e)=>a?Mi.put("",{act:"sumber-anggaran",key:a,record:e}):Promise.reject(new Error("ID sumber anggaran tidak tersedia.")),$C=a=>a?Mi.delete("",{data:{act:"sumber-anggaran",key:a}}):Promise.reject(new Error("ID sumber anggaran tidak tersedia.")),GC=(a={})=>Mi.get("",{params:{act:"keberadaan-fisik",...a}}),JC=a=>Mi.post("",{act:"keberadaan-fisik",record:a}),qC=(a,e)=>a?Mi.put("",{act:"keberadaan-fisik",key:a,record:e}):Promise.reject(new Error("ID keberadaan fisik tidak tersedia.")),HC=a=>a?Mi.delete("",{data:{act:"keberadaan-fisik",key:a}}):Promise.reject(new Error("ID keberadaan fisik tidak tersedia.")),YC={iddesa:"",idkeberadaanfisik:"",idkondisi:"",idperolehan:"",idsumberanggaran:"",kodeaset:"",nomorregister:"",namabarang:"",merk:"",ukuransilinder:"",bahanbakar:"",tahunpembuatan:"",nomormesin:"",nomorrangka:"",nomorpolisi:"",tahunpembelian:"",hargapembelian:"",keterangan:"",foto:null};var zC={name:"addEditProfileModal",props:{vehicleToEdit:{type:Object,default:null}},data(){return{formData:{...YC},selectedFotoFile:null,fotoPreviewUrl:null,desaList:[],keberadaanFisikList:[],kondisiList:[],perolehanList:[],sumberAnggaranList:[],isListLoading:!1,isBusinessFieldsLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.vehicleToEdit}},watch:{vehicleToEdit:{handler(a){a?(this.formData.iddesa=a.iddesa,this.formData.idkeberadaanfisik=a.idkeberadaanfisik,this.formData.idkondisi=a.idkondisi,this.formData.idperolehan=a.idperolehan,this.formData.idsumberanggaran=a.idsumberanggaran,this.formData.kodeaset=a.kodeaset,this.formData.nomorregister=a.nomorregister,this.formData.namabarang=a.namabarang,this.formData.merk=a.merk,this.formData.ukuransilinder=a.ukuransilinder,this.formData.bahanbakar=a.bahanbakar,this.formData.tahunpembuatan=a.tahunpembuatan,this.formData.nomormesin=a.nomormesin,this.formData.nomorrangka=a.nomorrangka,this.formData.nomorpolisi=a.nomorpolisi,this.formData.tahunpembelian=a.tahunpembelian,this.formData.hargapembelian=a.hargapembelian,this.formData.keterangan=a.keterangan,this.formData.foto=a.foto):this.formData={...YC},this.selectedFotoFile=null,this.fotoPreviewUrl=null,this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList(),this.fetchKeberadaanFisikList(),this.fetchkondisiList(),this.fetchPerolehanList(),this.fetchSumberAnggaranList()},beforeUnmount(){this.fotoPreviewUrl&&URL.revokeObjectURL(this.fotoPreviewUrl)},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isListLoading=!1}},async fetchKeberadaanFisikList(){this.isListLoading=!0;try{const a=await GC({limit:-1});this.keberadaanFisikList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar keberadaan fisik")}finally{this.isListLoading=!1}},async fetchPerolehanList(){this.isListLoading=!0;try{const a=await NC({limit:-1});this.perolehanList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar perolehan")}finally{this.isListLoading=!1}},async fetchSumberAnggaranList(){this.isListLoading=!0;try{const a=await WC({limit:-1});this.sumberAnggaranList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar sumber anggaran")}finally{this.isListLoading=!1}},async fetchkondisiList(){this.isListLoading=!0;try{const a=await Qv({limit:-1});this.kondisiList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar kondisi")}finally{this.isListLoading=!1}},handleFotoUpload(a){const e=a.target.files[0];if(this.fotoPreviewUrl&&URL.revokeObjectURL(this.fotoPreviewUrl),!e)return this.selectedFotoFile=null,void(this.fotoPreviewUrl=null);this.selectedFotoFile=e,this.fotoPreviewUrl=URL.createObjectURL(e)},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[iddesa]",this.formData.iddesa),a.append("record[idkeberadaanfisik]",this.formData.idkeberadaanfisik),a.append("record[idkondisi]",this.formData.idkondisi),a.append("record[idperolehan]",this.formData.idperolehan),a.append("record[idsumberanggaran]",this.formData.idsumberanggaran),a.append("record[kodeaset]",this.formData.kodeaset),a.append("record[nomorregister]",this.formData.nomorregister),a.append("record[namabarang]",this.formData.namabarang),a.append("record[merk]",this.formData.merk),a.append("record[ukuransilinder]",this.formData.ukuransilinder),a.append("record[bahanbakar]",this.formData.bahanbakar),a.append("record[tahunpembuatan]",this.formData.tahunpembuatan),a.append("record[nomormesin]",this.formData.nomormesin),a.append("record[nomorrangka]",this.formData.nomorrangka),a.append("record[nomorpolisi]",this.formData.nomorpolisi),a.append("record[tahunpembelian]",this.formData.tahunpembelian),a.append("record[hargapembelian]",this.formData.hargapembelian),a.append("record[keterangan]",this.formData.keterangan),this.selectedFotoFile&&a.append("upload_foto",this.selectedFotoFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await Uv(this.vehicleToEdit.idkendaraan,a),this.toast.success("Data kendaraan berhasil diperbarui")):(e=await Nv(a),this.toast.success("Data kendaraan berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data kendaraan")}finally{this.isLoading=!1}}}};const ZC=(0,r.A)(zC,[["render",IC],["__scopeId","data-v-4cd09606"]]);var aP=ZC;const eP={class:"modal-header"},tP={class:"modal-body"},sP={key:0,class:"text-center p-5"},iP={key:1,class:"text-center p-5 text-danger"},lP={key:0,class:"text-muted"},nP={key:2,class:"vehicle-container"},oP={class:"text-center mb-4"},rP=["src"],cP={key:1,src:"https://placehold.co/150x150/EBF4FF/7F9CF5?text=Foto",alt:"Foto Default",class:"foto"},dP={class:"nama-usaha mt-3"},uP={class:"alamat-usaha"},mP={class:"detail-section"},kP={class:"row"},hP={class:"col-md-6"},gP={class:"text-content"},pP={class:"list-unstyled"},bP={class:"col-md-6"},fP={class:"detail-section"},LP={class:"row"},yP={class:"col-md-6"},vP={class:"text-content"},CP={class:"list-unstyled"},PP={class:"col-md-6"},EP={class:"text-content"},DP={class:"list-unstyled"},MP={key:0,class:"detail-section"},wP={class:"text-content"},FP={class:"modal-footer"};function XP(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[2]||(e[2]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",eP,[e[4]||(e[4]=(0,n.Lk)("h5",{class:"modal-title"},"Detail Data Kendaraan",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",tP,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",sP,e[5]||(e[5]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...",-1)]))):i.error?((0,n.uX)(),(0,n.CE)("div",iP,[e[6]||(e[6]=(0,n.Lk)("i",{class:"fa fa-exclamation-triangle fa-3x mb-3"},null,-1)),e[7]||(e[7]=(0,n.Lk)("h4",null,"Terjadi Kesalahan",-1)),(0,n.Lk)("p",null,(0,k.v_)(i.error),1),i.debugMessage?((0,n.uX)(),(0,n.CE)("small",lP,"Detail: "+(0,k.v_)(i.debugMessage),1)):(0,n.Q3)("",!0)])):i.vehicle?((0,n.uX)(),(0,n.CE)("div",nP,[(0,n.Lk)("div",oP,[i.vehicle.foto?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.vehicle.foto,alt:"Foto Kendaraan",class:"foto",onerror:"this.src='https://placehold.co/150x150/EBF4FF/7F9CF5?text=Foto'"},null,8,rP)):((0,n.uX)(),(0,n.CE)("img",cP)),(0,n.Lk)("h2",dP,(0,k.v_)(i.vehicle.namabarang||"Nama Kendaraan")+" - "+(0,k.v_)(i.vehicle.nomorpolisi||"N/A"),1),(0,n.Lk)("p",uP,(0,k.v_)(i.vehicle.merk||"Merk belum diatur"),1)]),e[27]||(e[27]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",mP,[e[16]||(e[16]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-id-card-o me-2"}),(0,n.eW)("Identitas & Status Utama")],-1)),(0,n.Lk)("div",kP,[(0,n.Lk)("div",hP,[(0,n.Lk)("div",gP,[(0,n.Lk)("ul",pP,[(0,n.Lk)("li",null,[e[8]||(e[8]=(0,n.Lk)("strong",null,"Kode Aset:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.kodeaset||"-"),1)]),(0,n.Lk)("li",null,[e[9]||(e[9]=(0,n.Lk)("strong",null,"Nomor Register:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.nomorregister||"-"),1)]),e[12]||(e[12]=(0,n.Lk)("hr",{class:"my-2"},null,-1)),(0,n.Lk)("li",null,[e[10]||(e[10]=(0,n.Lk)("strong",null,"Nomor Rangka:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.nomorrangka||"-"),1)]),(0,n.Lk)("li",null,[e[11]||(e[11]=(0,n.Lk)("strong",null,"Nomor Mesin:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.nomormesin||"-"),1)])])])]),(0,n.Lk)("div",bP,[e[13]||(e[13]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-map-marker me-2"}),(0,n.eW)("Asal Desa")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.vehicle.wilayah?.namawilayah||"-"),1),e[14]||(e[14]=(0,n.Lk)("h5",{class:"mt-3"},[(0,n.Lk)("i",{class:"fa fa-wrench me-2"}),(0,n.eW)("Kondisi Kendaraan")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.vehicle.kondisi?.namakondisi||"-"),1),e[15]||(e[15]=(0,n.Lk)("h5",{class:"mt-3"},[(0,n.Lk)("i",{class:"fa fa-check-square me-2"}),(0,n.eW)("Keberadaan Fisik")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.vehicle.fisik?.namakeberadaanfisik||"-"),1)])])]),e[28]||(e[28]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",fP,[e[24]||(e[24]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-cogs me-2"}),(0,n.eW)("Spesifikasi & Riwayat Perolehan")],-1)),(0,n.Lk)("div",LP,[(0,n.Lk)("div",yP,[(0,n.Lk)("div",vP,[(0,n.Lk)("ul",CP,[(0,n.Lk)("li",null,[e[17]||(e[17]=(0,n.Lk)("strong",null,"Ukuran Silinder:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.ukuransilinder?i.vehicle.ukuransilinder+" cc":"-"),1)]),(0,n.Lk)("li",null,[e[18]||(e[18]=(0,n.Lk)("strong",null,"Bahan Bakar:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.bahanbakar||"-"),1)]),(0,n.Lk)("li",null,[e[19]||(e[19]=(0,n.Lk)("strong",null,"Tahun Pembuatan:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.tahunpembuatan||"-"),1)])])])]),(0,n.Lk)("div",PP,[(0,n.Lk)("div",EP,[(0,n.Lk)("ul",DP,[(0,n.Lk)("li",null,[e[20]||(e[20]=(0,n.Lk)("strong",null,"Sumber Perolehan:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.perolehan?.namaperolehan||"-"),1)]),(0,n.Lk)("li",null,[e[21]||(e[21]=(0,n.Lk)("strong",null,"Tahun Pembelian:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.tahunpembelian||"-"),1)]),(0,n.Lk)("li",null,[e[22]||(e[22]=(0,n.Lk)("strong",null,"Harga Pembelian:",-1)),(0,n.eW)(" "+(0,k.v_)(o.formattedHargaBeli),1)]),(0,n.Lk)("li",null,[e[23]||(e[23]=(0,n.Lk)("strong",null,"Sumber Anggaran:",-1)),(0,n.eW)(" "+(0,k.v_)(i.vehicle.anggaran?.namasumberanggaran||"-"),1)])])])])])]),i.vehicle.keterangan?((0,n.uX)(),(0,n.CE)("div",MP,[e[25]||(e[25]=(0,n.Lk)("hr",null,null,-1)),e[26]||(e[26]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-info-circle me-2"}),(0,n.eW)("Keterangan Tambahan")],-1)),(0,n.Lk)("p",wP,(0,k.v_)(i.vehicle.keterangan),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",FP,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...a)=>o.closeModal&&o.closeModal(...a))},"Tutup")])])])}var xP={name:"DetailKendaraanModal",props:{vehicleToView:{type:Object,required:!0}},emits:["close"],data(){return{vehicle:null,isLoading:!1,error:null,debugMessage:""}},computed:{formattedHargaBeli(){if(!this.vehicle||!this.vehicle.hargapembelian)return"-";const a=parseInt(this.vehicle.hargapembelian,10);return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a)}},methods:{closeModal(){this.$emit("close")},async fetchKendaraanDetail(){const a=this.vehicleToView?.idkendaraan;if(a){this.isLoading=!0,this.error=null,this.debugMessage="";try{const e=await Iv(a),t=e.data;t&&t.length>0&&t[0].data&&t[0].data.length>0?this.vehicle=t[0].data[0]:(this.error="Data detail kendaraan tidak ditemukan atau format respons tidak sesuai.",this.debugMessage=`Struktur data yang diterima: ${JSON.stringify(e.data)}`)}catch(e){console.error("Gagal mengambil detail kendaraan:",e),this.error=e.message||"Terjadi kesalahan saat memuat data.",e.response&&(this.debugMessage=`Status: ${e.response.status} - Data: ${JSON.stringify(e.response.data)}`)}finally{this.isLoading=!1}}else this.error="ID kendaraan tidak valid atau tidak tersedia."}},mounted(){this.fetchKendaraanDetail()},watch:{vehicleToView:{handler(a,e){a?.idkendaraan!==e?.idkendaraan&&this.fetchKendaraanDetail()},deep:!0}}};const TP=(0,r.A)(xP,[["render",XP],["__scopeId","data-v-7b62b5be"]]);var SP=TP,BP={components:{AddEditVehicleModal:aP,DetailVehicleModal:SP},data(){return{vehicles:[],kondisiList:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,vehicleBeingEdited:null,isFilterVisible:!1,filters:{namabarang:"",nomorpolisi:"",namawilayah:"",idkondisi:""},isDetailModalVisible:!1,vehicleBeingViewed:null}},computed:{paginatedVehicles(){return this.vehicles},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchVehicles()},perPage(){this.currentPage=1,this.fetchVehicles()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchVehicles(),await this.fetchConditions()},methods:{openAddModal(){this.vehicleBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.vehicleBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.vehicleBeingEdited=null},openDetailModal(a){this.vehicleBeingViewed={...a},this.isDetailModalVisible=!0},closeDetailModal(){this.isDetailModalVisible=!1,this.vehicleBeingViewed=null},handleSaveSuccessful(){this.closeModal(),this.fetchVehicles()},async fetchVehicles(){this.isLoading=!0;try{const a={page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);a.filter=e.length>0?e.join(","):"";const t=await Vv(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||{};this.vehicles=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching vehicles:",a),this.toast.error("Gagal memuat data kendaraan",{icon:"fa fa-times"})}finally{this.isLoading=!1}},async fetchConditions(){try{const a=await Qv({limit:-1});this.kondisiList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar kondisi",{icon:"fa fa-times"})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Kendaraan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Rv(a),1===this.vehicles.length&&this.currentPage>1?this.currentPage--:this.fetchVehicles(),this.toast.success("Data kendaraan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data kendaraan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchVehicles()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchVehicles()},resetFilters(){this.filters.namabarang="",this.filters.nomorpolisi="",this.filters.namawilayah="",this.filters.idkondisi="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchVehicles()}}};const AP=(0,r.A)(BP,[["render",jv],["__scopeId","data-v-79428bfa"]]);var _P=AP,jP={components:{VehiclesTable:_P}};const VP=(0,r.A)(jP,[["render",Qy]]);var IP=VP;const NP={class:"container-fluid"},UP={class:"row"};function RP(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ItemsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset/Inventory",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",NP,[(0,n.Lk)("div",UP,[(0,n.bF)(r)])])])}const QP={class:"col-sm-12"},WP={class:"card"},OP={class:"card-body"},KP={class:"d-flex justify-content-end align-items-start mb-3"},$P={class:"d-flex gap-2"},GP={key:0,class:"fa fa-angle-up me-2"},JP={key:1,class:"fa fa-angle-down me-2"},qP={key:0,class:"border p-3 mb-3 rounded filter-section"},HP={class:"row g-3"},YP={class:"col-md-3"},zP={class:"col-md-3"},ZP={class:"col-md-3"},aE={class:"col-md-3"},eE=["value"],tE={class:"d-flex justify-content-end gap-2 mt-3"},sE={class:"table-responsive signal-table"},iE={class:"table table-hover"},lE={key:0,class:"fa fa-sort-asc"},nE={key:1,class:"fa fa-sort-desc"},oE={key:2,class:"fa fa-sort"},rE={key:0,class:"fa fa-sort-asc"},cE={key:1,class:"fa fa-sort-desc"},dE={key:2,class:"fa fa-sort"},uE={key:0,class:"fa fa-sort-asc"},mE={key:1,class:"fa fa-sort-desc"},kE={key:2,class:"fa fa-sort"},hE={key:0,class:"fa fa-sort-asc"},gE={key:1,class:"fa fa-sort-desc"},pE={key:2,class:"fa fa-sort"},bE={key:0},fE={scope:"row"},LE={class:"text-muted"},yE={class:"btn-group"},vE=["onClick"],CE=["onClick"],PE=["onClick"],EE={key:0},DE={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},ME={class:"mt-2"},wE={key:0,class:"text-muted"},FE={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},XE={class:"pagination mb-0"},xE={key:0,class:"page-item"},TE={key:1,class:"page-item disabled"},SE=["onClick"],BE={key:2,class:"page-item disabled"},AE={key:3,class:"page-item"};function _E(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-item-modal"),c=(0,n.g2)("detail-item-modal");return(0,n.uX)(),(0,n.CE)("div",QP,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"item-to-edit":i.itemBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["item-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isDetailModalVisible?((0,n.uX)(),(0,n.Wv)(c,{key:1,"item-to-view":i.itemBeingViewed,onClose:o.closeDetailModal},null,8,["item-to-view","onClose"])):(0,n.Q3)("",!0),(0,n.Lk)("div",WP,[e[43]||(e[43]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Aset Barang")],-1)),(0,n.Lk)("div",OP,[(0,n.Lk)("div",KP,[(0,n.Lk)("div",$P,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",GP)):((0,n.uX)(),(0,n.CE)("i",JP)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",qP,[(0,n.Lk)("div",HP,[(0,n.Lk)("div",YP,[e[17]||(e[17]=(0,n.Lk)("label",{for:"filterItemName",class:"form-label"},"Nama Barang",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterItemName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namabarang=a),placeholder:"Filter berdasarkan nama barang"},null,512),[[l.Jo,i.filters.namabarang]])]),(0,n.Lk)("div",zP,[e[18]||(e[18]=(0,n.Lk)("label",{for:"filterPoliceNumber",class:"form-label"},"Kode Barang",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterPoliceNumber",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.kodebarang=a),placeholder:"Filter berdasarkan kode barang"},null,512),[[l.Jo,i.filters.kodebarang]])]),(0,n.Lk)("div",ZP,[e[19]||(e[19]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])]),(0,n.Lk)("div",aE,[e[21]||(e[21]=(0,n.Lk)("label",{for:"filterCondition",class:"form-label"},"Kondisi",-1)),(0,n.bo)((0,n.Lk)("select",{id:"filterCondition",class:"form-select","onUpdate:modelValue":e[5]||(e[5]=a=>i.filters.idkondisi=a)},[e[20]||(e[20]=(0,n.Lk)("option",{value:""},"Semua Kondisi",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.kondisiList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idkondisi,value:a.idkondisi},(0,k.v_)(a.namakondisi),9,eE))),128))],512),[[l.u1,i.filters.idkondisi]])])]),(0,n.Lk)("div",tE,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[6]||(e[6]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",sE,[(0,n.Lk)("table",iE,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[28]||(e[28]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("namabarang"))},[e[24]||(e[24]=(0,n.eW)(" Nama Barang / Merk ")),"namabarang"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",lE)):"namabarang"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",nE)):((0,n.uX)(),(0,n.CE)("i",oE))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("kodebarang"))},[e[25]||(e[25]=(0,n.eW)(" Kode Barang ")),"kodebarang"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",rE)):"kodebarang"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",cE)):((0,n.uX)(),(0,n.CE)("i",dE))]),(0,n.Lk)("th",{scope:"col",onClick:e[10]||(e[10]=a=>o.sortBy("namawilayah"))},[e[26]||(e[26]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",uE)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",mE)):((0,n.uX)(),(0,n.CE)("i",kE))]),(0,n.Lk)("th",{scope:"col",onClick:e[11]||(e[11]=a=>o.sortBy("namakondisi"))},[e[27]||(e[27]=(0,n.eW)(" Kondisi ")),"namakondisi"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",hE)):"namakondisi"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",gE)):((0,n.uX)(),(0,n.CE)("i",pE))]),e[29]||(e[29]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",bE,e[30]||(e[30]=[(0,n.Lk)("td",{colspan:"7",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedItems,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idbarang},[(0,n.Lk)("th",fE,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,[(0,n.eW)((0,k.v_)(a.namabarang)+" ",1),e[31]||(e[31]=(0,n.Lk)("br",null,null,-1)),e[32]||(e[32]=(0,n.eW)()),(0,n.Lk)("small",LE,(0,k.v_)(a.merk),1)]),(0,n.Lk)("td",null,(0,k.v_)(a.kodebarang||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.kondisi?.namakondisi||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",yE,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openDetailModal(a),title:"Lihat Detail"},e[33]||(e[33]=[(0,n.Lk)("i",{class:"fa fa-eye"},null,-1)]),8,vE),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[34]||(e[34]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,CE),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idbarang),title:"Hapus Data"},e[35]||(e[35]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,PE)])])]))),128)),0===o.paginatedItems.length?((0,n.uX)(),(0,n.CE)("tr",EE,e[36]||(e[36]=[(0,n.Lk)("td",{colspan:"7",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",DE,[(0,n.Lk)("div",ME,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",wE,[e[37]||(e[37]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[38]||(e[38]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[39]||(e[39]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[40]||(e[40]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",FE,[(0,n.Lk)("ul",XE,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",xE,[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",TE,e[41]||(e[41]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,SE)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",BE,e[42]||(e[42]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",AE,[(0,n.Lk)("button",{class:"page-link",onClick:e[14]||(e[14]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[15]||(e[15]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const jE=(a={})=>Mi.get("",{params:{act:"barang",...a}}),VE=a=>a?Mi.get("",{params:{act:"barang",key:a}}):Promise.reject(new Error("ID barang tidak tersedia.")),IE=a=>(a.append("act","barang"),Mi.post("",a)),NE=(a,e)=>a?(e.append("act","barang"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID barang tidak tersedia.")),UE=a=>a?Mi.delete("",{data:{act:"barang",key:a}}):Promise.reject(new Error("ID barang tidak tersedia.")),RE={class:"modal-header"},QE={class:"modal-title"},WE={class:"modal-body"},OE={class:"row"},KE={class:"col-md-6 mb-3"},$E=["disabled"],GE={disabled:"",value:""},JE=["value"],qE={class:"col-md-6 mb-3"},HE={class:"row"},YE={class:"col-md-6 mb-3"},zE={class:"col-md-6 mb-3"},ZE={class:"row"},aD={class:"col-md-4 mb-3"},eD={class:"col-md-4 mb-3"},tD={class:"col-md-4 mb-3"},sD={class:"row"},iD={class:"col-md-4 mb-3"},lD={class:"col-md-4 mb-3"},nD={class:"col-md-4 mb-3"},oD={class:"row"},rD={class:"col-md-6 mb-3"},cD=["value"],dD={class:"col-md-6 mb-3"},uD=["value"],mD={class:"row"},kD={class:"col-md-12 mb-3"},hD=["value"],gD={class:"mb-3"},pD={class:"mb-3"},bD={class:"mt-2"},fD={key:0},LD=["src"],yD={key:1},vD=["src"],CD={key:0,class:"alert alert-danger mt-3"},PD={class:"modal-footer"},ED=["disabled"],DD={key:0,class:"spinner-border spinner-border-sm",role:"status"},MD={key:1};function wD(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[20]||(e[20]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[19]||(e[19]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",RE,[(0,n.Lk)("h5",QE,(0,k.v_)(o.isEditMode?"Edit Data Barang":"Tambah Data Barang"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",WE,[(0,n.Lk)("form",{onSubmit:e[16]||(e[16]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",OE,[(0,n.Lk)("div",KE,[e[21]||(e[21]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.iddesa=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",GE,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,JE))),128))],8,$E),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",qE,[e[22]||(e[22]=(0,n.Lk)("label",{class:"form-label"},"Kode Barang",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.kodebarang=a),placeholder:"Masukkan kode barang",required:""},null,512),[[l.Jo,i.formData.kodebarang]])])]),(0,n.Lk)("div",HE,[(0,n.Lk)("div",YE,[e[23]||(e[23]=(0,n.Lk)("label",{class:"form-label"},"Nama Barang",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.namabarang=a),placeholder:"Contoh: Laptop",required:""},null,512),[[l.Jo,i.formData.namabarang]])]),(0,n.Lk)("div",zE,[e[24]||(e[24]=(0,n.Lk)("label",{class:"form-label"},"Nomor Register",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.nomorregister=a),placeholder:"Masukkan nomor register"},null,512),[[l.Jo,i.formData.nomorregister]])])]),(0,n.Lk)("div",ZE,[(0,n.Lk)("div",aD,[e[25]||(e[25]=(0,n.Lk)("label",{class:"form-label"},"Merk / Tipe",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>i.formData.merk=a),placeholder:"Contoh: Dell Latitude"},null,512),[[l.Jo,i.formData.merk]])]),(0,n.Lk)("div",eD,[e[26]||(e[26]=(0,n.Lk)("label",{class:"form-label"},"Nomor Seri / Pabrik",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=a=>i.formData.nomorseri=a),placeholder:"Masukkan nomor seri"},null,512),[[l.Jo,i.formData.nomorseri]])]),(0,n.Lk)("div",tD,[e[27]||(e[27]=(0,n.Lk)("label",{class:"form-label"},"Bahan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=a=>i.formData.bahan=a),placeholder:"Contoh: Plastik / Logam"},null,512),[[l.Jo,i.formData.bahan]])])]),(0,n.Lk)("div",sD,[(0,n.Lk)("div",iD,[e[28]||(e[28]=(0,n.Lk)("label",{class:"form-label"},"Ukuran / Spesifikasi",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>i.formData.ukuran=a),placeholder:"Contoh: 14 Inci"},null,512),[[l.Jo,i.formData.ukuran]])]),(0,n.Lk)("div",lD,[e[29]||(e[29]=(0,n.Lk)("label",{class:"form-label"},"Tahun Perolehan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=a=>i.formData.tahun=a),placeholder:"YYYY",required:""},null,512),[[l.Jo,i.formData.tahun]])]),(0,n.Lk)("div",nD,[e[30]||(e[30]=(0,n.Lk)("label",{class:"form-label"},"Harga Perolehan (Rp)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=a=>i.formData.harga=a),placeholder:"Contoh: 15000000"},null,512),[[l.Jo,i.formData.harga]])])]),(0,n.Lk)("div",oD,[(0,n.Lk)("div",rD,[e[32]||(e[32]=(0,n.Lk)("label",{class:"form-label"},"Kondisi",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[11]||(e[11]=a=>i.formData.idkondisi=a),required:""},[e[31]||(e[31]=(0,n.Lk)("option",{disabled:"",value:""},"Pilih Kondisi",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.kondisiList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idkondisi,value:a.idkondisi},(0,k.v_)(a.namakondisi),9,cD))),128))],512),[[l.u1,i.formData.idkondisi]])]),(0,n.Lk)("div",dD,[e[34]||(e[34]=(0,n.Lk)("label",{class:"form-label"},"Keberadaan Fisik",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[12]||(e[12]=a=>i.formData.idkeberadaanfisik=a),required:""},[e[33]||(e[33]=(0,n.Lk)("option",{disabled:"",value:""},"Pilih Keberadaan Fisik",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.keberadaanFisikList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idkeberadaanfisik,value:a.idkeberadaanfisik},(0,k.v_)(a.namakeberadaanfisik),9,uD))),128))],512),[[l.u1,i.formData.idkeberadaanfisik]])])]),(0,n.Lk)("div",mD,[(0,n.Lk)("div",kD,[e[36]||(e[36]=(0,n.Lk)("label",{class:"form-label"},"Sumber Anggaran",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[13]||(e[13]=a=>i.formData.idsumberanggaran=a),required:""},[e[35]||(e[35]=(0,n.Lk)("option",{disabled:"",value:""},"Pilih Sumber Anggaran",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.sumberAnggaranList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idsumberanggaran,value:a.idsumberanggaran},(0,k.v_)(a.namasumberanggaran),9,hD))),128))],512),[[l.u1,i.formData.idsumberanggaran]])])]),(0,n.Lk)("div",gD,[e[37]||(e[37]=(0,n.Lk)("label",{class:"form-label"},"Keterangan",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[14]||(e[14]=a=>i.formData.keterangan=a),rows:"3",placeholder:"Tambahkan keterangan jika ada"},null,512),[[l.Jo,i.formData.keterangan]])]),(0,n.Lk)("div",pD,[e[38]||(e[38]=(0,n.Lk)("label",{class:"form-label"},"Upload Foto",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[15]||(e[15]=(...a)=>o.handleFotoUpload&&o.handleFotoUpload(...a))},null,32),(0,n.Lk)("div",bD,[i.fotoPreviewUrl?((0,n.uX)(),(0,n.CE)("div",fD,[(0,n.Lk)("img",{src:i.fotoPreviewUrl,alt:"Preview Foto",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,LD)])):o.isEditMode&&i.formData.foto?((0,n.uX)(),(0,n.CE)("div",yD,[(0,n.Lk)("img",{src:i.formData.foto,alt:"Foto Saat Ini",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,vD)])):(0,n.Q3)("",!0)])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",CD,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",PD,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[17]||(e[17]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[18]||(e[18]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",DD)):((0,n.uX)(),(0,n.CE)("span",MD,"Simpan"))],8,ED)])])])])}const FD={iddesa:"",idkeberadaanfisik:"",idkondisi:"",idsumberanggaran:"",kodebarang:"",nomorregister:"",namabarang:"",merk:"",nomorseri:"",ukuran:"",bahan:"",tahun:"",harga:"",keterangan:"",foto:null};var XD={name:"addEditProfileModal",props:{itemToEdit:{type:Object,default:null}},data(){return{formData:{...FD},selectedFotoFile:null,fotoPreviewUrl:null,desaList:[],keberadaanFisikList:[],kondisiList:[],perolehanList:[],sumberAnggaranList:[],isListLoading:!1,isBusinessFieldsLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.itemToEdit}},watch:{itemToEdit:{handler(a){a?(this.formData.iddesa=a.iddesa,this.formData.idkeberadaanfisik=a.idkeberadaanfisik,this.formData.idkondisi=a.idkondisi,this.formData.idsumberanggaran=a.idsumberanggaran,this.formData.kodebarang=a.kodebarang,this.formData.nomorregister=a.nomorregister,this.formData.namabarang=a.namabarang,this.formData.merk=a.merk,this.formData.nomorseri=a.nomorseri,this.formData.ukuran=a.ukuran,this.formData.bahan=a.bahan,this.formData.tahun=a.tahun,this.formData.harga=a.harga,this.formData.keterangan=a.keterangan,this.formData.foto=a.foto):this.formData={...FD},this.selectedFotoFile=null,this.fotoPreviewUrl=null,this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList(),this.fetchKeberadaanFisikList(),this.fetchkondisiList(),this.fetchSumberAnggaranList()},beforeUnmount(){this.fotoPreviewUrl&&URL.revokeObjectURL(this.fotoPreviewUrl)},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isListLoading=!1}},async fetchKeberadaanFisikList(){this.isListLoading=!0;try{const a=await GC({limit:-1});this.keberadaanFisikList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar keberadaan fisik")}finally{this.isListLoading=!1}},async fetchSumberAnggaranList(){this.isListLoading=!0;try{const a=await WC({limit:-1});this.sumberAnggaranList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar sumber anggaran")}finally{this.isListLoading=!1}},async fetchkondisiList(){this.isListLoading=!0;try{const a=await Qv({limit:-1});this.kondisiList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar kondisi")}finally{this.isListLoading=!1}},handleFotoUpload(a){const e=a.target.files[0];if(this.fotoPreviewUrl&&URL.revokeObjectURL(this.fotoPreviewUrl),!e)return this.selectedFotoFile=null,void(this.fotoPreviewUrl=null);this.selectedFotoFile=e,this.fotoPreviewUrl=URL.createObjectURL(e)},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[iddesa]",this.formData.iddesa),a.append("record[idkeberadaanfisik]",this.formData.idkeberadaanfisik),a.append("record[idkondisi]",this.formData.idkondisi),a.append("record[idsumberanggaran]",this.formData.idsumberanggaran),a.append("record[kodebarang]",this.formData.kodebarang),a.append("record[nomorregister]",this.formData.nomorregister),a.append("record[namabarang]",this.formData.namabarang),a.append("record[merk]",this.formData.merk),a.append("record[nomorseri]",this.formData.nomorseri),a.append("record[ukuran]",this.formData.ukuran),a.append("record[bahan]",this.formData.bahan),a.append("record[tahun]",this.formData.tahun),a.append("record[harga]",this.formData.harga),a.append("record[keterangan]",this.formData.keterangan),this.selectedFotoFile&&a.append("upload_foto",this.selectedFotoFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await NE(this.itemToEdit.idbarang,a),this.toast.success("Data barang berhasil diperbarui")):(e=await IE(a),this.toast.success("Data barang berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data barang")}finally{this.isLoading=!1}}}};const xD=(0,r.A)(XD,[["render",wD],["__scopeId","data-v-1d9550f5"]]);var TD=xD;const SD={class:"modal-header"},BD={class:"modal-body"},AD={key:0,class:"text-center p-5"},_D={key:1,class:"text-center p-5 text-danger"},jD={key:0,class:"text-muted"},VD={key:2,class:"item-container"},ID={class:"text-center mb-4"},ND=["src"],UD={key:1,src:"https://placehold.co/150x150/EBF4FF/7F9CF5?text=Foto",alt:"Foto Default",class:"foto"},RD={class:"nama-barang mt-3"},QD={class:"merk"},WD={class:"detail-section"},OD={class:"row"},KD={class:"col-md-6"},$D={class:"text-content"},GD={class:"list-unstyled"},JD={class:"col-md-6"},qD={class:"detail-section"},HD={class:"row"},YD={class:"col-md-6"},zD={class:"text-content"},ZD={class:"list-unstyled"},aM={class:"col-md-6"},eM={class:"text-content"},tM={class:"list-unstyled"},sM={key:0,class:"detail-section"},iM={class:"text-content"},lM={class:"modal-footer"};function nM(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[2]||(e[2]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",SD,[e[4]||(e[4]=(0,n.Lk)("h5",{class:"modal-title"},"Detail Data Barang",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",BD,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",AD,e[5]||(e[5]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...",-1)]))):i.error?((0,n.uX)(),(0,n.CE)("div",_D,[e[6]||(e[6]=(0,n.Lk)("i",{class:"fa fa-exclamation-triangle fa-3x mb-3"},null,-1)),e[7]||(e[7]=(0,n.Lk)("h4",null,"Terjadi Kesalahan",-1)),(0,n.Lk)("p",null,(0,k.v_)(i.error),1),i.debugMessage?((0,n.uX)(),(0,n.CE)("small",jD,"Detail: "+(0,k.v_)(i.debugMessage),1)):(0,n.Q3)("",!0)])):i.item?((0,n.uX)(),(0,n.CE)("div",VD,[(0,n.Lk)("div",ID,[i.item.foto?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.item.foto,alt:"Foto Barang",class:"foto",onerror:"this.src='https://placehold.co/150x150/EBF4FF/7F9CF5?text=Foto'"},null,8,ND)):((0,n.uX)(),(0,n.CE)("img",UD)),(0,n.Lk)("h2",RD,(0,k.v_)(i.item.namabarang||"Nama Barang")+" ("+(0,k.v_)(i.item.kodebarang||"N/A")+")",1),(0,n.Lk)("p",QD,(0,k.v_)(i.item.merk||"Merk belum diatur"),1)]),e[24]||(e[24]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",WD,[e[16]||(e[16]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-id-card-o me-2"}),(0,n.eW)("Informasi & Status Utama")],-1)),(0,n.Lk)("div",OD,[(0,n.Lk)("div",KD,[(0,n.Lk)("div",$D,[(0,n.Lk)("ul",GD,[(0,n.Lk)("li",null,[e[8]||(e[8]=(0,n.Lk)("strong",null,"Kode Barang:",-1)),(0,n.eW)(" "+(0,k.v_)(i.item.kodebarang||"-"),1)]),(0,n.Lk)("li",null,[e[9]||(e[9]=(0,n.Lk)("strong",null,"Nomor Register:",-1)),(0,n.eW)(" "+(0,k.v_)(i.item.nomorregister||"-"),1)]),e[12]||(e[12]=(0,n.Lk)("hr",{class:"my-2"},null,-1)),(0,n.Lk)("li",null,[e[10]||(e[10]=(0,n.Lk)("strong",null,"Nomor Seri / Pabrik:",-1)),(0,n.eW)(" "+(0,k.v_)(i.item.nomorseri||"-"),1)]),(0,n.Lk)("li",null,[e[11]||(e[11]=(0,n.Lk)("strong",null,"Bahan:",-1)),(0,n.eW)(" "+(0,k.v_)(i.item.bahan||"-"),1)])])])]),(0,n.Lk)("div",JD,[e[13]||(e[13]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-map-marker me-2"}),(0,n.eW)("Asal Desa")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.item.wilayah?.namawilayah||"-"),1),e[14]||(e[14]=(0,n.Lk)("h5",{class:"mt-3"},[(0,n.Lk)("i",{class:"fa fa-wrench me-2"}),(0,n.eW)("Kondisi Barang")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.item.kondisi?.namakondisi||"-"),1),e[15]||(e[15]=(0,n.Lk)("h5",{class:"mt-3"},[(0,n.Lk)("i",{class:"fa fa-check-square me-2"}),(0,n.eW)("Keberadaan Fisik")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.item.fisik?.namakeberadaanfisik||"-"),1)])])]),e[25]||(e[25]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",qD,[e[21]||(e[21]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-cogs me-2"}),(0,n.eW)("Spesifikasi & Riwayat")],-1)),(0,n.Lk)("div",HD,[(0,n.Lk)("div",YD,[(0,n.Lk)("div",zD,[(0,n.Lk)("ul",ZD,[(0,n.Lk)("li",null,[e[17]||(e[17]=(0,n.Lk)("strong",null,"Ukuran / Spesifikasi:",-1)),(0,n.eW)(" "+(0,k.v_)(i.item.ukuran||"-"),1)]),(0,n.Lk)("li",null,[e[18]||(e[18]=(0,n.Lk)("strong",null,"Tahun:",-1)),(0,n.eW)(" "+(0,k.v_)(i.item.tahun||"-"),1)])])])]),(0,n.Lk)("div",aM,[(0,n.Lk)("div",eM,[(0,n.Lk)("ul",tM,[(0,n.Lk)("li",null,[e[19]||(e[19]=(0,n.Lk)("strong",null,"Harga:",-1)),(0,n.eW)(" "+(0,k.v_)(o.formattedHarga),1)]),(0,n.Lk)("li",null,[e[20]||(e[20]=(0,n.Lk)("strong",null,"Sumber Anggaran:",-1)),(0,n.eW)(" "+(0,k.v_)(i.item.anggaran?.namasumberanggaran||"-"),1)])])])])])]),i.item.keterangan?((0,n.uX)(),(0,n.CE)("div",sM,[e[22]||(e[22]=(0,n.Lk)("hr",null,null,-1)),e[23]||(e[23]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-info-circle me-2"}),(0,n.eW)("Keterangan Tambahan")],-1)),(0,n.Lk)("p",iM,(0,k.v_)(i.item.keterangan),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",lM,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...a)=>o.closeModal&&o.closeModal(...a))},"Tutup")])])])}var oM={name:"DetailBarangModal",props:{itemToView:{type:Object,required:!0}},emits:["close"],data(){return{item:null,isLoading:!1,error:null,debugMessage:""}},computed:{formattedHarga(){if(!this.item||!this.item.harga)return"-";const a=parseInt(this.item.harga,10);return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a)}},methods:{closeModal(){this.$emit("close")},async fetchBarangDetail(){const a=this.itemToView?.idbarang;if(a){this.isLoading=!0,this.error=null,this.debugMessage="";try{const e=await VE(a),t=e.data;t&&t.length>0&&t[0].data&&t[0].data.length>0?this.item=t[0].data[0]:(this.error="Data detail barang tidak ditemukan atau format respons tidak sesuai.",this.debugMessage=`Struktur data yang diterima: ${JSON.stringify(e.data)}`)}catch(e){console.error("Gagal mengambil detail barang:",e),this.error=e.message||"Terjadi kesalahan saat memuat data.",e.response&&(this.debugMessage=`Status: ${e.response.status} - Data: ${JSON.stringify(e.response.data)}`)}finally{this.isLoading=!1}}else this.error="ID barang tidak valid atau tidak tersedia."}},mounted(){this.fetchBarangDetail()},watch:{itemToView:{handler(a,e){a?.idbarang!==e?.idbarang&&this.fetchBarangDetail()},deep:!0}}};const rM=(0,r.A)(oM,[["render",nM],["__scopeId","data-v-64822d12"]]);var cM=rM,dM={components:{AddEditItemModal:TD,DetailItemModal:cM},data(){return{items:[],kondisiList:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,itemBeingEdited:null,isFilterVisible:!1,filters:{namabarang:"",kodebarang:"",namawilayah:"",idkondisi:""},isDetailModalVisible:!1,itemBeingViewed:null}},computed:{paginatedItems(){return this.items},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchItems()},perPage(){this.currentPage=1,this.fetchItems()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchItems(),await this.fetchConditions()},methods:{openAddModal(){this.itemBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.itemBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.itemBeingEdited=null},openDetailModal(a){this.itemBeingViewed={...a},this.isDetailModalVisible=!0},closeDetailModal(){this.isDetailModalVisible=!1,this.itemBeingViewed=null},handleSaveSuccessful(){this.closeModal(),this.fetchItems()},async fetchItems(){this.isLoading=!0;try{const a={page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);a.filter=e.length>0?e.join(","):"";const t=await jE(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||{};this.items=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching items:",a),this.toast.error("Gagal memuat data barang",{icon:"fa fa-times"})}finally{this.isLoading=!1}},async fetchConditions(){try{const a=await Qv({limit:-1});this.kondisiList=a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar kondisi",{icon:"fa fa-times"})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Barang",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await UE(a),1===this.items.length&&this.currentPage>1?this.currentPage--:this.fetchItems(),this.toast.success("Data barang berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data barang",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchItems()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchItems()},resetFilters(){this.filters.namabarang="",this.filters.kodebarang="",this.filters.namawilayah="",this.filters.idkondisi="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchItems()}}};const uM=(0,r.A)(dM,[["render",_E],["__scopeId","data-v-7eb8c30e"]]);var mM=uM,kM={components:{ItemsTable:mM}};const hM=(0,r.A)(kM,[["render",RP]]);var gM=hM;const pM={class:"container-fluid"},bM={class:"row"};function fM(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ProfilesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Badan Usaha",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",pM,[(0,n.Lk)("div",bM,[(0,n.bF)(r)])])])}const LM={class:"col-sm-12"},yM={class:"card"},vM={class:"card-body"},CM={class:"d-flex justify-content-end align-items-start mb-3"},PM={class:"d-flex gap-2"},EM={key:0,class:"fa fa-angle-up me-2"},DM={key:1,class:"fa fa-angle-down me-2"},MM={key:0,class:"border p-3 mb-3 rounded filter-section"},wM={class:"row g-3"},FM={class:"col-md-3"},XM={class:"col-md-3"},xM={class:"col-md-3"},TM={class:"col-md-3"},SM=["value"],BM={class:"d-flex justify-content-end gap-2 mt-3"},AM={class:"table-responsive signal-table"},_M={class:"table table-hover"},jM={key:0,class:"fa fa-sort-asc"},VM={key:1,class:"fa fa-sort-desc"},IM={key:2,class:"fa fa-sort"},NM={key:0,class:"fa fa-sort-asc"},UM={key:1,class:"fa fa-sort-desc"},RM={key:2,class:"fa fa-sort"},QM={key:0,class:"fa fa-sort-asc"},WM={key:1,class:"fa fa-sort-desc"},OM={key:2,class:"fa fa-sort"},KM={key:0,class:"fa fa-sort-asc"},$M={key:1,class:"fa fa-sort-desc"},GM={key:2,class:"fa fa-sort"},JM={key:0},qM={scope:"row"},HM=["src"],YM={key:1,class:"text-muted"},zM={class:"btn-group"},ZM=["onClick"],aw=["onClick"],ew=["onClick"],tw={key:0},sw={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},iw={class:"mt-2"},lw={key:0,class:"text-muted"},nw={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},ow={class:"pagination mb-0"},rw={key:0,class:"page-item"},cw={key:1,class:"page-item disabled"},dw=["onClick"],uw={key:2,class:"page-item disabled"},mw={key:3,class:"page-item"};function kw(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-profile-modal"),c=(0,n.g2)("detail-profile-modal");return(0,n.uX)(),(0,n.CE)("div",LM,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"profile-to-edit":i.profileBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["profile-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isDetailModalVisible?((0,n.uX)(),(0,n.Wv)(c,{key:1,"profile-to-view":i.profileBeingViewed,onClose:o.closeDetailModal},null,8,["profile-to-view","onClose"])):(0,n.Q3)("",!0),(0,n.Lk)("div",yM,[e[42]||(e[42]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Badan Usaha")],-1)),(0,n.Lk)("div",vM,[(0,n.Lk)("div",CM,[(0,n.Lk)("div",PM,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",EM)):((0,n.uX)(),(0,n.CE)("i",DM)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",MM,[(0,n.Lk)("div",wM,[(0,n.Lk)("div",FM,[e[17]||(e[17]=(0,n.Lk)("label",{for:"filterEnterpriseName",class:"form-label"},"Nama Usaha",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterEnterpriseName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namausaha=a),placeholder:"Filter berdasarkan nama usaha"},null,512),[[l.Jo,i.filters.namausaha]])]),(0,n.Lk)("div",XM,[e[18]||(e[18]=(0,n.Lk)("label",{for:"filterAddress",class:"form-label"},"Alamat Usaha",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterAddress",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.alamatusaha=a),placeholder:"Filter berdasarkan alamat"},null,512),[[l.Jo,i.filters.alamatusaha]])]),(0,n.Lk)("div",xM,[e[19]||(e[19]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])]),(0,n.Lk)("div",TM,[e[21]||(e[21]=(0,n.Lk)("label",{for:"filterBusinessField",class:"form-label"},"Bidang Usaha",-1)),(0,n.bo)((0,n.Lk)("select",{id:"filterBusinessField",class:"form-select","onUpdate:modelValue":e[5]||(e[5]=a=>i.filters.idbidangusaha=a)},[e[20]||(e[20]=(0,n.Lk)("option",{value:""},"Semua Bidang",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.businessFields,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idbidangusaha,value:a.idbidangusaha},(0,k.v_)(a.namabidangusaha),9,SM))),128))],512),[[l.u1,i.filters.idbidangusaha]])])]),(0,n.Lk)("div",BM,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[6]||(e[6]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",AM,[(0,n.Lk)("table",_M,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[28]||(e[28]=(0,n.Lk)("th",{scope:"col"},"No",-1)),e[29]||(e[29]=(0,n.Lk)("th",{scope:"col",style:{width:"100px"}},"Logo",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("namausaha"))},[e[24]||(e[24]=(0,n.eW)(" Nama Usaha ")),"namausaha"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",jM)):"namausaha"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",VM)):((0,n.uX)(),(0,n.CE)("i",IM))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("namabidangusaha"))},[e[25]||(e[25]=(0,n.eW)(" Bidang Usaha ")),"namabidangusaha"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",NM)):"namabidangusaha"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",UM)):((0,n.uX)(),(0,n.CE)("i",RM))]),(0,n.Lk)("th",{scope:"col",onClick:e[10]||(e[10]=a=>o.sortBy("namawilayah"))},[e[26]||(e[26]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",QM)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",WM)):((0,n.uX)(),(0,n.CE)("i",OM))]),(0,n.Lk)("th",{scope:"col",onClick:e[11]||(e[11]=a=>o.sortBy("alamatusaha"))},[e[27]||(e[27]=(0,n.eW)(" Alamat Usaha ")),"alamatusaha"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",KM)):"alamatusaha"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",$M)):((0,n.uX)(),(0,n.CE)("i",GM))]),e[30]||(e[30]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",JM,e[31]||(e[31]=[(0,n.Lk)("td",{colspan:"7",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedProfiles,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idusaha},[(0,n.Lk)("th",qM,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,[a.logousaha?((0,n.uX)(),(0,n.CE)("img",{key:0,src:a.logousaha,alt:"Logo",style:{height:"50px",width:"auto"}},null,8,HM)):((0,n.uX)(),(0,n.CE)("span",YM,"-"))]),(0,n.Lk)("td",null,(0,k.v_)(a.namausaha||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.bidang?.namabidangusaha||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.alamatusaha||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",zM,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openDetailModal(a)},e[32]||(e[32]=[(0,n.Lk)("i",{class:"fa fa-eye"},null,-1)]),8,ZM),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[33]||(e[33]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,aw),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idusaha),title:"Hapus Data"},e[34]||(e[34]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,ew)])])]))),128)),0===o.paginatedProfiles.length?((0,n.uX)(),(0,n.CE)("tr",tw,e[35]||(e[35]=[(0,n.Lk)("td",{colspan:"7",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",sw,[(0,n.Lk)("div",iw,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",lw,[e[36]||(e[36]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[37]||(e[37]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[38]||(e[38]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[39]||(e[39]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",nw,[(0,n.Lk)("ul",ow,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",rw,[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",cw,e[40]||(e[40]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,dw)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",uw,e[41]||(e[41]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",mw,[(0,n.Lk)("button",{class:"page-link",onClick:e[14]||(e[14]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[15]||(e[15]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const hw=(a={})=>Mi.get("",{params:{act:"badan-usaha",...a}}),gw=a=>a?Mi.get("",{params:{act:"badan-usaha",key:a}}):Promise.reject(new Error("ID badan usaha tidak tersedia")),pw=a=>(a.append("act","badan-usaha"),Mi.post("",a)),bw=(a,e)=>a?(e.append("act","badan-usaha"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID badan usaha tidak tersedia")),fw=a=>a?Mi.delete("",{data:{act:"badan-usaha",key:a}}):Promise.reject(new Error("ID badan usaha tidak tersedia")),Lw=(a={})=>Mi.get("",{params:{act:"bidang-usaha",...a}}),yw=a=>Mi.post("",{act:"bidang-usaha",record:a}),vw=(a,e)=>a?Mi.put("",{act:"bidang-usaha",key:a,record:e}):Promise.reject(new Error("ID bidang usaha tidak tersedia.")),Cw=a=>a?Mi.delete("",{data:{act:"bidang-usaha",key:a}}):Promise.reject(new Error("ID bidang usaha tidak tersedia.")),Pw={class:"modal-header"},Ew={class:"modal-title"},Dw={class:"modal-body"},Mw={class:"mb-3"},ww=["disabled"],Fw={disabled:"",value:""},Xw=["value"],xw={class:"mb-3"},Tw=["disabled"],Sw={disabled:"",value:""},Bw=["value"],Aw={class:"mb-3"},_w={class:"mb-3"},jw={class:"mb-3"},Vw={class:"mb-3"},Iw={class:"mt-2"},Nw={key:0},Uw=["src"],Rw={key:1},Qw=["src"],Ww={key:0,class:"alert alert-danger mt-3"},Ow={class:"modal-footer"},Kw=["disabled"],$w={key:0,class:"spinner-border spinner-border-sm",role:"status"},Gw={key:1};function Jw(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[11]||(e[11]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[10]||(e[10]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Pw,[(0,n.Lk)("h5",Ew,(0,k.v_)(o.isEditMode?"Edit Data Badan Usaha":"Tambah Data Badan Usaha"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Dw,[(0,n.Lk)("form",{onSubmit:e[7]||(e[7]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Mw,[e[12]||(e[12]=(0,n.Lk)("label",{class:"form-label"},[(0,n.eW)("Nama Desa "),(0,n.Lk)("span",{class:"text-danger"},"*")],-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.iddesa=a),required:"",disabled:i.isDesaListLoading},[(0,n.Lk)("option",Fw,(0,k.v_)(i.isDesaListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,Xw))),128))],8,ww),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",xw,[e[13]||(e[13]=(0,n.Lk)("label",{class:"form-label"},[(0,n.eW)("Bidang Usaha "),(0,n.Lk)("span",{class:"text-danger"},"*")],-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.idbidangusaha=a),required:"",disabled:i.isBusinessFieldsLoading},[(0,n.Lk)("option",Sw,(0,k.v_)(i.isBusinessFieldsLoading?"Memuat...":"Pilih Bidang Usaha"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.businessFields,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idbidangusaha,value:a.idbidangusaha},(0,k.v_)(a.namabidangusaha),9,Bw))),128))],8,Tw),[[l.u1,i.formData.idbidangusaha]])]),(0,n.Lk)("div",Aw,[e[14]||(e[14]=(0,n.Lk)("label",{class:"form-label"},[(0,n.eW)("Nama Usaha "),(0,n.Lk)("span",{class:"text-danger"},"*")],-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.namausaha=a),placeholder:"Masukkan nama usaha",required:""},null,512),[[l.Jo,i.formData.namausaha]])]),(0,n.Lk)("div",_w,[e[15]||(e[15]=(0,n.Lk)("label",{class:"form-label"},"Alamat Usaha",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.alamatusaha=a),rows:"3",placeholder:"Masukkan alamat lengkap usaha"},null,512),[[l.Jo,i.formData.alamatusaha]])]),(0,n.Lk)("div",jw,[e[16]||(e[16]=(0,n.Lk)("label",{class:"form-label"},"Deskripsi Usaha",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>i.formData.deskripsiusaha=a),rows:"4",placeholder:"Jelaskan tentang badan usaha"},null,512),[[l.Jo,i.formData.deskripsiusaha]])]),(0,n.Lk)("div",Vw,[e[17]||(e[17]=(0,n.Lk)("label",{class:"form-label"},"Upload Logo Usaha",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[6]||(e[6]=(...a)=>o.handleLogoUpload&&o.handleLogoUpload(...a))},null,32),(0,n.Lk)("div",Iw,[i.logoPreviewUrl?((0,n.uX)(),(0,n.CE)("div",Nw,[(0,n.Lk)("img",{src:i.logoPreviewUrl,alt:"Preview Logo",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,Uw)])):o.isEditMode&&i.formData.logousaha?((0,n.uX)(),(0,n.CE)("div",Rw,[(0,n.Lk)("img",{src:i.formData.logousaha,alt:"Logo Saat Ini",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,Qw)])):(0,n.Q3)("",!0)])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Ww,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Ow,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[8]||(e[8]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[9]||(e[9]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",$w)):((0,n.uX)(),(0,n.CE)("span",Gw,"Simpan"))],8,Kw)])])])])}const qw={iddesa:"",idbidangusaha:"",namausaha:"",alamatusaha:"",deskripsiusaha:"",logousaha:null};var Hw={name:"addEditProfileModal",props:{profileToEdit:{type:Object,default:null}},data(){return{formData:{...qw},selectedLogoFile:null,logoPreviewUrl:null,desaList:[],businessFields:[],isDesaListLoading:!1,isBusinessFieldsLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.profileToEdit}},watch:{profileToEdit:{handler(a){a?(this.formData.iddesa=a.iddesa,this.formData.idbidangusaha=a.idbidangusaha,this.formData.namausaha=a.namausaha,this.formData.alamatusaha=a.alamatusaha,this.formData.deskripsiusaha=a.deskripsiusaha,this.formData.logousaha=a.logousaha):this.formData={...qw},this.selectedLogoFile=null,this.logoPreviewUrl=null,this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList(),this.fetchBusinessFields()},beforeUnmount(){this.logoPreviewUrl&&URL.revokeObjectURL(this.logoPreviewUrl)},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isDesaListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa.")}finally{this.isDesaListLoading=!1}},async fetchBusinessFields(){this.isBusinessFieldsLoading=!0;try{const a=await Lw({limit:-1});this.businessFields=a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar bidang usaha.")}finally{this.isBusinessFieldsLoading=!1}},handleLogoUpload(a){const e=a.target.files[0];if(this.logoPreviewUrl&&URL.revokeObjectURL(this.logoPreviewUrl),!e)return this.selectedLogoFile=null,void(this.logoPreviewUrl=null);this.selectedLogoFile=e,this.logoPreviewUrl=URL.createObjectURL(e)},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[iddesa]",this.formData.iddesa),a.append("record[idbidangusaha]",this.formData.idbidangusaha),a.append("record[namausaha]",this.formData.namausaha),a.append("record[alamatusaha]",this.formData.alamatusaha),a.append("record[deskripsiusaha]",this.formData.deskripsiusaha),this.selectedLogoFile&&a.append("upload_logousaha",this.selectedLogoFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await bw(this.profileToEdit.idusaha,a),this.toast.success("Data badan usaha berhasil diperbarui.")):(e=await pw(a),this.toast.success("Data badan usaha berhasil ditambah.")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi.",this.toast.error("Gagal menyimpan data badan usaha.")}finally{this.isLoading=!1}}}};const Yw=(0,r.A)(Hw,[["render",Jw],["__scopeId","data-v-22e2eb02"]]);var zw=Yw;const Zw={class:"modal-header"},aF={class:"modal-body"},eF={key:0,class:"text-center p-5"},tF={key:1,class:"text-center p-5 text-danger"},sF={key:0,class:"text-muted"},iF={key:2,class:"profile-container"},lF={class:"text-center mb-4"},nF=["src"],oF={key:1,src:"https://placehold.co/150x150/EBF4FF/7F9CF5?text=Logo",alt:"Logo Default",class:"logo-usaha"},rF={class:"nama-usaha mt-3"},cF={class:"alamat-usaha"},dF={class:"row detail-section"},uF={class:"col-md-6"},mF={class:"col-md-6"},kF={class:"detail-section"},hF={class:"text-content"},gF={class:"modal-footer"};function pF(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[2]||(e[2]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Zw,[e[4]||(e[4]=(0,n.Lk)("h5",{class:"modal-title"},"Detail Profil Usaha",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",aF,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",eF,e[5]||(e[5]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...",-1)]))):i.error?((0,n.uX)(),(0,n.CE)("div",tF,[e[6]||(e[6]=(0,n.Lk)("i",{class:"fa fa-exclamation-triangle fa-3x mb-3"},null,-1)),e[7]||(e[7]=(0,n.Lk)("h4",null,"Terjadi Kesalahan",-1)),(0,n.Lk)("p",null,(0,k.v_)(i.error),1),i.debugMessage?((0,n.uX)(),(0,n.CE)("small",sF,"Detail: "+(0,k.v_)(i.debugMessage),1)):(0,n.Q3)("",!0)])):i.profile?((0,n.uX)(),(0,n.CE)("div",iF,[(0,n.Lk)("div",lF,[i.profile.logousaha?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.profile.logousaha,alt:"Logo Usaha",class:"logo-usaha",onerror:"this.src='https://placehold.co/150x150/EBF4FF/7F9CF5?text=Logo'"},null,8,nF)):((0,n.uX)(),(0,n.CE)("img",oF)),(0,n.Lk)("h2",rF,(0,k.v_)(i.profile.namausaha||"Nama Usaha Belum Diatur"),1),(0,n.Lk)("p",cF,(0,k.v_)(i.profile.alamatusaha||"Alamat belum diatur"),1)]),e[11]||(e[11]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",dF,[(0,n.Lk)("div",uF,[e[8]||(e[8]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-map-marker me-2"}),(0,n.eW)("Asal Desa")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.profile.wilayah?.namawilayah||"-"),1)]),(0,n.Lk)("div",mF,[e[9]||(e[9]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-briefcase me-2"}),(0,n.eW)("Bidang Usaha")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.profile.bidang?.namabidangusaha||"-"),1)])]),e[12]||(e[12]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",kF,[e[10]||(e[10]=(0,n.Lk)("h4",null,"Deskripsi Usaha",-1)),(0,n.Lk)("p",hF,(0,k.v_)(i.profile.deskripsiusaha||"Tidak ada deskripsi usaha."),1)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",gF,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...a)=>o.closeModal&&o.closeModal(...a))},"Tutup")])])])}var bF={name:"DetailUsahaModal",props:{profileToView:{type:Object,required:!0}},emits:["close"],data(){return{profile:null,isLoading:!1,error:null,debugMessage:""}},methods:{closeModal(){this.$emit("close")},async fetchUsahaProfile(){const a=this.profileToView?.idusaha;if(a){this.isLoading=!0,this.error=null,this.debugMessage="";try{const e=await gw(a),t=e.data;t&&t.length>0&&t[0].data&&t[0].data.length>0?this.profile=t[0].data[0]:(this.error="Data profil usaha tidak ditemukan atau format respons tidak sesuai.",this.debugMessage=`Struktur data yang diterima: ${JSON.stringify(t)}`)}catch(e){console.error("Gagal mengambil detail profil usaha:",e),this.error=e.message||"Terjadi kesalahan saat memuat data.",e.response&&(this.debugMessage=`Status: ${e.response.status} - Data: ${JSON.stringify(e.response.data)}`)}finally{this.isLoading=!1}}else this.error="ID badan usaha tidak valid atau tidak tersedia."}},mounted(){this.fetchUsahaProfile()},watch:{profileToView:{handler(a,e){a?.idusaha!==e?.idusaha&&this.fetchUsahaProfile()},deep:!0}}};const fF=(0,r.A)(bF,[["render",pF],["__scopeId","data-v-640f883e"]]);var LF=fF,yF={components:{AddEditProfileModal:zw,DetailProfileModal:LF},data(){return{profiles:[],businessFields:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,profileBeingEdited:null,isFilterVisible:!1,filters:{namausaha:"",alamatusaha:"",namawilayah:"",idbidangusaha:""},isDetailModalVisible:!1,profileBeingViewed:null}},computed:{paginatedProfiles(){return this.profiles},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchProfiles()},perPage(){this.currentPage=1,this.fetchProfiles()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchProfiles(),await this.fetchBusinessFields()},methods:{openAddModal(){this.profileBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.profileBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.profileBeingEdited=null},openDetailModal(a){this.profileBeingViewed={...a},this.isDetailModalVisible=!0},closeDetailModal(){this.isDetailModalVisible=!1,this.profileBeingViewed=null},handleSaveSuccessful(){this.closeModal(),this.fetchProfiles()},async fetchBusinessFields(){try{const a=await Lw({limit:-1});this.businessFields=a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar bidang usaha")}},async fetchProfiles(){this.isLoading=!0;try{const a={act:"badan-usaha",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);a.filter=e.length>0?e.join(","):"";const t=await hw(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.profiles=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching profiles:",a),this.toast.error("Gagal memuat data badan usaha.",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Badan Usaha",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await fw(a),1===this.profiles.length&&this.currentPage>1?this.currentPage--:this.fetchProfiles(),this.toast.success("Data badan usaha berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data badan usaha",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchProfiles()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchProfiles()},resetFilters(){this.filters.namausaha="",this.filters.alamatusaha="",this.filters.namawilayah="",this.filters.idbidangusaha="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchProfiles()}}};const vF=(0,r.A)(yF,[["render",kw],["__scopeId","data-v-17d568db"]]);var CF=vF,PF={components:{ProfilesTable:CF}};const EF=(0,r.A)(PF,[["render",fM]]);var DF=EF;const MF={class:"container-fluid"},wF={class:"row"};function FF(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ManagementsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Badan Usaha",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",MF,[(0,n.Lk)("div",wF,[(0,n.bF)(r)])])])}const XF={class:"col-sm-12"},xF={class:"card"},TF={class:"card-body"},SF={class:"d-flex justify-content-end align-items-start mb-3"},BF={class:"d-flex gap-2"},AF={key:0,class:"fa fa-angle-up me-2"},_F={key:1,class:"fa fa-angle-down me-2"},jF={key:0,class:"border p-3 mb-3 rounded filter-section"},VF={class:"row g-3"},IF={class:"col-md-3"},NF={class:"col-md-3"},UF={class:"d-flex justify-content-end gap-2 mt-3"},RF={class:"table-responsive signal-table"},QF={class:"table table-hover"},WF={key:0,class:"fa fa-sort-asc"},OF={key:1,class:"fa fa-sort-desc"},KF={key:2,class:"fa fa-sort"},$F={key:0,class:"fa fa-sort-asc"},GF={key:1,class:"fa fa-sort-desc"},JF={key:2,class:"fa fa-sort"},qF={key:0},HF={scope:"row"},YF=["src"],zF={key:1,class:"text-muted"},ZF={class:"btn-group"},aX=["onClick"],eX=["onClick"],tX=["onClick"],sX={key:0},iX={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},lX={class:"mt-2"},nX={key:0,class:"text-muted"},oX={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},rX={class:"pagination mb-0"},cX={key:0,class:"page-item"},dX={key:1,class:"page-item disabled"},uX=["onClick"],mX={key:2,class:"page-item disabled"},kX={key:3,class:"page-item"};function hX(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-management-modal");return(0,n.uX)(),(0,n.CE)("div",XF,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"management-to-edit":i.managementBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["management-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",xF,[e[33]||(e[33]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Pengurus Usaha")],-1)),(0,n.Lk)("div",TF,[(0,n.Lk)("div",SF,[(0,n.Lk)("div",BF,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",AF)):((0,n.uX)(),(0,n.CE)("i",_F)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",jF,[(0,n.Lk)("div",VF,[(0,n.Lk)("div",IF,[e[13]||(e[13]=(0,n.Lk)("label",{for:"filterEnterpriseName",class:"form-label"},"Nama Usaha",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterEnterpriseName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namausaha=a),placeholder:"Filter berdasarkan nama usaha"},null,512),[[l.Jo,i.filters.namausaha]])]),(0,n.Lk)("div",NF,[e[14]||(e[14]=(0,n.Lk)("label",{for:"filterSkDate",class:"form-label"},"Tanggal SK",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",id:"filterSkDate",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.tanggal_sk=a)},null,512),[[l.Jo,i.filters.tanggal_sk]])])]),(0,n.Lk)("div",UF,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[15]||(e[15]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",RF,[(0,n.Lk)("table",QF,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[19]||(e[19]=(0,n.Lk)("th",{scope:"col"},"No",-1)),e[20]||(e[20]=(0,n.Lk)("th",{scope:"col",style:{width:"80px"}},"Logo Usaha",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[6]||(e[6]=a=>o.sortBy("namausaha"))},[e[17]||(e[17]=(0,n.eW)(" Nama Usaha ")),"namausaha"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",WF)):"namausaha"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",OF)):((0,n.uX)(),(0,n.CE)("i",KF))]),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("tanggal_sk"))},[e[18]||(e[18]=(0,n.eW)(" Tanggal SK ")),"tanggal_sk"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",$F)):"tanggal_sk"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",GF)):((0,n.uX)(),(0,n.CE)("i",JF))]),e[21]||(e[21]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",qF,e[22]||(e[22]=[(0,n.Lk)("td",{colspan:"5",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.managements,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idpengurus},[(0,n.Lk)("th",HF,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,[a.usaha?.logousaha?((0,n.uX)(),(0,n.CE)("img",{key:0,src:a.usaha?.logousaha,alt:"Logo Usaha",style:{height:"40px",width:"auto"}},null,8,YF)):((0,n.uX)(),(0,n.CE)("span",zF,"-"))]),(0,n.Lk)("td",null,(0,k.v_)(a.usaha?.namausaha||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.tanggal_sk||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",ZF,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openSkFile(a.filesk),title:"Lihat File SK"},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-file"},null,-1)]),8,aX),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[24]||(e[24]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,eX),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idpengurus),title:"Hapus Data"},e[25]||(e[25]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,tX)])])]))),128)),0===o.paginatedManagements.length?((0,n.uX)(),(0,n.CE)("tr",sX,e[26]||(e[26]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",iX,[(0,n.Lk)("div",lX,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",nX,[e[27]||(e[27]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[28]||(e[28]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[29]||(e[29]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[30]||(e[30]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",oX,[(0,n.Lk)("ul",rX,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",cX,[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",dX,e[31]||(e[31]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,uX)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",mX,e[32]||(e[32]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",kX,[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const gX=(a={})=>Mi.get("",{params:{act:"pengurus-usaha",...a}}),pX=a=>(a.append("act","pengurus-usaha"),Mi.post("",a)),bX=(a,e)=>a?(e.append("act","pengurus-usaha"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID pengurus usaha tidak tersedia.")),fX=a=>a?Mi.delete("",{data:{act:"pengurus-usaha",key:a}}):Promise.reject(new Error("ID pengurus usaha tidak tersedia.")),LX={class:"modal-header"},yX={class:"modal-title"},vX={class:"modal-body"},CX={class:"mb-3"},PX=["disabled"],EX={disabled:"",value:""},DX=["value"],MX={class:"mb-3"},wX={class:"mb-3"},FX={key:0,class:"mt-2"},XX=["href"],xX={key:1,class:"mt-2"},TX={key:0,class:"alert alert-danger mt-3"},SX={class:"modal-footer"},BX=["disabled"],AX={key:0,class:"spinner-border spinner-border-sm",role:"status"},_X={key:1};function jX(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[8]||(e[8]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[7]||(e[7]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",LX,[(0,n.Lk)("h5",yX,(0,k.v_)(o.isEditMode?"Edit Data Pengurus Usaha":"Tambah Data Pengurus Usaha"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",vX,[(0,n.Lk)("form",{onSubmit:e[4]||(e[4]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",CX,[e[9]||(e[9]=(0,n.Lk)("label",{class:"form-label"},"Nama Usaha",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.idusaha=a),required:"",disabled:i.isUsahaListLoading},[(0,n.Lk)("option",EX,(0,k.v_)(i.isUsahaListLoading?"Memuat...":"Pilih Usaha"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.usahaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idusaha,value:a.idusaha},(0,k.v_)(a.namausaha),9,DX))),128))],8,PX),[[l.u1,i.formData.idusaha]])]),(0,n.Lk)("div",MX,[e[10]||(e[10]=(0,n.Lk)("label",{class:"form-label"},"Tanggal SK",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.tanggal_sk=a),required:""},null,512),[[l.Jo,i.formData.tanggal_sk]])]),(0,n.Lk)("div",wX,[e[13]||(e[13]=(0,n.Lk)("label",{class:"form-label"},"Upload File SK",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:".pdf,.doc,.docx,image/*",onChange:e[3]||(e[3]=(...a)=>o.handleFileUpload&&o.handleFileUpload(...a))},null,32),o.isEditMode&&i.formData.filesk&&!i.selectedSkFile?((0,n.uX)(),(0,n.CE)("div",FX,[e[11]||(e[11]=(0,n.eW)(" File saat ini: ")),(0,n.Lk)("a",{href:i.formData.filesk,target:"_blank",rel:"noopener noreferrer"},"Lihat File",8,XX)])):(0,n.Q3)("",!0),i.skFileName?((0,n.uX)(),(0,n.CE)("div",xX,[e[12]||(e[12]=(0,n.eW)(" File baru: ")),(0,n.Lk)("strong",null,(0,k.v_)(i.skFileName),1)])):(0,n.Q3)("",!0)]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",TX,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",SX,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[5]||(e[5]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[6]||(e[6]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",AX)):((0,n.uX)(),(0,n.CE)("span",_X,"Simpan"))],8,BX)])])])])}const VX={idusaha:"",tanggal_sk:"",filesk:null};var IX={name:"addEditManagementModal",props:{managementToEdit:{type:Object,default:null}},data(){return{formData:{...VX},selectedSkFile:null,skFileName:"",usahaList:[],isUsahaListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.managementToEdit}},watch:{managementToEdit:{handler(a){a?(this.formData.idusaha=a.idusaha,this.formData.tanggal_sk=a.tanggal_sk,this.formData.filesk=a.filesk):this.formData={...VX},this.selectedSkFile=null,this.skFileName="",this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchUsahaList()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchUsahaList(){this.isUsahaListLoading=!0;try{const a=await hw({limit:-1});this.usahaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar usaha")}finally{this.isUsahaListLoading=!1}},handleFileUpload(a){const e=a.target.files[0];if(!e)return this.selectedSkFile=null,void(this.skFileName="");this.selectedSkFile=e,this.skFileName=e.name},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[idusaha]",this.formData.idusaha),a.append("record[tanggal_sk]",this.formData.tanggal_sk),this.selectedSkFile&&a.append("upload_filesk",this.selectedSkFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await bX(this.managementToEdit.idpengurus,a),this.toast.success("Data pengurus usaha berhasil diperbarui")):(e=await pX(a),this.toast.success("Data pengurus usaha berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data pengurus usaha")}finally{this.isLoading=!1}}}};const NX=(0,r.A)(IX,[["render",jX],["__scopeId","data-v-3c911186"]]);var UX=NX,RX={components:{AddEditManagementModal:UX},data(){return{managements:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,managementBeingEdited:null,isFilterVisible:!1,filters:{namausaha:"",tanggal_sk:""}}},computed:{paginatedManagements(){return this.managements},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchManagements()},perPage(){this.currentPage=1,this.fetchManagements()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchManagements()},methods:{openAddModal(){this.managementBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.managementBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.managementBeingEdited=null},openSkFile(a){a?window.open(a,"_blank"):this.toast.info("Tidak ada file SK yang tersedia.",{icon:"fa fa-info-circle"})},handleSaveSuccessful(){this.closeModal(),this.fetchManagements()},async fetchManagements(){this.isLoading=!0;try{const a={act:"pengurus-usaha",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await gX(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.managements=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching managements:",a),this.toast.error("Gagal memuat data pengurus usaha",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Pengurus Usaha",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await fX(a),1===this.managements.length&&this.currentPage>1?this.currentPage--:this.fetchManagements(),this.toast.success("Data pengurus usaha berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data pengurus usaha",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchManagements()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchManagements()},resetFilters(){this.filters.namadesa="",this.filters.tahunawal="",this.filters.tahunakhir="",this.filters.tanggal_sk="",this.sortColumn="created_at",this.sortDirection="desc",this.currentPage=1,this.fetchManagements()}}};const QX=(0,r.A)(RX,[["render",hX],["__scopeId","data-v-f1ffa856"]]);var WX=QX,OX={components:{ManagementsTable:WX}};const KX=(0,r.A)(OX,[["render",FF]]);var $X=KX;const GX={class:"container-fluid"},JX={class:"row"};function qX(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ReportTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Badan Usaha",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",GX,[(0,n.Lk)("div",JX,[(0,n.bF)(r)])])])}const HX={class:"col-sm-12"},YX={class:"card"},zX={class:"card-body"},ZX={class:"d-flex justify-content-end align-items-start mb-3"},ax={class:"d-flex gap-2"},ex={key:0,class:"fa fa-angle-up me-2"},tx={key:1,class:"fa fa-angle-down me-2"},sx={key:0,class:"border p-3 mb-3 rounded filter-section"},ix={class:"row g-3"},lx={class:"col-md-3"},nx={class:"col-md-3"},ox={class:"col-md-3"},rx={class:"col-md-3"},cx={class:"d-flex justify-content-end gap-2 mt-3"},dx={class:"table-responsive signal-table"},ux={class:"table table-hover"},mx={key:0,class:"fa fa-sort-asc"},kx={key:1,class:"fa fa-sort-desc"},hx={key:2,class:"fa fa-sort"},gx={key:0,class:"fa fa-sort-asc"},px={key:1,class:"fa fa-sort-desc"},bx={key:2,class:"fa fa-sort"},fx={key:0,class:"fa fa-sort-asc"},Lx={key:1,class:"fa fa-sort-desc"},yx={key:2,class:"fa fa-sort"},vx={key:0,class:"fa fa-sort-asc"},Cx={key:1,class:"fa fa-sort-desc"},Px={key:2,class:"fa fa-sort"},Ex={key:0},Dx={scope:"row"},Mx=["src"],wx={key:1,class:"text-muted"},Fx={class:"btn-group"},Xx=["onClick"],xx=["onClick"],Tx=["onClick"],Sx={key:0},Bx={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},Ax={class:"mt-2"},_x={key:0,class:"text-muted"},jx={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},Vx={class:"pagination mb-0"},Ix={key:0,class:"page-item"},Nx={key:1,class:"page-item disabled"},Ux=["onClick"],Rx={key:2,class:"page-item disabled"},Qx={key:3,class:"page-item"};function Wx(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-report-modal");return(0,n.uX)(),(0,n.CE)("div",HX,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"report-to-edit":i.reportBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["report-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",YX,[e[41]||(e[41]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Laporan Usaha")],-1)),(0,n.Lk)("div",zX,[(0,n.Lk)("div",ZX,[(0,n.Lk)("div",ax,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",ex)):((0,n.uX)(),(0,n.CE)("i",tx)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",sx,[(0,n.Lk)("div",ix,[(0,n.Lk)("div",lx,[e[17]||(e[17]=(0,n.Lk)("label",{for:"filterUsahaName",class:"form-label"},"Nama Usaha",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterUsahaName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namausaha=a),placeholder:"filter berdasarkan nama dokumen"},null,512),[[l.Jo,i.filters.namausaha]])]),(0,n.Lk)("div",nx,[e[18]||(e[18]=(0,n.Lk)("label",{for:"filterPeriodName",class:"form-label"},"Nama Periode laporan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterPeriodName",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.namaperiodelaporan=a),placeholder:"Filter berdasarkan nama periode laporan"},null,512),[[l.Jo,i.filters.namaperiodelaporan]])]),(0,n.Lk)("div",ox,[e[19]||(e[19]=(0,n.Lk)("label",{for:"filterDate",class:"form-label"},"Tanggal Laporan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",id:"filterDate",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.tanggallaporan=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.tanggallaporan]])]),(0,n.Lk)("div",rx,[e[20]||(e[20]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",cx,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[6]||(e[6]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[21]||(e[21]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",dx,[(0,n.Lk)("table",ux,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[27]||(e[27]=(0,n.Lk)("th",{scope:"col"},"No",-1)),e[28]||(e[28]=(0,n.Lk)("th",{scope:"col",style:{width:"80px"}},"Logo Usaha",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("namausaha"))},[e[23]||(e[23]=(0,n.eW)(" Nama Usaha ")),"namausaha"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",mx)):"namausaha"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",kx)):((0,n.uX)(),(0,n.CE)("i",hx))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("namaperiodelaporan"))},[e[24]||(e[24]=(0,n.eW)(" Nama Periode Laporan ")),"namaperiodelaporan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",gx)):"namaperiodelaporan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",px)):((0,n.uX)(),(0,n.CE)("i",bx))]),(0,n.Lk)("th",{scope:"col",onClick:e[10]||(e[10]=a=>o.sortBy("tanggallaporan"))},[e[25]||(e[25]=(0,n.eW)(" Tanggal Laporan ")),"tanggallaporan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",fx)):"tanggallaporan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Lx)):((0,n.uX)(),(0,n.CE)("i",yx))]),(0,n.Lk)("th",{scope:"col",onClick:e[11]||(e[11]=a=>o.sortBy("namawilayah"))},[e[26]||(e[26]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",vx)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Cx)):((0,n.uX)(),(0,n.CE)("i",Px))]),e[29]||(e[29]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",Ex,e[30]||(e[30]=[(0,n.Lk)("td",{colspan:"7",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.reports,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.iddokumen},[(0,n.Lk)("th",Dx,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,[a.usaha?.logousaha?((0,n.uX)(),(0,n.CE)("img",{key:0,src:a.usaha?.logousaha,alt:"Logo",style:{height:"50px",width:"auto"}},null,8,Mx)):((0,n.uX)(),(0,n.CE)("span",wx,"-"))]),(0,n.Lk)("td",null,(0,k.v_)(a.usaha?.namausaha||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.periode?.namaperiodelaporan||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(o.formatTanggal(a.tanggallaporan)||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",Fx,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openFile(a.filelaporan),title:"Lihat Dokumen"},e[31]||(e[31]=[(0,n.Lk)("i",{class:"fa fa-file"},null,-1)]),8,Xx),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[32]||(e[32]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,xx),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.iddokumen),title:"Hapus Data"},e[33]||(e[33]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,Tx)])])]))),128)),0===i.reports.length?((0,n.uX)(),(0,n.CE)("tr",Sx,e[34]||(e[34]=[(0,n.Lk)("td",{colspan:"7",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",Bx,[(0,n.Lk)("div",Ax,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",_x,[e[35]||(e[35]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[36]||(e[36]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[37]||(e[37]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[38]||(e[38]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",jx,[(0,n.Lk)("ul",Vx,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Ix,[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",Nx,e[39]||(e[39]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,Ux)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",Rx,e[40]||(e[40]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",Qx,[(0,n.Lk)("button",{class:"page-link",onClick:e[14]||(e[14]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[15]||(e[15]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const Ox=(a={})=>Mi.get("",{params:{act:"laporan-usaha",...a}}),Kx=a=>(a.append("act","laporan-usaha"),Mi.post("",a)),$x=(a,e)=>a?(e.append("act","laporan-usaha"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID laporan usaha tidak tersedia.")),Gx=a=>a?Mi.delete("",{data:{act:"laporan-usaha",key:a}}):Promise.reject(new Error("ID laporan usaha tidak tersedia.")),Jx={class:"modal-header"},qx={class:"modal-title"},Hx={class:"modal-body"},Yx={class:"mb-3"},zx=["disabled"],Zx={disabled:"",value:""},aT=["value"],eT={class:"mb-3"},tT=["disabled"],sT={disabled:"",value:""},iT=["value"],lT={class:"row"},nT={class:"col-md-6 mb-3"},oT={class:"col-md-6 mb-3"},rT={key:0,class:"mt-2"},cT=["href"],dT={key:1,class:"mt-2"},uT={key:0,class:"alert alert-danger mt-3"},mT={class:"modal-footer"},kT=["disabled"],hT={key:0,class:"spinner-border spinner-border-sm",role:"status"},gT={key:1};function pT(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[9]||(e[9]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[8]||(e[8]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Jx,[(0,n.Lk)("h5",qx,(0,k.v_)(o.isEditMode?"Edit Data Laporan Usaha":"Tambah Data Laporan Usaha"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Hx,[(0,n.Lk)("form",{onSubmit:e[5]||(e[5]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Yx,[e[10]||(e[10]=(0,n.Lk)("label",{class:"form-label"},"Nama Usaha",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.idusaha=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Zx,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Nama Usaha"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.usahaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idusaha,value:a.idusaha},(0,k.v_)(a.namausaha),9,aT))),128))],8,zx),[[l.u1,i.formData.idusaha]])]),(0,n.Lk)("div",eT,[e[11]||(e[11]=(0,n.Lk)("label",{class:"form-label"},"Periode Laporan",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.idperiodelaporan=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",sT,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Periode Laporan"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.reportPeriodeList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idperiodelaporan,value:a.idperiodelaporan},(0,k.v_)(a.namaperiodelaporan),9,iT))),128))],8,tT),[[l.u1,i.formData.idperiodelaporan]])]),(0,n.Lk)("div",lT,[(0,n.Lk)("div",nT,[e[12]||(e[12]=(0,n.Lk)("label",{class:"form-label"},"Tanggal Laporan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.tanggallaporan=a),required:""},null,512),[[l.Jo,i.formData.tanggallaporan]])]),(0,n.Lk)("div",oT,[e[15]||(e[15]=(0,n.Lk)("label",{class:"form-label"},"Upload File Laporan",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:".pdf,.doc,.docx,image/*",onChange:e[4]||(e[4]=(...a)=>o.handleFileUpload&&o.handleFileUpload(...a))},null,32),o.isEditMode&&i.formData.filelaporan&&!a.selectedFile?((0,n.uX)(),(0,n.CE)("div",rT,[e[13]||(e[13]=(0,n.eW)(" File saat ini: ")),(0,n.Lk)("a",{href:i.formData.filelaporan,target:"_blank",rel:"noopener noreferrer"},"Lihat File",8,cT)])):(0,n.Q3)("",!0),a.FileName?((0,n.uX)(),(0,n.CE)("div",dT,[e[14]||(e[14]=(0,n.eW)(" File baru: ")),(0,n.Lk)("strong",null,(0,k.v_)(a.FileName),1)])):(0,n.Q3)("",!0)])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",uT,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",mT,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[6]||(e[6]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",hT)):((0,n.uX)(),(0,n.CE)("span",gT,"Simpan"))],8,kT)])])])])}const bT=(a={})=>Mi.get("",{params:{act:"periode-laporan-usaha",...a}}),fT=a=>Mi.post("",{act:"periode-laporan-usaha",record:a}),LT=(a,e)=>a?Mi.put("",{act:"periode-laporan-usaha",key:a,record:e}):Promise.reject(new Error("ID periode laporan usaha tidak tersedia.")),yT=a=>a?Mi.delete("",{data:{act:"periode-laporan-usaha",key:a}}):Promise.reject(new Error("ID periode laporan usaha tidak tersedia.")),vT={selectedFile:null,FileName:"",idperiodelaporan:"",idusaha:"",tanggallaporan:"",file:null};var CT={name:"addEditReportModal",props:{reportToEdit:{type:Object,default:null}},data(){return{formData:{...vT},documentTypeList:[],desaList:[],isListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.reportToEdit}},watch:{reportToEdit:{handler(a){a?(this.formData.idperiodelaporan=a.idperiodelaporan,this.formData.idusaha=a.idusaha,this.formData.tanggallaporan=a.tanggallaporan,this.formData.filelaporan=a.filelaporan):this.formData={...vT},this.selectedFile=null,this.FileName="",this.errorMessage=null},immediate:!0,deep:!0}},async created(){await this.fetchUsahaList(),await this.fetchPeriodeList()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchUsahaList(){this.isListLoading=!0;try{const a=await hw({limit:-1});this.usahaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar badan usaha")}finally{this.isListLoading=!1}},async fetchPeriodeList(){this.isListLoading=!0;try{const a=await bT({limit:-1});this.reportPeriodeList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar periode laporan usaha")}finally{this.isListLoading=!1}},handleFileUpload(a){const e=a.target.files[0];if(!e)return this.selectedFile=null,void(this.FileName="");this.selectedFile=e,this.FileName=e.name},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[idperiodelaporan]",this.formData.idperiodelaporan),a.append("record[idusaha]",this.formData.idusaha),a.append("record[tanggallaporan]",this.formData.tanggallaporan),this.selectedFile&&a.append("upload_filelaporan",this.selectedFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await $x(this.reportToEdit.idlaporanusaha,a),this.toast.success("Data laporan usaha berhasil diperbarui")):(e=await Kx(a),this.toast.success("Data laporan usaha berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data laporan usaha")}finally{this.isLoading=!1}}}};const PT=(0,r.A)(CT,[["render",pT],["__scopeId","data-v-69b27c02"]]);var ET=PT,DT={components:{AddEditReportModal:ET},data(){return{reports:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,reportBeingEdited:null,isFilterVisible:!1,filters:{namaperiodelaporan:"",namausaha:"",tanggallaporan:"",namawilayah:""}}},computed:{totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchReports()},perPage(){this.currentPage=1,this.fetchReports()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchReports()},methods:{openAddModal(){this.reportBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.reportBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.reportBeingEdited=null},openFile(a){a?window.open(a,"_blank"):this.toast.info("Tidak ada file laporan usaha yang tersedia",{icon:"fa fa-info-circle"})},handleSaveSuccessful(){this.closeModal(),this.fetchReports()},async fetchReports(){this.isLoading=!0;try{const a={act:"laporan-usaha",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Ox(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.reports=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching reports:",a),this.toast.error("Gagal memuat data laporan usaha",{icon:"fa fa-times"})}finally{this.isLoading=!1}},formatTanggal(a){if(!a)return null;const e={day:"numeric",month:"long",year:"numeric"};return new Date(a).toLocaleDateString("id-ID",e)},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Laporan Usaha",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Gx(a),1===this.reports.length&&this.currentPage>1?this.currentPage--:this.fetchReports(),this.toast.success("Data laporan usaha berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data laporan usaha",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchReports()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchReports()},resetFilters(){this.filters.namadokumen="",this.filters.idjenisdokumen="",this.filters.tahun_terbit="",this.filters.namawilayah="",this.currentPage=1,this.fetchReports()}}};const MT=(0,r.A)(DT,[["render",Wx],["__scopeId","data-v-ac17e9c0"]]);var wT=MT,FT={components:{ReportTable:wT}};const XT=(0,r.A)(FT,[["render",qX]]);var xT=XT;const TT={class:"container-fluid"},ST={class:"row"};function BT(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ArticleCategoryTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Website",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",TT,[(0,n.Lk)("div",ST,[(0,n.bF)(r)])])])}const AT={class:"col-sm-12"},_T={class:"card"},jT={class:"card-body"},VT={class:"d-flex justify-content-end align-items-start mb-3"},IT={class:"d-flex gap-2"},NT={key:0,class:"fa fa-angle-up me-2"},UT={key:1,class:"fa fa-angle-down me-2"},RT={key:0,class:"border p-3 mb-3 rounded filter-section"},QT={class:"row g-3"},WT={class:"col-md-3"},OT={class:"col-md-3"},KT={class:"d-flex justify-content-end gap-2 mt-3"},$T={class:"table-responsive signal-table"},GT={class:"table table-hover"},JT={key:0,class:"fa fa-sort-asc"},qT={key:1,class:"fa fa-sort-desc"},HT={key:2,class:"fa fa-sort"},YT={key:0,class:"fa fa-sort-asc"},zT={key:1,class:"fa fa-sort-desc"},ZT={key:2,class:"fa fa-sort"},aS={key:0},eS={scope:"row"},tS={class:"btn-group"},sS=["onClick"],iS=["onClick"],lS={key:0},nS={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},oS={class:"mt-2"},rS={key:0,class:"text-muted"},cS={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},dS={class:"pagination mb-0"},uS={key:0,class:"page-item"},mS={key:1,class:"page-item disabled"},kS=["onClick"],hS={key:2,class:"page-item disabled"},gS={key:3,class:"page-item"};function pS(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-articleCategory-modal");return(0,n.uX)(),(0,n.CE)("div",AT,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"articleCategory-to-edit":i.articleCategoryBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["articleCategory-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",_T,[e[31]||(e[31]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Kategori Artikel")],-1)),(0,n.Lk)("div",jT,[(0,n.Lk)("div",VT,[(0,n.Lk)("div",IT,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",NT)):((0,n.uX)(),(0,n.CE)("i",UT)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",RT,[(0,n.Lk)("div",QT,[(0,n.Lk)("div",WT,[e[13]||(e[13]=(0,n.Lk)("label",{for:"filterArticleCategoryName",class:"form-label"},"Nama Kategori Artikel",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterArticleCategoryName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namakategoriartikel=a),placeholder:"Filter berdasarkan nama kategori"},null,512),[[l.Jo,i.filters.namakategoriartikel]])]),(0,n.Lk)("div",OT,[e[14]||(e[14]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",KT,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[15]||(e[15]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",$T,[(0,n.Lk)("table",GT,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[19]||(e[19]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[6]||(e[6]=a=>o.sortBy("namausaha"))},[e[17]||(e[17]=(0,n.eW)(" Nama Kategori ")),"namausaha"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",JT)):"namausaha"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",qT)):((0,n.uX)(),(0,n.CE)("i",HT))]),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("namawilayah"))},[e[18]||(e[18]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",YT)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",zT)):((0,n.uX)(),(0,n.CE)("i",ZT))]),e[20]||(e[20]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",aS,e[21]||(e[21]=[(0,n.Lk)("td",{colspan:"5",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.articleCategories,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkategoriartikel},[(0,n.Lk)("th",eS,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namakategoriartikel||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah.namawilayah||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",tS,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,sS),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkategoriartikel),title:"Hapus Data"},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,iS)])])]))),128)),0===o.paginatedArticleCategories.length?((0,n.uX)(),(0,n.CE)("tr",lS,e[24]||(e[24]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",nS,[(0,n.Lk)("div",oS,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",rS,[e[25]||(e[25]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[26]||(e[26]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[27]||(e[27]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[28]||(e[28]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",cS,[(0,n.Lk)("ul",dS,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",uS,[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",mS,e[29]||(e[29]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,kS)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",hS,e[30]||(e[30]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",gS,[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const bS=(a={})=>Mi.get("",{params:{act:"kategori-artikel",...a}}),fS=a=>a?Mi.delete("",{data:{act:"kategori-artikel",key:a}}):Promise.reject(new Error("ID kategori artikel tidak tersedia")),LS={class:"modal-header"},yS={class:"modal-title"},vS={class:"modal-body"},CS={class:"col-md-8 mb-3"},PS={class:"mb-3"},ES=["disabled"],DS={disabled:"",value:""},MS=["value"],wS={key:0,class:"alert alert-danger mt-3"},FS={class:"modal-footer"},XS=["disabled"],xS={key:0,class:"spinner-border spinner-border-sm",role:"status"},TS={key:1};function SS(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[7]||(e[7]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[6]||(e[6]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",LS,[(0,n.Lk)("h5",yS,(0,k.v_)(o.isEditMode?"Edit Data Kategori Artikel":"Tambah Data Kategori Artikel"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",vS,[(0,n.Lk)("form",{onSubmit:e[3]||(e[3]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",CS,[e[8]||(e[8]=(0,n.Lk)("label",{class:"form-label"},"Nama Kategori Artikel",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namakategoriartikel=a),placeholder:"Masukkan nama kategori artikell",required:""},null,512),[[l.Jo,i.formData.namakategoriartikel]])]),(0,n.Lk)("div",PS,[e[9]||(e[9]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.iddesa=a),required:"",disabled:i.isDesaListLoading},[(0,n.Lk)("option",DS,(0,k.v_)(i.isDesaListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,MS))),128))],8,ES),[[l.u1,i.formData.iddesa]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",wS,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",FS,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[4]||(e[4]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",xS)):((0,n.uX)(),(0,n.CE)("span",TS,"Simpan"))],8,XS)])])])])}const BS=(a={})=>Mi.get("",{params:{act:"jenis-dokumen",...a}}),AS=a=>(a.append("act","jenis-dokumen"),Mi.post("",a)),_S=(a,e)=>a?(e.append("act","jenis-dokumen"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID jenis dokumen tidak tersedia")),jS=a=>a?Mi.delete("",{data:{act:"jenis-dokumen",key:a}}):Promise.reject(new Error("ID jenis dokumen tidak tersedia")),VS={iddesa:"",namakategoriartikel:""};var IS={name:"addEditArticleCategoryModal",props:{articleCategoryToEdit:{type:Object,default:null}},data(){return{formData:{...VS},desaList:[],isDesaListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.articleCategoryToEdit}},watch:{articleCategoryToEdit:{handler(a){a?(this.formData.iddesa=a.id_desa||a.iddesa||"",this.formData.namakategoriartikel=a.namakategoriartikel):this.formData={...VS},this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isDesaListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isDesaListLoading=!1}},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[namakategoriartikel]",this.formData.namakategoriartikel),a.append("record[id_desa]",this.formData.iddesa);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await(0,i.updateArticleCategory)(this.articleCategoryToEdit.idkategoriartikel,a),this.toast.success("Data kategori artikel berhasil diperbarui")):(e=await(0,i.addArticleCategory)(a),this.toast.success("Data kategori artikel berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data kategori artikel")}finally{this.isLoading=!1}}}};const NS=(0,r.A)(IS,[["render",SS],["__scopeId","data-v-cf683faa"]]);var US=NS,RS={components:{AddEditArticleCategoryModal:US},data(){return{articleCategories:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,articleCategoryBeingEdited:null,isFilterVisible:!1,filters:{namakategoriartikel:"",namawilayah:""}}},computed:{paginatedArticleCategories(){return this.articleCategories},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchArticleCategories()},perPage(){this.currentPage=1,this.fetchArticleCategories()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchArticleCategories()},methods:{openAddModal(){this.articleCategoryBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.articleCategoryBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.articleCategoryBeingEdited=null},openSkFile(a){a?window.open(a,"_blank"):this.toast.info("Tidak ada file SK yang tersedia.",{icon:"fa fa-info-circle"})},handleSaveSuccessful(){this.closeModal(),this.fetchArticleCategories()},async fetchArticleCategories(){this.isLoading=!0;try{const a={act:"kategori-artikel",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await bS(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.articleCategories=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching articleCategories:",a),this.toast.error("Gagal memuat data kategori artikel",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Kategori Artikel",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await fS(a),1===this.articleCategories.length&&this.currentPage>1?this.currentPage--:this.fetchArticleCategories(),this.toast.success("Data kategori artikel berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data kategori artikel",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchArticleCategories()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchArticleCategories()},resetFilters(){this.filters.namadesa="",this.filters.tahunawal="",this.filters.tahunakhir="",this.filters.tanggal_sk="",this.sortColumn="created_at",this.sortDirection="desc",this.currentPage=1,this.fetchArticleCategories()}}};const QS=(0,r.A)(RS,[["render",pS],["__scopeId","data-v-85df1060"]]);var WS=QS,OS={components:{ArticleCategoryTable:WS}};const KS=(0,r.A)(OS,[["render",BT]]);var $S=KS;const GS={class:"container-fluid"},JS={class:"row"};function qS(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("DocumentTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Website",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",GS,[(0,n.Lk)("div",JS,[(0,n.bF)(r)])])])}const HS={class:"col-sm-12"},YS={class:"card"},zS={class:"card-body"},ZS={class:"d-flex justify-content-end align-items-start mb-3"},aB={class:"d-flex gap-2"},eB={key:0,class:"fa fa-angle-up me-2"},tB={key:1,class:"fa fa-angle-down me-2"},sB={key:0,class:"border p-3 mb-3 rounded filter-section"},iB={class:"row g-3"},lB={class:"col-md-3"},nB={class:"col-md-3"},oB=["value"],rB={class:"col-md-3"},cB={class:"col-md-3"},dB={class:"d-flex justify-content-end gap-2 mt-3"},uB={class:"table-responsive signal-table"},mB={class:"table table-hover"},kB={key:0,class:"fa fa-sort-asc"},hB={key:1,class:"fa fa-sort-desc"},gB={key:2,class:"fa fa-sort"},pB={key:0,class:"fa fa-sort-asc"},bB={key:1,class:"fa fa-sort-desc"},fB={key:2,class:"fa fa-sort"},LB={key:0,class:"fa fa-sort-asc"},yB={key:1,class:"fa fa-sort-desc"},vB={key:2,class:"fa fa-sort"},CB={key:0,class:"fa fa-sort-asc"},PB={key:1,class:"fa fa-sort-desc"},EB={key:2,class:"fa fa-sort"},DB={key:0},MB={scope:"row"},wB={class:"btn-group"},FB=["onClick"],XB=["onClick"],xB=["onClick"],TB={key:0},SB={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},BB={class:"mt-2"},AB={key:0,class:"text-muted"},_B={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},jB={class:"pagination mb-0"},VB={key:0,class:"page-item"},IB={key:1,class:"page-item disabled"},NB=["onClick"],UB={key:2,class:"page-item disabled"},RB={key:3,class:"page-item"};function QB(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-document-modal");return(0,n.uX)(),(0,n.CE)("div",HS,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"document-to-edit":i.documentBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["document-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",YS,[e[42]||(e[42]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Dokumen")],-1)),(0,n.Lk)("div",zS,[(0,n.Lk)("div",ZS,[(0,n.Lk)("div",aB,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",eB)):((0,n.uX)(),(0,n.CE)("i",tB)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",sB,[(0,n.Lk)("div",iB,[(0,n.Lk)("div",lB,[e[17]||(e[17]=(0,n.Lk)("label",{for:"filterDocumentName",class:"form-label"},"Nama Dokumen",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterDocumentName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namadokumen=a),placeholder:"filter berdasarkan nama dokumen"},null,512),[[l.Jo,i.filters.namadokumen]])]),(0,n.Lk)("div",nB,[e[19]||(e[19]=(0,n.Lk)("label",{for:"filterDocumentType",class:"form-label"},"Jenis Dokumen",-1)),(0,n.bo)((0,n.Lk)("select",{id:"filterDocumentType",class:"form-select","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.idjenisdokumen=a)},[e[18]||(e[18]=(0,n.Lk)("option",{value:""},"Semua Jenis",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.documentTypes,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idjenisdokumen,value:a.idjenisdokumen},(0,k.v_)(a.namajenisdokumen),9,oB))),128))],512),[[l.u1,i.filters.idjenisdokumen]])]),(0,n.Lk)("div",rB,[e[20]||(e[20]=(0,n.Lk)("label",{for:"filterYear",class:"form-label"},"Tahun Terbit",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",id:"filterYear",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.tahun_terbit=a),placeholder:"Filter berdasarkan tahun terbit"},null,512),[[l.Jo,i.filters.tahun_terbit]])]),(0,n.Lk)("div",cB,[e[21]||(e[21]=(0,n.Lk)("label",{for:"filterVillage",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillage",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",dB,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[6]||(e[6]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",uB,[(0,n.Lk)("table",mB,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[28]||(e[28]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("namadokumen"))},[e[24]||(e[24]=(0,n.eW)(" Nama Dokumen ")),"namadokumen"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",kB)):"namadokumen"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",hB)):((0,n.uX)(),(0,n.CE)("i",gB))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("namajenisdokumen"))},[e[25]||(e[25]=(0,n.eW)(" Jenis Dokumen ")),"namajenisdokumen"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",pB)):"namajenisdokumen"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",bB)):((0,n.uX)(),(0,n.CE)("i",fB))]),(0,n.Lk)("th",{scope:"col",onClick:e[10]||(e[10]=a=>o.sortBy("tahun_terbit"))},[e[26]||(e[26]=(0,n.eW)(" Tahun Terbit ")),"tahun_terbit"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",LB)):"tahun_terbit"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",yB)):((0,n.uX)(),(0,n.CE)("i",vB))]),(0,n.Lk)("th",{scope:"col",onClick:e[11]||(e[11]=a=>o.sortBy("namawilayah"))},[e[27]||(e[27]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",CB)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",PB)):((0,n.uX)(),(0,n.CE)("i",EB))]),e[29]||(e[29]=(0,n.Lk)("th",{scope:"col"},"Deskripsi",-1)),e[30]||(e[30]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",DB,e[31]||(e[31]=[(0,n.Lk)("td",{colspan:"7",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.documents,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.iddokumen},[(0,n.Lk)("th",MB,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namadokumen||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.jenisdokumen?.namajenisdokumen||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.tahun_terbit||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.deskripsi||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",wB,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openFile(a.dokumen),title:"Lihat Dokumen"},e[32]||(e[32]=[(0,n.Lk)("i",{class:"fa fa-file"},null,-1)]),8,FB),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[33]||(e[33]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,XB),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.iddokumen),title:"Hapus Data"},e[34]||(e[34]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,xB)])])]))),128)),0===i.documents.length?((0,n.uX)(),(0,n.CE)("tr",TB,e[35]||(e[35]=[(0,n.Lk)("td",{colspan:"7",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",SB,[(0,n.Lk)("div",BB,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",AB,[e[36]||(e[36]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[37]||(e[37]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[38]||(e[38]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[39]||(e[39]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",_B,[(0,n.Lk)("ul",jB,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",VB,[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",IB,e[40]||(e[40]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,NB)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",UB,e[41]||(e[41]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",RB,[(0,n.Lk)("button",{class:"page-link",onClick:e[14]||(e[14]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[15]||(e[15]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const WB=(a={})=>Mi.get("",{params:{act:"dokumen",...a}}),OB=a=>(a.append("act","dokumen"),Mi.post("",a)),KB=(a,e)=>a?(e.append("act","dokumen"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID dokumen tidak tersedia")),$B=a=>a?Mi.delete("",{data:{act:"dokumen",key:a}}):Promise.reject(new Error("ID dokumen tidak tersedia")),GB={class:"modal-header"},JB={class:"modal-title"},qB={class:"modal-body"},HB={class:"mb-3"},YB=["disabled"],zB={disabled:"",value:""},ZB=["value"],aA={class:"mb-3"},eA={class:"mb-3"},tA=["disabled"],sA={disabled:"",value:""},iA=["value"],lA={class:"mb-3"},nA={class:"mb-3"},oA={key:0,class:"mt-2"},rA=["href"],cA={key:1,class:"mt-2"},dA={class:"mb-3"},uA={key:0,class:"alert alert-danger mt-3"},mA={class:"modal-footer"},kA=["disabled"],hA={key:0,class:"spinner-border spinner-border-sm",role:"status"},gA={key:1};function pA(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[11]||(e[11]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[10]||(e[10]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",GB,[(0,n.Lk)("h5",JB,(0,k.v_)(o.isEditMode?"Edit Data Dokumen":"Tambah Data Dokumen"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",qB,[(0,n.Lk)("form",{onSubmit:e[7]||(e[7]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",HB,[e[12]||(e[12]=(0,n.Lk)("label",{class:"form-label"},"Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.iddesa=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",zB,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,ZB))),128))],8,YB),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",aA,[e[13]||(e[13]=(0,n.Lk)("label",{class:"form-label"},"Nama Dokumen",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.namadokumen=a),required:""},null,512),[[l.Jo,i.formData.namadokumen]])]),(0,n.Lk)("div",eA,[e[14]||(e[14]=(0,n.Lk)("label",{class:"form-label"},"Jenis Dokumen",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.idjenisdokumen=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",sA,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Jenis Dokumen"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.documentTypeList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.idjenisdokumen,value:a.idjenisdokumen},(0,k.v_)(a.namajenisdokumen),9,iA))),128))],8,tA),[[l.u1,i.formData.idjenisdokumen]])]),(0,n.Lk)("div",lA,[e[15]||(e[15]=(0,n.Lk)("label",{class:"form-label"},"Tahun Terbit",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.tahun_terbit=a),placeholder:"YYYY",required:""},null,512),[[l.Jo,i.formData.tahun_terbit]])]),(0,n.Lk)("div",nA,[e[18]||(e[18]=(0,n.Lk)("label",{class:"form-label"},"Upload File",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:".pdf,.doc,.docx,image/*",onChange:e[5]||(e[5]=(...a)=>o.handleFileUpload&&o.handleFileUpload(...a))},null,32),o.isEditMode&&i.formData.dokumen&&!a.selectedFile?((0,n.uX)(),(0,n.CE)("div",oA,[e[16]||(e[16]=(0,n.eW)(" File saat ini: ")),(0,n.Lk)("a",{href:i.formData.dokumen,target:"_blank",rel:"noopener noreferrer"},"Lihat File",8,rA)])):(0,n.Q3)("",!0),a.FileName?((0,n.uX)(),(0,n.CE)("div",cA,[e[17]||(e[17]=(0,n.eW)(" File baru: ")),(0,n.Lk)("strong",null,(0,k.v_)(a.FileName),1)])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",dA,[e[19]||(e[19]=(0,n.Lk)("label",{class:"form-label"},"Deskripsi",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[6]||(e[6]=a=>i.formData.deskripsi=a),placeholder:"Jelaskan tentang dokumen tersebut",required:""},null,512),[[l.Jo,i.formData.deskripsi]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",uA,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",mA,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[8]||(e[8]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[9]||(e[9]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",hA)):((0,n.uX)(),(0,n.CE)("span",gA,"Simpan"))],8,kA)])])])])}const bA={selectedFile:null,FileName:"",namadokumen:"",idjenisdokumen:"",deskripsi:"",tahun_terbit:"",iddesa:"",file:null};var fA={name:"addEditDocumentModal",props:{documentToEdit:{type:Object,default:null}},data(){return{formData:{...bA},documentTypeList:[],desaList:[],isListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.documentToEdit}},watch:{documentToEdit:{handler(a){a?(this.formData.namadokumen=a.namadokumen,this.formData.idjenisdokumen=a.idjenisdokumen,this.formData.deskripsi=a.deskripsi,this.formData.tahun_terbit=a.tahun_terbit,this.formData.iddesa=a.iddesa,this.formData.dokumen=a.dokumen):this.formData={...bA},this.selectedFile=null,this.FileName="",this.errorMessage=null},immediate:!0,deep:!0}},async created(){await this.fetchDesaList(),await this.fetchTypeList()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isListLoading=!1}},async fetchTypeList(){this.isListLoading=!0;try{const a=await BS({limit:-1});this.documentTypeList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar jenis dokumen")}finally{this.isListLoading=!1}},handleFileUpload(a){const e=a.target.files[0];if(!e)return this.selectedFile=null,void(this.FileName="");this.selectedFile=e,this.FileName=e.name},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[namadokumen]",this.formData.namadokumen),a.append("record[idjenisdokumen]",this.formData.idjenisdokumen),a.append("record[deskripsi]",this.formData.deskripsi||""),a.append("record[tahun_terbit]",this.formData.tahun_terbit),a.append("record[iddesa]",this.formData.iddesa),this.selectedFile&&a.append("upload_dokumen",this.selectedFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await KB(this.documentToEdit.iddokumen,a),this.toast.success("Data dokumen berhasil diperbarui")):(e=await OB(a),this.toast.success("Data dokumen berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data dokumen")}finally{this.isLoading=!1}}}};const LA=(0,r.A)(fA,[["render",pA],["__scopeId","data-v-5ba047da"]]);var yA=LA,vA={components:{AddEditDocumentModal:yA},data(){return{documents:[],documentTypes:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,documentBeingEdited:null,isFilterVisible:!1,filters:{namadokumen:"",idjenisdokumen:"",tahun_terbit:"",namawilayah:""}}},computed:{totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchDocuments()},perPage(){this.currentPage=1,this.fetchDocuments()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchDocumentTypesForFilter(),await this.fetchDocuments()},methods:{openAddModal(){this.documentBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.documentBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.documentBeingEdited=null},openFile(a){a?window.open(a,"_blank"):this.toast.info("Tidak ada file dokumen yang tersedia",{icon:"fa fa-info-circle"})},handleSaveSuccessful(){this.closeModal(),this.fetchDocuments()},async fetchDocumentTypesForFilter(){try{const a=await BS({limit:-1});this.documentTypes=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar jenis dokumen untuk filter.")}},async fetchDocuments(){this.isLoading=!0;try{const a={act:"dokumen",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await WB(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.documents=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching documents:",a),this.toast.error("Gagal memuat data dokumen",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Dokumen",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await $B(a),1===this.documents.length&&this.currentPage>1?this.currentPage--:this.fetchDocuments(),this.toast.success("Data dokumen berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data dokumen",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchDocuments()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchDocuments()},resetFilters(){this.filters.namadokumen="",this.filters.idjenisdokumen="",this.filters.tahun_terbit="",this.filters.namawilayah="",this.currentPage=1,this.fetchDocuments()}}};const CA=(0,r.A)(vA,[["render",QB],["__scopeId","data-v-2132ea08"]]);var PA=CA,EA={components:{DocumentTable:PA}};const DA=(0,r.A)(EA,[["render",qS]]);var MA=DA;const wA={class:"container-fluid"},FA={class:"row"};function XA(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("DocumentTypesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Website",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",wA,[(0,n.Lk)("div",FA,[(0,n.bF)(r)])])])}const xA={class:"col-sm-12"},TA={class:"card"},SA={class:"card-body"},BA={class:"d-flex justify-content-end align-items-start mb-3"},AA={class:"d-flex gap-2"},_A={key:0,class:"fa fa-angle-up me-2"},jA={key:1,class:"fa fa-angle-down me-2"},VA={key:0,class:"border p-3 mb-3 rounded filter-section"},IA={class:"row g-3"},NA={class:"col-md-3"},UA={class:"d-flex justify-content-end gap-2 mt-3"},RA={class:"table-responsive signal-table"},QA={class:"table table-hover"},WA={key:0,class:"fa fa-sort-asc"},OA={key:1,class:"fa fa-sort-desc"},KA={key:2,class:"fa fa-sort"},$A={key:0},GA={scope:"row"},JA={class:"btn-group"},qA=["onClick"],HA=["onClick"],YA={key:0},zA={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},ZA={class:"mt-2"},a_={key:0,class:"text-muted"},e_={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},t_={class:"pagination mb-0"},s_={key:0,class:"page-item"},i_={key:1,class:"page-item disabled"},l_=["onClick"],n_={key:2,class:"page-item disabled"},o_={key:3,class:"page-item"};function r_(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-documentType-modal");return(0,n.uX)(),(0,n.CE)("div",xA,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"documentType-to-edit":i.documentTypeBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["documentType-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",TA,[e[27]||(e[27]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Kategori Artikel")],-1)),(0,n.Lk)("div",SA,[(0,n.Lk)("div",BA,[(0,n.Lk)("div",AA,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",_A)):((0,n.uX)(),(0,n.CE)("i",jA)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",VA,[(0,n.Lk)("div",IA,[(0,n.Lk)("div",NA,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterDocumentTypeName",class:"form-label"},"Nama Jenis Dokumen",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterDocumentTypeName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namajenisdokumen=a),placeholder:"Filter berdasarkan nama jenis dokumen"},null,512),[[l.Jo,i.filters.namajenisdokumen]])])]),(0,n.Lk)("div",UA,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",RA,[(0,n.Lk)("table",QA,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namajenisdokumen"))},[e[14]||(e[14]=(0,n.eW)(" Nama Jenis Dokumen ")),"namajenisdokumen"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",WA)):"namajenisdokumen"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",OA)):((0,n.uX)(),(0,n.CE)("i",KA))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",$A,e[17]||(e[17]=[(0,n.Lk)("td",{colspan:"5",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.documentTypes,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idjenisdokumen},[(0,n.Lk)("th",GA,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namajenisdokumen||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",JA,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,qA),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idjenisdokumen),title:"Hapus Data"},e[19]||(e[19]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,HA)])])]))),128)),0===o.paginatedDocumentTypes.length?((0,n.uX)(),(0,n.CE)("tr",YA,e[20]||(e[20]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",zA,[(0,n.Lk)("div",ZA,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",a_,[e[21]||(e[21]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[22]||(e[22]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[23]||(e[23]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[24]||(e[24]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",e_,[(0,n.Lk)("ul",t_,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",s_,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",i_,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,l_)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",n_,e[26]||(e[26]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",o_,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const c_={class:"modal-header"},d_={class:"modal-title"},u_={class:"modal-body"},m_={class:"mb-3"},k_={key:0,class:"alert alert-danger mt-3"},h_={class:"modal-footer"},g_=["disabled"],p_={key:0,class:"spinner-border spinner-border-sm",role:"status"},b_={key:1};function f_(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",c_,[(0,n.Lk)("h5",d_,(0,k.v_)(o.isEditMode?"Edit Data Jenis Dokumen":"Tambah Data Jenis Dokumen"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",u_,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",m_,[e[7]||(e[7]=(0,n.Lk)("label",{class:"form-label"},"Nama Jenis Dokumen",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namajenisdokumen=a),placeholder:"Masukkan nama jenis dokumen",required:""},null,512),[[l.Jo,i.formData.namajenisdokumen]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",k_,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",h_,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",p_)):((0,n.uX)(),(0,n.CE)("span",b_,"Simpan"))],8,g_)])])])])}const L_={namajenisdokumen:""};var y_={name:"addEditArticleCategoryModal",props:{documentTypeToEdit:{type:Object,default:null}},data(){return{formData:{...L_},isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.documentTypeToEdit}},watch:{documentTypeToEdit:{handler(a){a?this.formData.namajenisdokumen=a.namajenisdokumen:this.formData={...L_},this.errorMessage=null},immediate:!0,deep:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[namajenisdokumen]",this.formData.namajenisdokumen);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await _S(this.documentTypeToEdit.idjenisdokumen,a),this.toast.success("Data jenis dokumen berhasil diperbarui")):(e=await AS(a),this.toast.success("Data jenis dokumen berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data jenis dokumen")}finally{this.isLoading=!1}}}};const v_=(0,r.A)(y_,[["render",f_],["__scopeId","data-v-b0442b4c"]]);var C_=v_,P_={components:{AddEditDocumentTypeModal:C_},data(){return{documentTypes:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,documentTypeBeingEdited:null,isFilterVisible:!1,filters:{namajenisdokumen:""}}},computed:{paginatedDocumentTypes(){return this.documentTypes},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchDocumentTypes()},perPage(){this.currentPage=1,this.fetchDocumentTypes()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchDocumentTypes()},methods:{openAddModal(){this.documentTypeBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.documentTypeBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.documentTypeBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchDocumentTypes()},async fetchDocumentTypes(){this.isLoading=!0;try{const a={act:"jenis-dokumen",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await BS(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.documentTypes=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching document types:",a),this.toast.error("Gagal memuat data jenis dokumen",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Jenis Dokumen",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await jS(a),1===this.documentTypes.length&&this.currentPage>1?this.currentPage--:this.fetchDocumentTypes(),this.toast.success("Data jenis dokumen berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data jenis dokumen",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchDocumentTypes()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchDocumentTypes()},resetFilters(){this.filters.namajenisdokumen="",this.currentPage=1,this.fetchDocumentTypes()}}};const E_=(0,r.A)(P_,[["render",r_],["__scopeId","data-v-5c3ae7fa"]]);var D_=E_,M_={components:{DocumentTypesTable:D_}};const w_=(0,r.A)(M_,[["render",XA]]);var F_=w_;const X_={class:"container-fluid"},x_={class:"row"};function T_(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("BannerTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Banner",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",X_,[(0,n.Lk)("div",x_,[(0,n.bF)(r)])])])}const S_={class:"col-sm-12"},B_={class:"image-modal-header"},A_={class:"image-modal-body"},__=["src"],j_={class:"image-modal-footer"},V_={class:"card"},I_={class:"card-body"},N_={class:"d-flex justify-content-end align-items-start mb-3"},U_={class:"d-flex gap-2"},R_={key:0,class:"fa fa-angle-up me-2"},Q_={key:1,class:"fa fa-angle-down me-2"},W_={key:0,class:"border p-3 mb-3 rounded filter-section"},O_={class:"row g-3"},K_={class:"col-md-4"},$_={class:"col-md-4"},G_={class:"d-flex justify-content-end gap-2 mt-3"},J_={class:"table-responsive signal-table"},q_={class:"table table-hover"},H_={key:0,class:"fa fa-sort-asc"},Y_={key:1,class:"fa fa-sort-desc"},z_={key:2,class:"fa fa-sort"},Z_={key:0,class:"fa fa-sort-asc"},aj={key:1,class:"fa fa-sort-desc"},ej={key:2,class:"fa fa-sort"},tj={key:0},sj={scope:"row"},ij=["src","onClick"],lj={key:1,class:"text-muted"},nj={class:"btn-group"},oj=["onClick"],rj=["onClick"],cj={key:0},dj={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},uj={class:"mt-2"},mj={key:0,class:"text-muted"},kj={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},hj={class:"pagination mb-0"},gj={key:0,class:"page-item"},pj={key:1,class:"page-item disabled"},bj=["onClick"],fj={key:2,class:"page-item disabled"},Lj={key:3,class:"page-item"};function yj(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-banner-modal");return(0,n.uX)(),(0,n.CE)("div",S_,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"banner-to-edit":i.bannerBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["banner-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isImageModalVisible?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"image-modal-overlay",onClick:e[7]||(e[7]=(...a)=>o.closeImageModal&&o.closeImageModal(...a))},[(0,n.Lk)("div",{class:"image-modal-content",onClick:e[6]||(e[6]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",B_,[e[20]||(e[20]=(0,n.Lk)("h5",{class:"image-modal-title"},"Pratinjau Gambar",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeImageModal&&o.closeImageModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",A_,[(0,n.Lk)("img",{src:i.selectedImageUrl,style:(0,k.Tr)(o.imageStyle),alt:"Pratinjau Banner",onMousedown:e[1]||(e[1]=(...a)=>o.startDrag&&o.startDrag(...a)),onTouchstart:e[2]||(e[2]=(...a)=>o.startDrag&&o.startDrag(...a)),draggable:"false"},null,44,__)]),(0,n.Lk)("div",j_,[(0,n.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:e[3]||(e[3]=(...a)=>o.zoomOut&&o.zoomOut(...a)),title:"Perkecil"},e[21]||(e[21]=[(0,n.Lk)("i",{class:"fa fa-search-minus"},null,-1)])),(0,n.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:e[4]||(e[4]=(...a)=>o.resetZoom&&o.resetZoom(...a)),title:"Reset Zoom"},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-refresh"},null,-1)])),(0,n.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:e[5]||(e[5]=(...a)=>o.zoomIn&&o.zoomIn(...a)),title:"Perbesar"},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-search-plus"},null,-1)]))])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",V_,[e[44]||(e[44]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Banner")],-1)),(0,n.Lk)("div",I_,[(0,n.Lk)("div",N_,[(0,n.Lk)("div",U_,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[8]||(e[8]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",R_)):((0,n.uX)(),(0,n.CE)("i",Q_)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[9]||(e[9]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[24]||(e[24]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",W_,[(0,n.Lk)("div",O_,[(0,n.Lk)("div",K_,[e[25]||(e[25]=(0,n.Lk)("label",{for:"filterBannerName",class:"form-label"},"Nama Banner",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterBannerName",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=a=>i.filters.namabanner=a),placeholder:"Filter berdasarkan nama banner"},null,512),[[l.Jo,i.filters.namabanner]])]),(0,n.Lk)("div",$_,[e[26]||(e[26]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",G_,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[12]||(e[12]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[27]||(e[27]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[13]||(e[13]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[28]||(e[28]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",J_,[(0,n.Lk)("table",q_,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[31]||(e[31]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[14]||(e[14]=a=>o.sortBy("namabanner"))},[e[29]||(e[29]=(0,n.eW)(" Nama Banner ")),"namabanner"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",H_)):"namabanner"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Y_)):((0,n.uX)(),(0,n.CE)("i",z_))]),e[32]||(e[32]=(0,n.Lk)("th",{scope:"col",style:{width:"200px"}},"Gambar",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[15]||(e[15]=a=>o.sortBy("namawilayah"))},[e[30]||(e[30]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Z_)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",aj)):((0,n.uX)(),(0,n.CE)("i",ej))]),e[33]||(e[33]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",tj,e[34]||(e[34]=[(0,n.Lk)("td",{colspan:"5",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.banner,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idbanner},[(0,n.Lk)("th",sj,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namabanner||"-"),1),(0,n.Lk)("td",null,[a.gambar?((0,n.uX)(),(0,n.CE)("img",{key:0,src:a.gambar,alt:"Gambar",style:{height:"50px",width:"auto",cursor:"pointer"},onClick:e=>o.openImageModal(a.gambar)},null,8,ij)):((0,n.uX)(),(0,n.CE)("span",lj,"-"))]),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah.namawilayah||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",nj,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[35]||(e[35]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,oj),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idbanner),title:"Hapus Data"},e[36]||(e[36]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,rj)])])]))),128)),0===o.paginatedBanner.length?((0,n.uX)(),(0,n.CE)("tr",cj,e[37]||(e[37]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",dj,[(0,n.Lk)("div",uj,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",mj,[e[38]||(e[38]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[39]||(e[39]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[40]||(e[40]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[41]||(e[41]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",kj,[(0,n.Lk)("ul",hj,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[16]||(e[16]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",gj,[(0,n.Lk)("button",{class:"page-link",onClick:e[17]||(e[17]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",pj,e[42]||(e[42]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,bj)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",fj,e[43]||(e[43]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",Lj,[(0,n.Lk)("button",{class:"page-link",onClick:e[18]||(e[18]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[19]||(e[19]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const vj=(a={})=>Mi.get("",{params:{act:"banner",...a}}),Cj=a=>(a.append("act","banner"),Mi.post("",a)),Pj=(a,e)=>a?(e.append("act","banner"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID banner tidak tersedia.")),Ej=a=>a?Mi.delete("",{data:{act:"banner",key:a}}):Promise.reject(new Error("ID banner tidak tersedia.")),Dj={class:"modal-header"},Mj={class:"modal-title"},wj={class:"modal-body"},Fj={class:"mb-3"},Xj={class:"mb-3"},xj=["disabled"],Tj={disabled:"",value:""},Sj=["value"],Bj={class:"mb-3"},Aj={class:"mt-2"},_j={key:0},jj=["src"],Vj={key:1},Ij=["src"],Nj={key:0,class:"alert alert-danger mt-3"},Uj={class:"modal-footer"},Rj=["disabled"],Qj={key:0,class:"spinner-border spinner-border-sm",role:"status"},Wj={key:1};function Oj(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[8]||(e[8]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[7]||(e[7]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Dj,[(0,n.Lk)("h5",Mj,(0,k.v_)(o.isEditMode?"Edit Data Banner":"Tambah Data Banner"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",wj,[(0,n.Lk)("form",{onSubmit:e[4]||(e[4]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Fj,[e[9]||(e[9]=(0,n.Lk)("label",{class:"form-label"},"Nama Banner",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namabanner=a),placeholder:"Masukkan nama banner",required:""},null,512),[[l.Jo,i.formData.namabanner]])]),(0,n.Lk)("div",Xj,[e[10]||(e[10]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.iddesa=a),required:"",disabled:i.isListLoading},[(0,n.Lk)("option",Tj,(0,k.v_)(i.isListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,Sj))),128))],8,xj),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",Bj,[e[11]||(e[11]=(0,n.Lk)("label",{class:"form-label"},"Upload Gambar",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[3]||(e[3]=(...a)=>o.handleGambarUpload&&o.handleGambarUpload(...a))},null,32),(0,n.Lk)("div",Aj,[i.gambarPreviewUrl?((0,n.uX)(),(0,n.CE)("div",_j,[(0,n.Lk)("img",{src:i.gambarPreviewUrl,alt:"Preview Gambar",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,jj)])):o.isEditMode&&i.formData.gambar?((0,n.uX)(),(0,n.CE)("div",Vj,[(0,n.Lk)("img",{src:i.formData.gambar,alt:"Gambar Saat Ini",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,Ij)])):(0,n.Q3)("",!0)])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Nj,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Uj,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[5]||(e[5]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[6]||(e[6]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Qj)):((0,n.uX)(),(0,n.CE)("span",Wj,"Simpan"))],8,Rj)])])])])}const Kj={iddesa:"",namabanner:"",gambar:null};var $j={name:"addEditBannerModal",props:{bannerToEdit:{type:Object,default:null}},data(){return{formData:{...Kj},selectedGambarFile:null,gambarPreviewUrl:null,desaList:[],isListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.bannerToEdit}},watch:{bannerToEdit:{handler(a){a?(this.formData.iddesa=a.iddesa,this.formData.namabanner=a.namabanner):this.formData={...Kj},this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList()},beforeUnmount(){this.gambarPreviewUrl&&URL.revokeObjectURL(this.gambarPreviewUrl)},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isListLoading=!1}},handleGambarUpload(a){const e=a.target.files[0];if(this.gambarPreviewUrl&&URL.revokeObjectURL(this.gambarPreviewUrl),!e)return this.selectedGambarFile=null,void(this.gambarPreviewUrl=null);this.selectedGambarFile=e,this.gambarPreviewUrl=URL.createObjectURL(e)},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[namabanner]",this.formData.namabanner),a.append("record[iddesa]",this.formData.iddesa),this.selectedGambarFile&&a.append("upload_gambar",this.selectedGambarFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await Pj(this.bannerToEdit.idbanner,a),this.toast.success("Data banner berhasil diperbarui")):(e=await Cj(a),this.toast.success("Data banner berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data banner")}finally{this.isLoading=!1}}}};const Gj=(0,r.A)($j,[["render",Oj],["__scopeId","data-v-24576808"]]);var Jj=Gj,qj={components:{AddEditBannerModal:Jj},data(){return{banner:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,bannerBeingEdited:null,isFilterVisible:!1,filters:{namabanner:"",namawilayah:""},isImageModalVisible:!1,selectedImageUrl:"",imageZoomLevel:1,isDragging:!1,startX:0,startY:0,translateX:0,translateY:0}},computed:{paginatedBanner(){return this.banner},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a},imageStyle(){return{transform:`scale(${this.imageZoomLevel}) translate(${this.translateX}px, ${this.translateY}px)`,transition:this.isDragging?"none":"transform 0.2s ease-in-out",maxWidth:"100%",maxHeight:"100%",cursor:this.isDragging?"grabbing":"grab"}}},watch:{currentPage(){this.fetchBanner()},perPage(){this.currentPage=1,this.fetchBanner()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchBanner()},methods:{openAddModal(){this.bannerBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.bannerBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.bannerBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchBanner()},openImageModal(a){this.selectedImageUrl=a,this.isImageModalVisible=!0},closeImageModal(){this.isImageModalVisible=!1,this.resetZoom(),this.selectedImageUrl=""},zoomIn(){this.imageZoomLevel+=.1},zoomOut(){this.imageZoomLevel>.2&&(this.imageZoomLevel-=.1)},resetZoom(){this.imageZoomLevel=1,this.translateX=0,this.translateY=0},startDrag(a){a.preventDefault(),this.isDragging=!0;const e="touchstart"===a.type?a.touches[0].clientX:a.clientX,t="touchstart"===a.type?a.touches[0].clientY:a.clientY;this.startX=e-this.translateX,this.startY=t-this.translateY,window.addEventListener("mousemove",this.onDrag),window.addEventListener("mouseup",this.stopDrag),window.addEventListener("touchmove",this.onDrag,{passive:!1}),window.addEventListener("touchend",this.stopDrag)},onDrag(a){if(!this.isDragging)return;"touchmove"===a.type&&a.preventDefault();const e="touchmove"===a.type?a.touches[0].clientX:a.clientX,t="touchmove"===a.type?a.touches[0].clientY:a.clientY;this.translateX=e-this.startX,this.translateY=t-this.startY},stopDrag(){this.isDragging=!1,window.removeEventListener("mousemove",this.onDrag),window.removeEventListener("mouseup",this.stopDrag),window.removeEventListener("touchmove",this.onDrag),window.removeEventListener("touchend",this.stopDrag)},async fetchBanner(){this.isLoading=!0;try{const a={act:"banner",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await vj(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.banner=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching banner:",a),this.toast.error("Gagal memuat data banner",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Banner",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Ej(a),1===this.banner.length&&this.currentPage>1?this.currentPage--:this.fetchBanner(),this.toast.success("Data banner berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data banner",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchBanner()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchBanner()},resetFilters(){this.filters.namabanner="",this.filters.namawilayah="",this.sortColumn="created_at",this.sortDirection="desc",this.currentPage=1,this.fetchBanner()}}};const Hj=(0,r.A)(qj,[["render",yj],["__scopeId","data-v-629d7b68"]]);var Yj=Hj,zj={components:{BannerTable:Yj}};const Zj=(0,r.A)(zj,[["render",T_]]);var aV=Zj;const eV={class:"container-fluid"},tV={class:"row"};function sV(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ServicesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",eV,[(0,n.Lk)("div",tV,[(0,n.bF)(r)])])])}const iV={class:"col-sm-12"},lV={class:"card"},nV={class:"card-body"},oV={class:"d-flex justify-content-end align-items-start mb-3"},rV={class:"d-flex gap-2"},cV={key:0,class:"fa fa-angle-up me-2"},dV={key:1,class:"fa fa-angle-down me-2"},uV={key:0,class:"border p-3 mb-3 rounded filter-section"},mV={class:"row g-3"},kV={class:"col-md-3"},hV={class:"col-md-3"},gV={class:"d-flex justify-content-end gap-2 mt-3"},pV={class:"table-responsive signal-table"},bV={class:"table table-hover"},fV={key:0,class:"fa fa-sort-asc"},LV={key:1,class:"fa fa-sort-desc"},yV={key:2,class:"fa fa-sort"},vV={key:0,class:"fa fa-sort-asc"},CV={key:1,class:"fa fa-sort-desc"},PV={key:2,class:"fa fa-sort"},EV={key:0},DV={scope:"row"},MV={class:"btn-group"},wV=["onClick"],FV=["onClick"],XV=["onClick"],xV={key:0},TV={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},SV={class:"mt-2"},BV={key:0,class:"text-muted"},AV={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},_V={class:"pagination mb-0"},jV={key:0,class:"page-item"},VV={key:1,class:"page-item disabled"},IV=["onClick"],NV={key:2,class:"page-item disabled"},UV={key:3,class:"page-item"};function RV(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-service-modal"),c=(0,n.g2)("detail-service-modal");return(0,n.uX)(),(0,n.CE)("div",iV,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"service-to-edit":i.serviceBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["service-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isDetailModalVisible?((0,n.uX)(),(0,n.Wv)(c,{key:1,"service-to-view":i.serviceBeingViewed,onClose:o.closeDetailModal},null,8,["service-to-view","onClose"])):(0,n.Q3)("",!0),(0,n.Lk)("div",lV,[e[32]||(e[32]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Layanan")],-1)),(0,n.Lk)("div",nV,[(0,n.Lk)("div",oV,[(0,n.Lk)("div",rV,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",cV)):((0,n.uX)(),(0,n.CE)("i",dV)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",uV,[(0,n.Lk)("div",mV,[(0,n.Lk)("div",kV,[e[13]||(e[13]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Layanan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namalayanan=a),placeholder:"Filter berdasarkan nama layanan"},null,512),[[l.Jo,i.filters.namalayanan]])]),(0,n.Lk)("div",hV,[e[14]||(e[14]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",gV,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[15]||(e[15]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",pV,[(0,n.Lk)("table",bV,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[19]||(e[19]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[6]||(e[6]=a=>o.sortBy("namalayanan"))},[e[17]||(e[17]=(0,n.eW)(" Nama Layanan ")),"namalayanan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",fV)):"namalayanan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",LV)):((0,n.uX)(),(0,n.CE)("i",yV))]),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("namawilayah"))},[e[18]||(e[18]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",vV)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",CV)):((0,n.uX)(),(0,n.CE)("i",PV))]),e[20]||(e[20]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",EV,e[21]||(e[21]=[(0,n.Lk)("td",{colspan:"7",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedServices,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idusaha},[(0,n.Lk)("th",DV,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namalayanan||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",MV,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openDetailModal(a)},e[22]||(e[22]=[(0,n.Lk)("i",{class:"fa fa-eye"},null,-1)]),8,wV),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[23]||(e[23]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,FV),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idusaha),title:"Hapus Data"},e[24]||(e[24]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,XV)])])]))),128)),0===o.paginatedServices.length?((0,n.uX)(),(0,n.CE)("tr",xV,e[25]||(e[25]=[(0,n.Lk)("td",{colspan:"7",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",TV,[(0,n.Lk)("div",SV,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",BV,[e[26]||(e[26]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[27]||(e[27]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[28]||(e[28]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[29]||(e[29]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",AV,[(0,n.Lk)("ul",_V,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",jV,[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",VV,e[30]||(e[30]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,IV)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",NV,e[31]||(e[31]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",UV,[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const QV=(a={})=>Mi.get("",{params:{act:"layanan",...a}}),WV=a=>a?Mi.get("",{params:{act:"layanan",key:a}}):Promise.reject(new Error("ID layanan tidak tersedia.")),OV=a=>(a.append("act","layanan"),Mi.post("",a)),KV=(a,e)=>a?(e.append("act","layanan"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID layanan tidak tersedia.")),$V=a=>a?Mi.delete("",{data:{act:"layanan",key:a}}):Promise.reject(new Error("ID layanan tidak tersedia.")),GV={class:"modal-header"},JV={class:"modal-title"},qV={class:"modal-body"},HV={class:"mb-3"},YV={class:"mb-3"},zV=["disabled"],ZV={disabled:"",value:""},aI=["value"],eI={class:"mb-3"},tI={class:"mb-3"},sI={key:0,class:"alert alert-danger mt-3"},iI={class:"modal-footer"},lI=["disabled"],nI={key:0,class:"spinner-border spinner-border-sm",role:"status"},oI={key:1};function rI(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[9]||(e[9]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[8]||(e[8]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",GV,[(0,n.Lk)("h5",JV,(0,k.v_)(o.isEditMode?"Edit Data Layanan":"Tambah Data Layanan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",qV,[(0,n.Lk)("form",{onSubmit:e[5]||(e[5]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",HV,[e[10]||(e[10]=(0,n.Lk)("label",{class:"form-label"},"Nama Layanan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namalayanan=a),placeholder:"Masukkan nama layanan",required:""},null,512),[[l.Jo,i.formData.namalayanan]])]),(0,n.Lk)("div",YV,[e[11]||(e[11]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.iddesa=a),required:"",disabled:i.isDesaListLoading},[(0,n.Lk)("option",ZV,(0,k.v_)(i.isDesaListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,aI))),128))],8,zV),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",eI,[e[12]||(e[12]=(0,n.Lk)("label",{class:"form-label"},"Persyaratan",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.persyaratan=a),placeholder:"Masukkan persyaratan layanan",rows:"4",required:""},null,512),[[l.Jo,i.formData.persyaratan]])]),(0,n.Lk)("div",tI,[e[13]||(e[13]=(0,n.Lk)("label",{class:"form-label"},"Tahapan",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.formData.tahapan=a),placeholder:"Masukkan tahapan layanan",rows:"4",required:""},null,512),[[l.Jo,i.formData.tahapan]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",sI,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",iI,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[6]||(e[6]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",nI)):((0,n.uX)(),(0,n.CE)("span",oI,"Simpan"))],8,lI)])])])])}const cI={iddesa:"",namalayanan:"",persyaratan:"",tahapan:""};var dI={name:"addEditServiceModal",props:{serviceToEdit:{type:Object,default:null}},data(){return{formData:{...cI},desaList:[],isDesaListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.serviceToEdit}},watch:{serviceToEdit:{handler(a){a?(this.formData.iddesa=a.iddesa,this.formData.judul=a.judul,this.formData.konten=a.konten,this.formData.gambar=a.gambar):this.formData={...cI},this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList()},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isDesaListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isDesaListLoading=!1}},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[iddesa]",this.formData.iddesa),a.append("record[namalayanan]",this.formData.namalayanan),a.append("record[persyaratan]",this.formData.persyaratan),a.append("record[tahapan]",this.formData.tahapan);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await KV(this.serviceToEdit.idlayanan,a),this.toast.success("Data layanan berhasil diperbarui")):(e=await OV(a),this.toast.success("Data layanan berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data layanan")}finally{this.isLoading=!1}}}};const uI=(0,r.A)(dI,[["render",rI],["__scopeId","data-v-69bcb21e"]]);var mI=uI;const kI={class:"modal-header"},hI={class:"modal-body"},gI={key:0,class:"text-center p-5"},pI={key:1,class:"text-center p-5 text-danger"},bI={key:0,class:"text-muted"},fI={key:2,class:"profile-container"},LI={class:"text-center mb-4"},yI={class:"profile-title mt-3"},vI={class:"profile-subtitle"},CI={class:"detail-section"},PI={class:"detail-section"},EI={class:"text-content"},DI={class:"detail-section"},MI={class:"text-content"},wI={class:"modal-footer"};function FI(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[2]||(e[2]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",kI,[e[4]||(e[4]=(0,n.Lk)("h5",{class:"modal-title"},"Detail Layanan",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",hI,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",gI,e[5]||(e[5]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...",-1)]))):i.error?((0,n.uX)(),(0,n.CE)("div",pI,[e[6]||(e[6]=(0,n.Lk)("i",{class:"fa fa-exclamation-triangle fa-3x mb-3"},null,-1)),e[7]||(e[7]=(0,n.Lk)("h4",null,"Terjadi Kesalahan",-1)),(0,n.Lk)("p",null,(0,k.v_)(i.error),1),i.debugMessage?((0,n.uX)(),(0,n.CE)("small",bI,"Detail: "+(0,k.v_)(i.debugMessage),1)):(0,n.Q3)("",!0)])):i.profile?((0,n.uX)(),(0,n.CE)("div",fI,[(0,n.Lk)("div",LI,[(0,n.Lk)("h2",yI,(0,k.v_)(i.profile.namalayanan||"Judul Belum Tersedia"),1),(0,n.Lk)("p",vI,[e[8]||(e[8]=(0,n.Lk)("i",{class:"fa fa-map-marker me-2"},null,-1)),(0,n.eW)(" "+(0,k.v_)(i.profile.wilayah?.namawilayah||"Lokasi tidak diketahui"),1)])]),e[12]||(e[12]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",CI,[e[9]||(e[9]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-calendar me-2"}),(0,n.eW)("Diterbitkan pada")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.profile.created_at?new Date(i.profile.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-"),1)]),e[13]||(e[13]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",PI,[e[10]||(e[10]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-file-text-o me-2"}),(0,n.eW)("Persyaratan")],-1)),(0,n.Lk)("p",EI,(0,k.v_)(i.profile.persyaratan||"Belum ada persyaratan yang ditentukan."),1)]),e[14]||(e[14]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",DI,[e[11]||(e[11]=(0,n.Lk)("h4",null,[(0,n.Lk)("i",{class:"fa fa-list-ol me-2"}),(0,n.eW)("Tahapan")],-1)),(0,n.Lk)("p",MI,(0,k.v_)(i.profile.tahapan||"Belum ada tahapan yang ditentukan."),1)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wI,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...a)=>o.closeModal&&o.closeModal(...a))},"Tutup")])])])}var XI={name:"DetailServiceModal",props:{serviceToView:{type:Object,required:!0}},emits:["close"],data(){return{profile:null,isLoading:!1,error:null,debugMessage:""}},methods:{closeModal(){this.$emit("close")},async fetchServiceDetail(){const a=this.serviceToView?.idlayanan;if(a){this.isLoading=!0,this.error=null,this.debugMessage="";try{const e=await WV(a),t=e.data;Array.isArray(t)&&t.length>0&&t[0].data&&Array.isArray(t[0].data)&&t[0].data.length>0?this.profile=t[0].data[0]:(this.error="Data layanan tidak ditemukan atau format respons tidak sesuai.",this.debugMessage=`Struktur data yang diterima: ${JSON.stringify(t)}`)}catch(e){console.error("Gagal mengambil detail layanan:",e),this.error=e.message||"Terjadi kesalahan saat memuat data.",e.response&&(this.debugMessage=`Status: ${e.response.status} - Data: ${JSON.stringify(e.response.data)}`)}finally{this.isLoading=!1}}else this.error="ID layanan tidak valid atau tidak tersedia."}},mounted(){this.fetchServiceDetail()},watch:{serviceToView:{handler(a,e){a?.idlayanan!==e?.idlayanan&&this.fetchServiceDetail()},deep:!0}}};const xI=(0,r.A)(XI,[["render",FI],["__scopeId","data-v-492c516e"]]);var TI=xI,SI={components:{AddEditServiceModal:mI,DetailServiceModal:TI},data(){return{services:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,serviceBeingEdited:null,isFilterVisible:!1,filters:{namalayanan:"",namawilayah:""},isDetailModalVisible:!1,serviceBeingViewed:null}},computed:{paginatedServices(){return this.services},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchServices()},perPage(){this.currentPage=1,this.fetchServices()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchServices()},methods:{openAddModal(){this.serviceBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.serviceBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.serviceBeingEdited=null},openDetailModal(a){this.serviceBeingViewed={...a},this.isDetailModalVisible=!0},closeDetailModal(){this.isDetailModalVisible=!1,this.serviceBeingViewed=null},handleSaveSuccessful(){this.closeModal(),this.fetchServices()},async fetchServices(){this.isLoading=!0;try{const a={act:"layanan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);a.filter=e.length>0?e.join(","):"";const t=await QV(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.services=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching services:",a),this.toast.error("Gagal memuat data layanan",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Layanan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await $V(a),1===this.services.length&&this.currentPage>1?this.currentPage--:this.fetchServices(),this.toast.success("Data layanan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data layanan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchServices()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchServices()},resetFilters(){this.filters.judul="",this.filters.namawilayah="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchServices()}}};const BI=(0,r.A)(SI,[["render",RV],["__scopeId","data-v-ad218816"]]);var AI=BI,_I={components:{ServicesTable:AI}};const jI=(0,r.A)(_I,[["render",sV]]);var VI=jI;const II={class:"container-fluid"},NI={class:"row"};function UI(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("NoticesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",II,[(0,n.Lk)("div",NI,[(0,n.bF)(r)])])])}const RI={class:"col-sm-12"},QI={class:"card"},WI={class:"card-body"},OI={class:"d-flex justify-content-end align-items-start mb-3"},KI={class:"d-flex gap-2"},$I={key:0,class:"fa fa-angle-up me-2"},GI={key:1,class:"fa fa-angle-down me-2"},JI={key:0,class:"border p-3 mb-3 rounded filter-section"},qI={class:"row g-3"},HI={class:"col-md-3"},YI={class:"col-md-3"},zI={class:"col-md-3"},ZI={class:"d-flex justify-content-end gap-2 mt-3"},aN={class:"table-responsive signal-table"},eN={class:"table table-hover"},tN={key:0,class:"fa fa-sort-asc"},sN={key:1,class:"fa fa-sort-desc"},iN={key:2,class:"fa fa-sort"},lN={key:0,class:"fa fa-sort-asc"},nN={key:1,class:"fa fa-sort-desc"},oN={key:2,class:"fa fa-sort"},rN={key:0,class:"fa fa-sort-asc"},cN={key:1,class:"fa fa-sort-desc"},dN={key:2,class:"fa fa-sort"},uN={key:0},mN={scope:"row"},kN={class:"btn-group"},hN=["onClick"],gN=["onClick"],pN=["onClick"],bN={key:0},fN={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},LN={class:"mt-2"},yN={key:0,class:"text-muted"},vN={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},CN={class:"pagination mb-0"},PN={key:0,class:"page-item"},EN={key:1,class:"page-item disabled"},DN=["onClick"],MN={key:2,class:"page-item disabled"},wN={key:3,class:"page-item"};function FN(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-notice-modal"),c=(0,n.g2)("detail-notice-modal");return(0,n.uX)(),(0,n.CE)("div",RI,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"notice-to-edit":i.noticeBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["notice-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),i.isDetailModalVisible?((0,n.uX)(),(0,n.Wv)(c,{key:1,"notice-to-view":i.noticeBeingViewed,onClose:o.closeDetailModal},null,8,["notice-to-view","onClose"])):(0,n.Q3)("",!0),(0,n.Lk)("div",QI,[e[36]||(e[36]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Pengumuman")],-1)),(0,n.Lk)("div",WI,[(0,n.Lk)("div",OI,[(0,n.Lk)("div",KI,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",$I)):((0,n.uX)(),(0,n.CE)("i",GI)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[14]||(e[14]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",JI,[(0,n.Lk)("div",qI,[(0,n.Lk)("div",HI,[e[15]||(e[15]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Judul",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.judul=a),placeholder:"Filter berdasarkan judul"},null,512),[[l.Jo,i.filters.judul]])]),(0,n.Lk)("div",YI,[e[16]||(e[16]=(0,n.Lk)("label",{for:"filterAddress",class:"form-label"},"Konten",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterAddress",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.konten=a),placeholder:"Filter berdasarkan konten"},null,512),[[l.Jo,i.filters.konten]])]),(0,n.Lk)("div",zI,[e[17]||(e[17]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",ZI,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[5]||(e[5]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[6]||(e[6]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[19]||(e[19]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",aN,[(0,n.Lk)("table",eN,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[23]||(e[23]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("judul"))},[e[20]||(e[20]=(0,n.eW)(" Judul ")),"judul"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",tN)):"judul"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",sN)):((0,n.uX)(),(0,n.CE)("i",iN))]),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("konten"))},[e[21]||(e[21]=(0,n.eW)(" Konten ")),"konten"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",lN)):"konten"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",nN)):((0,n.uX)(),(0,n.CE)("i",oN))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("namawilayah"))},[e[22]||(e[22]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",rN)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",cN)):((0,n.uX)(),(0,n.CE)("i",dN))]),e[24]||(e[24]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",uN,e[25]||(e[25]=[(0,n.Lk)("td",{colspan:"7",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedNotices,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idusaha},[(0,n.Lk)("th",mN,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.judul||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.konten||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",kN,[(0,n.Lk)("button",{class:"btn btn-info btn-sm",onClick:e=>o.openDetailModal(a)},e[26]||(e[26]=[(0,n.Lk)("i",{class:"fa fa-eye"},null,-1)]),8,hN),(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[27]||(e[27]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,gN),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idusaha),title:"Hapus Data"},e[28]||(e[28]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,pN)])])]))),128)),0===o.paginatedNotices.length?((0,n.uX)(),(0,n.CE)("tr",bN,e[29]||(e[29]=[(0,n.Lk)("td",{colspan:"7",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",fN,[(0,n.Lk)("div",LN,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",yN,[e[30]||(e[30]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[31]||(e[31]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[32]||(e[32]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[33]||(e[33]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",vN,[(0,n.Lk)("ul",CN,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",PN,[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",EN,e[34]||(e[34]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,DN)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",MN,e[35]||(e[35]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",wN,[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const XN=(a={})=>Mi.get("",{params:{act:"pengumuman",...a}}),xN=a=>a?Mi.get("",{params:{act:"pengumuman",key:a}}):Promise.reject(new Error("ID pengumuman tidak tersedia.")),TN=a=>(a.append("act","pengumuman"),Mi.post("",a)),SN=(a,e)=>a?(e.append("act","pengumuman"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID pengumuman tidak tersedia.")),BN=a=>a?Mi.delete("",{data:{act:"pengumuman",key:a}}):Promise.reject(new Error("ID pengumuman tidak tersedia.")),AN={class:"modal-header"},_N={class:"modal-title"},jN={class:"modal-body"},VN={class:"mb-3"},IN=["disabled"],NN={disabled:"",value:""},UN=["value"],RN={class:"mb-3"},QN={class:"mb-3"},WN={class:"mb-3"},ON={class:"mt-2"},KN={key:0},$N=["src"],GN={key:1},JN=["src"],qN={key:0,class:"alert alert-danger mt-3"},HN={class:"modal-footer"},YN=["disabled"],zN={key:0,class:"spinner-border spinner-border-sm",role:"status"},ZN={key:1};function aU(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[9]||(e[9]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[8]||(e[8]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",AN,[(0,n.Lk)("h5",_N,(0,k.v_)(o.isEditMode?"Edit Data Pengumuman":"Tambah Data Pengumuman"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",jN,[(0,n.Lk)("form",{onSubmit:e[5]||(e[5]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",VN,[e[10]||(e[10]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.iddesa=a),required:"",disabled:i.isDesaListLoading},[(0,n.Lk)("option",NN,(0,k.v_)(i.isDesaListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,UN))),128))],8,IN),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",RN,[e[11]||(e[11]=(0,n.Lk)("label",{class:"form-label"},"Judul",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.judul=a),placeholder:"Masukkan judul",required:""},null,512),[[l.Jo,i.formData.judul]])]),(0,n.Lk)("div",QN,[e[12]||(e[12]=(0,n.Lk)("label",{class:"form-label"},"Konten",-1)),(0,n.bo)((0,n.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.konten=a),placeholder:"Masukkan isi konten",rows:"3",required:""},null,512),[[l.Jo,i.formData.konten]])]),(0,n.Lk)("div",WN,[e[13]||(e[13]=(0,n.Lk)("label",{class:"form-label"},"Upload Gambar",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[4]||(e[4]=(...a)=>o.handleGambarUpload&&o.handleGambarUpload(...a))},null,32),(0,n.Lk)("div",ON,[i.gambarPreviewUrl?((0,n.uX)(),(0,n.CE)("div",KN,[(0,n.Lk)("img",{src:i.gambarPreviewUrl,alt:"Preview Logo",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,$N)])):o.isEditMode&&i.formData.gambar?((0,n.uX)(),(0,n.CE)("div",GN,[(0,n.Lk)("img",{src:i.formData.gambar,alt:"Logo Saat Ini",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,JN)])):(0,n.Q3)("",!0)])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",qN,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",HN,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[6]||(e[6]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",zN)):((0,n.uX)(),(0,n.CE)("span",ZN,"Simpan"))],8,YN)])])])])}const eU={iddesa:"",judul:"",konten:"",gambar:null};var tU={name:"addEditNoticeModal",props:{noticeToEdit:{type:Object,default:null}},data(){return{formData:{...eU},selectedGambarFile:null,gambarPreviewUrl:null,desaList:[],isDesaListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.noticeToEdit}},watch:{noticeToEdit:{handler(a){a?(this.formData.iddesa=a.iddesa,this.formData.judul=a.judul,this.formData.konten=a.konten,this.formData.gambar=a.gambar):this.formData={...eU},this.selectedGambarFile=null,this.gambarPreviewUrl=null,this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList()},beforeUnmount(){this.gambarPreviewUrl&&URL.revokeObjectURL(this.gambarPreviewUrl)},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isDesaListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa.")}finally{this.isDesaListLoading=!1}},handleGambarUpload(a){const e=a.target.files[0];if(this.gambarPreviewUrl&&URL.revokeObjectURL(this.gambarPreviewUrl),!e)return this.selectedGambarFile=null,void(this.gambarPreviewUrl=null);this.selectedGambarFile=e,this.gambarPreviewUrl=URL.createObjectURL(e)},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[iddesa]",this.formData.iddesa),a.append("record[judul]",this.formData.judul),a.append("record[konten]",this.formData.konten),this.selectedGambarFile&&a.append("upload_gambar",this.selectedGambarFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await SN(this.noticeToEdit.idpengumuman,a),this.toast.success("Data pengumuman berhasil diperbarui")):(e=await TN(a),this.toast.success("Data pengumuman berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data pengumuman")}finally{this.isLoading=!1}}}};const sU=(0,r.A)(tU,[["render",aU],["__scopeId","data-v-428c2368"]]);var iU=sU;const lU={class:"modal-header"},nU={class:"modal-body"},oU={key:0,class:"text-center p-5"},rU={key:1,class:"text-center p-5 text-danger"},cU={key:0,class:"text-muted"},dU={key:2,class:"profile-container"},uU={class:"text-center mb-4"},mU=["src"],kU={key:1,src:"https://placehold.co/400x200/EBF4FF/7F9CF5?text=Gambar",alt:"Gambar Default",class:"featured-image"},hU={class:"profile-title mt-3"},gU={class:"profile-subtitle"},pU={class:"detail-section"},bU={class:"detail-section"},fU={class:"text-content"},LU={class:"modal-footer"};function yU(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[2]||(e[2]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",lU,[e[4]||(e[4]=(0,n.Lk)("h5",{class:"modal-title"},"Detail Pengumuman",-1)),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",nU,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",oU,e[5]||(e[5]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...",-1)]))):i.error?((0,n.uX)(),(0,n.CE)("div",rU,[e[6]||(e[6]=(0,n.Lk)("i",{class:"fa fa-exclamation-triangle fa-3x mb-3"},null,-1)),e[7]||(e[7]=(0,n.Lk)("h4",null,"Terjadi Kesalahan",-1)),(0,n.Lk)("p",null,(0,k.v_)(i.error),1),i.debugMessage?((0,n.uX)(),(0,n.CE)("small",cU,"Detail: "+(0,k.v_)(i.debugMessage),1)):(0,n.Q3)("",!0)])):i.profile?((0,n.uX)(),(0,n.CE)("div",dU,[(0,n.Lk)("div",uU,[i.profile.gambar?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.profile.gambar,alt:"Gambar Pengumuman",class:"featured-image",onerror:"this.src='https://placehold.co/400x200/EBF4FF/7F9CF5?text=Gambar'"},null,8,mU)):((0,n.uX)(),(0,n.CE)("img",kU)),(0,n.Lk)("h2",hU,(0,k.v_)(i.profile.judul||"Judul Belum Tersedia"),1),(0,n.Lk)("p",gU,[e[8]||(e[8]=(0,n.Lk)("i",{class:"fa fa-map-marker me-2"},null,-1)),(0,n.eW)(" "+(0,k.v_)(i.profile.wilayah?.namawilayah||"Lokasi tidak diketahui"),1)])]),e[11]||(e[11]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",pU,[e[9]||(e[9]=(0,n.Lk)("h5",null,[(0,n.Lk)("i",{class:"fa fa-calendar me-2"}),(0,n.eW)("Diterbitkan pada")],-1)),(0,n.Lk)("p",null,(0,k.v_)(i.profile.created_at?new Date(i.profile.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-"),1)]),e[12]||(e[12]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",bU,[e[10]||(e[10]=(0,n.Lk)("h4",null,"Isi Pengumuman",-1)),(0,n.Lk)("p",fU,(0,k.v_)(i.profile.konten||"Tidak ada konten untuk ditampilkan."),1)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",LU,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...a)=>o.closeModal&&o.closeModal(...a))},"Tutup")])])])}var vU={name:"DetailNoticeModal",props:{noticeToView:{type:Object,required:!0}},emits:["close"],data(){return{profile:null,isLoading:!1,error:null,debugMessage:""}},methods:{closeModal(){this.$emit("close")},async fetchNoticeDetail(){const a=this.noticeToView?.idpengumuman;if(a){this.isLoading=!0,this.error=null,this.debugMessage="";try{const e=await xN(a),t=e.data;Array.isArray(t)&&t.length>0&&t[0]&&Array.isArray(t[0].data)&&t[0].data.length>0?this.profile=t[0].data[0]:(this.error="Data pengumuman tidak ditemukan atau format respons tidak sesuai.",this.debugMessage=`Struktur data yang diterima: ${JSON.stringify(t)}`)}catch(e){console.error("Gagal mengambil detail pengumuman:",e),this.error=e.message||"Terjadi kesalahan saat memuat data.",e.response&&(this.debugMessage=`Status: ${e.response.status} - Data: ${JSON.stringify(e.response.data)}`)}finally{this.isLoading=!1}}else this.error="ID pengumuman tidak valid atau tidak tersedia."}},mounted(){this.fetchNoticeDetail()},watch:{noticeToView:{handler(a,e){a?.idpengumuman!==e?.idpengumuman&&this.fetchNoticeDetail()},deep:!0}}};const CU=(0,r.A)(vU,[["render",yU],["__scopeId","data-v-fab7f0b8"]]);var PU=CU,EU={components:{AddEditNoticeModal:iU,DetailNoticeModal:PU},data(){return{notices:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,noticeBeingEdited:null,isFilterVisible:!1,filters:{judul:"",konten:"",namawilayah:""},isDetailModalVisible:!1,noticeBeingViewed:null}},computed:{paginatedNotices(){return this.notices},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchNotices()},perPage(){this.currentPage=1,this.fetchNotices()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchNotices()},methods:{openAddModal(){this.noticeBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.noticeBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.noticeBeingEdited=null},openDetailModal(a){this.noticeBeingViewed={...a},this.isDetailModalVisible=!0},closeDetailModal(){this.isDetailModalVisible=!1,this.noticeBeingViewed=null},handleSaveSuccessful(){this.closeModal(),this.fetchNotices()},async fetchNotices(){this.isLoading=!0;try{const a={act:"pengumuman",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);a.filter=e.length>0?e.join(","):"";const t=await XN(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.notices=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching notices:",a),this.toast.error("Gagal memuat data pengumuman",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Pengumuman",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await BN(a),1===this.notices.length&&this.currentPage>1?this.currentPage--:this.fetchNotices(),this.toast.success("Data pengumuman berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data pengumuman",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchNotices()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchNotices()},resetFilters(){this.filters.judul="",this.filters.konten="",this.filters.namawilayah="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchNotices()}}};const DU=(0,r.A)(EU,[["render",FN],["__scopeId","data-v-6ad2540e"]]);var MU=DU,wU={components:{NoticesTable:MU}};const FU=(0,r.A)(wU,[["render",UI]]);var XU=FU;const xU={class:"container-fluid"},TU={class:"row"};function SU(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("LinksTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Link Terkait",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",xU,[(0,n.Lk)("div",TU,[(0,n.bF)(r)])])])}const BU={class:"col-sm-12"},AU={class:"card"},_U={class:"card-body"},jU={class:"d-flex justify-content-end align-items-start mb-3"},VU={class:"d-flex gap-2"},IU={key:0,class:"fa fa-angle-up me-2"},NU={key:1,class:"fa fa-angle-down me-2"},UU={key:0,class:"border p-3 mb-3 rounded filter-section"},RU={class:"row g-3"},QU={class:"col-md-3"},WU={class:"col-md-3"},OU={class:"d-flex justify-content-end gap-2 mt-3"},KU={class:"table-responsive signal-table"},$U={class:"table table-hover"},GU={key:0,class:"fa fa-sort-asc"},JU={key:1,class:"fa fa-sort-desc"},qU={key:2,class:"fa fa-sort"},HU={key:0,class:"fa fa-sort-asc"},YU={key:1,class:"fa fa-sort-desc"},zU={key:2,class:"fa fa-sort"},ZU={key:0},aR={scope:"row"},eR=["src"],tR={key:1,class:"text-muted"},sR={class:"btn-group"},iR=["onClick"],lR=["onClick"],nR={key:0},oR={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},rR={class:"mt-2"},cR={key:0,class:"text-muted"},dR={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},uR={class:"pagination mb-0"},mR={key:0,class:"page-item"},kR={key:1,class:"page-item disabled"},hR=["onClick"],gR={key:2,class:"page-item disabled"},pR={key:3,class:"page-item"};function bR(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-link-modal");return(0,n.uX)(),(0,n.CE)("div",BU,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"link-to-edit":i.linkBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["link-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",AU,[e[33]||(e[33]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Link Terkait")],-1)),(0,n.Lk)("div",_U,[(0,n.Lk)("div",jU,[(0,n.Lk)("div",VU,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",IU)):((0,n.uX)(),(0,n.CE)("i",NU)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",UU,[(0,n.Lk)("div",RU,[(0,n.Lk)("div",QU,[e[13]||(e[13]=(0,n.Lk)("label",{for:"filterNameLink",class:"form-label"},"Nama Link",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterNameLink",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.nama=a),placeholder:"Filter berdasarkan nama"},null,512),[[l.Jo,i.filters.nama]])]),(0,n.Lk)("div",WU,[e[14]||(e[14]=(0,n.Lk)("label",{for:"filterVillageName",class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterVillageName",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.namawilayah=a),placeholder:"Filter berdasarkan nama desa"},null,512),[[l.Jo,i.filters.namawilayah]])])]),(0,n.Lk)("div",OU,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[15]||(e[15]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[16]||(e[16]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",KU,[(0,n.Lk)("table",$U,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[19]||(e[19]=(0,n.Lk)("th",{scope:"col"},"No",-1)),e[20]||(e[20]=(0,n.Lk)("th",{scope:"col",style:{width:"100px"}},"Logo",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[6]||(e[6]=a=>o.sortBy("nama"))},[e[17]||(e[17]=(0,n.eW)(" Nama ")),"nama"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",GU)):"nama"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",JU)):((0,n.uX)(),(0,n.CE)("i",qU))]),e[21]||(e[21]=(0,n.Lk)("th",{scope:"col"},"URL",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("namawilayah"))},[e[18]||(e[18]=(0,n.eW)(" Nama Desa ")),"namawilayah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",HU)):"namawilayah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",YU)):((0,n.uX)(),(0,n.CE)("i",zU))]),e[22]||(e[22]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[i.isLoading?((0,n.uX)(),(0,n.CE)("tr",ZU,e[23]||(e[23]=[(0,n.Lk)("td",{colspan:"6",class:"text-center p-5"},[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")]),(0,n.Lk)("p",{class:"mt-2"},"Memuat data...")],-1)]))):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedLinks,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idlink},[(0,n.Lk)("th",aR,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,[a.logolink?((0,n.uX)(),(0,n.CE)("img",{key:0,src:a.logolink,alt:"Logo",style:{height:"50px",width:"auto"}},null,8,eR)):((0,n.uX)(),(0,n.CE)("span",tR,"-"))]),(0,n.Lk)("td",null,(0,k.v_)(a.nama||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.url||"-"),1),(0,n.Lk)("td",null,(0,k.v_)(a.wilayah?.namawilayah||"-"),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",sR,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a),title:"Ubah Data"},e[24]||(e[24]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,iR),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idlink),title:"Hapus Data"},e[25]||(e[25]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,lR)])])]))),128)),0===o.paginatedLinks.length?((0,n.uX)(),(0,n.CE)("tr",nR,e[26]||(e[26]=[(0,n.Lk)("td",{colspan:"6",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)],64))])]),(0,n.Lk)("div",oR,[(0,n.Lk)("div",rR,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",cR,[e[27]||(e[27]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[28]||(e[28]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[29]||(e[29]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[30]||(e[30]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",dR,[(0,n.Lk)("ul",uR,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",mR,[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",kR,e[31]||(e[31]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,hR)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",gR,e[32]||(e[32]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",pR,[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const fR=(a={})=>Mi.get("",{params:{act:"link-terkait",...a}}),LR=a=>(a.append("act","link-terkait"),Mi.post("",a)),yR=(a,e)=>a?(e.append("act","link-terkait"),e.append("key",a),Mi.post("",e)):Promise.reject(new Error("ID link terkait tidak tersedia.")),vR=a=>a?Mi.delete("",{data:{act:"link-terkait",key:a}}):Promise.reject(new Error("ID link terkait tidak tersedia.")),CR={class:"modal-header"},PR={class:"modal-title"},ER={class:"modal-body"},DR={class:"mb-3"},MR=["disabled"],wR={disabled:"",value:""},FR=["value"],XR={class:"mb-3"},xR={class:"mb-3"},TR={class:"mb-3"},SR={class:"mt-2"},BR={key:0},AR=["src"],_R={key:1},jR=["src"],VR={key:0,class:"alert alert-danger mt-3"},IR={class:"modal-footer"},NR=["disabled"],UR={key:0,class:"spinner-border spinner-border-sm",role:"status"},RR={key:1};function QR(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"modal-overlay",onClick:e[9]||(e[9]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[8]||(e[8]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",CR,[(0,n.Lk)("h5",PR,(0,k.v_)(o.isEditMode?"Edit Data Link Terkait":"Tambah Data Link Terkait"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",ER,[(0,n.Lk)("form",{onSubmit:e[5]||(e[5]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",DR,[e[10]||(e[10]=(0,n.Lk)("label",{class:"form-label"},"Nama Desa",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.iddesa=a),required:"",disabled:i.isDesaListLoading},[(0,n.Lk)("option",wR,(0,k.v_)(i.isDesaListLoading?"Memuat...":"Pilih Desa"),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.desaList,a=>((0,n.uX)(),(0,n.CE)("option",{key:a.iddesa,value:a.iddesa},(0,k.v_)(a.wilayah.namawilayah),9,FR))),128))],8,MR),[[l.u1,i.formData.iddesa]])]),(0,n.Lk)("div",XR,[e[11]||(e[11]=(0,n.Lk)("label",{class:"form-label"},"Nama Link",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.nama=a),placeholder:"Masukkan nama link",required:""},null,512),[[l.Jo,i.formData.nama]])]),(0,n.Lk)("div",xR,[e[12]||(e[12]=(0,n.Lk)("label",{class:"form-label"},"URL",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.url=a),placeholder:"Masukkan alamat url terkait"},null,512),[[l.Jo,i.formData.url]])]),(0,n.Lk)("div",TR,[e[13]||(e[13]=(0,n.Lk)("label",{class:"form-label"},"Upload Logo",-1)),(0,n.Lk)("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[4]||(e[4]=(...a)=>o.handleLogoUpload&&o.handleLogoUpload(...a))},null,32),(0,n.Lk)("div",SR,[i.logoPreviewUrl?((0,n.uX)(),(0,n.CE)("div",BR,[(0,n.Lk)("img",{src:i.logoPreviewUrl,alt:"Preview Logo",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,AR)])):o.isEditMode&&i.formData.logolink?((0,n.uX)(),(0,n.CE)("div",_R,[(0,n.Lk)("img",{src:i.formData.logolink,alt:"Logo Saat Ini",class:"img-thumbnail",style:{"max-width":"150px","max-height":"150px"}},null,8,jR)])):(0,n.Q3)("",!0)])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",VR,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",IR,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[6]||(e[6]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[7]||(e[7]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",UR)):((0,n.uX)(),(0,n.CE)("span",RR,"Simpan"))],8,NR)])])])])}const WR={iddesa:"",nama:"",url:"",logolink:null};var OR={name:"addEditLinkModal",props:{linkToEdit:{type:Object,default:null}},data(){return{formData:{...WR},selectedLogoFile:null,logoPreviewUrl:null,desaList:[],isDesaListLoading:!1,isLoading:!1,errorMessage:null,toast:(0,nn.dj)()}},computed:{isEditMode(){return!!this.linkToEdit}},watch:{linkToEdit:{handler(a){a?(this.formData.iddesa=a.iddesa,this.formData.nama=a.nama,this.formData.url=a.url,this.formData.logolink=a.logolink):this.formData={...WR},this.selectedLogoFile=null,this.logoPreviewUrl=null,this.errorMessage=null},immediate:!0,deep:!0}},created(){this.fetchDesaList()},beforeUnmount(){this.logoPreviewUrl&&URL.revokeObjectURL(this.logoPreviewUrl)},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async fetchDesaList(){this.isDesaListLoading=!0;try{const a=await wi({limit:-1});this.desaList=a.data?.data||a.data?.[0]?.data||[]}catch(a){this.toast.error("Gagal memuat daftar desa")}finally{this.isDesaListLoading=!1}},handleLogoUpload(a){const e=a.target.files[0];if(this.logoPreviewUrl&&URL.revokeObjectURL(this.logoPreviewUrl),!e)return this.selectedLogoFile=null,void(this.logoPreviewUrl=null);this.selectedLogoFile=e,this.logoPreviewUrl=URL.createObjectURL(e)},async submitForm(){this.isLoading=!0,this.errorMessage=null;const a=new FormData;a.append("record[iddesa]",this.formData.iddesa),a.append("record[nama]",this.formData.nama),a.append("record[url]",this.formData.url),this.selectedLogoFile&&a.append("upload_logolink",this.selectedLogoFile);try{let e;this.isEditMode?(a.append("_method","PUT"),e=await yR(this.linkToEdit.idlink,a),this.toast.success("Data link terkait berhasil diperbarui")):(e=await LR(a),this.toast.success("Data link terkait berhasil ditambah")),this.$emit("save-successful",e.data.data),this.closeModal()}catch(e){this.errorMessage=e.response?.data?.failed||e.response?.data?.message||"Gagal menyimpan data. Silakan coba lagi",this.toast.error("Gagal menyimpan data link terkait")}finally{this.isLoading=!1}}}};const KR=(0,r.A)(OR,[["render",QR],["__scopeId","data-v-3c864e78"]]);var $R=KR,GR={components:{AddEditLinkModal:$R},data(){return{links:[],isLoading:!1,sortColumn:"created_at",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:10,totalItems:0,linkBeingEdited:null,isFilterVisible:!1,filters:{nama:"",namawilayah:""}}},computed:{paginatedLinks(){return this.links},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchLinks()},perPage(){this.currentPage=1,this.fetchLinks()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchLinks()},methods:{openAddModal(){this.linkBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.linkBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.linkBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchLinks()},async fetchLinks(){this.isLoading=!0;try{const a={act:"link-terkait",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([,a])=>""!==a&&null!==a).map(([a,e])=>`${a}=${e}`);a.filter=e.length>0?e.join(","):"";const t=await fR(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.meta?.pagination||t.data?.[0]?.meta?.pagination||{};this.links=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching related links:",a),this.toast.error("Gagal memuat data link terkait",{icon:"fa fa-times"})}finally{this.isLoading=!1}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Link Terkait",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await vR(a),1===this.links.length&&this.currentPage>1?this.currentPage--:this.fetchLinks(),this.toast.success("Data link terkait berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data link terkait",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchLinks()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchLinks()},resetFilters(){this.filters.namausaha="",this.filters.alamatusaha="",this.filters.namawilayah="",this.filters.idbidangusaha="",this.sortColumn="created_at",this.sortDirection="asc",this.currentPage=1,this.fetchLinks()}}};const JR=(0,r.A)(GR,[["render",bR],["__scopeId","data-v-7e771526"]]);var qR=JR,HR={components:{LinksTable:qR}};const YR=(0,r.A)(HR,[["render",SU]]);var zR=YR;function ZR(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Umum",title:"Pengguna"}),e[0]||(e[0]=(0,n.Lk)("div",{class:"container-fluid"},[(0,n.Lk)("div",{class:"row widget-grid"})],-1))])}var aQ={components:{}};const eQ=(0,r.A)(aQ,[["render",ZR]]);var tQ=eQ;const sQ={class:"container-fluid"},iQ={class:"row"};function lQ(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("RegionsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",sQ,[(0,n.Lk)("div",iQ,[(0,n.bF)(r)])])])}const nQ={class:"col-sm-12"},oQ={class:"card"},rQ={class:"card-body"},cQ={class:"d-flex justify-content-end align-items-start mb-3"},dQ={class:"d-flex gap-2"},uQ={key:0,class:"fa fa-angle-up me-2"},mQ={key:1,class:"fa fa-angle-down me-2"},kQ={key:0,class:"border p-3 mb-3 rounded filter-section"},hQ={class:"row g-3"},gQ={class:"col-md-4"},pQ={class:"col-md-4"},bQ={class:"col-md-4"},fQ={class:"d-flex justify-content-end gap-2 mt-3"},LQ={class:"table-responsive signal-table"},yQ={class:"table table-hover"},vQ={key:0,class:"fa fa-sort-asc"},CQ={key:1,class:"fa fa-sort-desc"},PQ={key:2,class:"fa fa-sort"},EQ={key:0,class:"fa fa-sort-asc"},DQ={key:1,class:"fa fa-sort-desc"},MQ={key:2,class:"fa fa-sort"},wQ={key:0,class:"fa fa-sort-asc"},FQ={key:1,class:"fa fa-sort-desc"},XQ={key:2,class:"fa fa-sort"},xQ={scope:"row"},TQ={class:"btn-group"},SQ=["onClick"],BQ=["onClick"],AQ={key:0},_Q={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},jQ={class:"mt-2"},VQ={key:0,class:"text-muted"},IQ={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},NQ={class:"pagination mb-0"},UQ={key:0,class:"page-item"},RQ={key:1,class:"page-item disabled"},QQ=["onClick"],WQ={key:2,class:"page-item disabled"},OQ={key:3,class:"page-item"};function KQ(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-region-modal");return(0,n.uX)(),(0,n.CE)("div",nQ,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"region-to-edit":i.regionBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["region-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",oQ,[e[35]||(e[35]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Wilayah")],-1)),(0,n.Lk)("div",rQ,[(0,n.Lk)("div",cQ,[(0,n.Lk)("div",dQ,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",uQ)):((0,n.uX)(),(0,n.CE)("i",mQ)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[14]||(e[14]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",kQ,[(0,n.Lk)("div",hQ,[(0,n.Lk)("div",gQ,[e[15]||(e[15]=(0,n.Lk)("label",{for:"filterCode",class:"form-label"},"Kode Wilayah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterCode",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.region_code=a),placeholder:"Filter berdasarkan kode wilayah"},null,512),[[l.Jo,i.filters.region_code]])]),(0,n.Lk)("div",pQ,[e[16]||(e[16]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Wilayah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>i.filters.region_name=a),placeholder:"Filter berdasarkan nama wilayah"},null,512),[[l.Jo,i.filters.region_name]])]),(0,n.Lk)("div",bQ,[e[18]||(e[18]=(0,n.Lk)("label",{for:"filterType",class:"form-label"},"Tipe Wilayah",-1)),(0,n.bo)((0,n.Lk)("select",{id:"filterType",class:"form-select","onUpdate:modelValue":e[4]||(e[4]=a=>i.filters.region_type=a)},e[17]||(e[17]=[(0,n.Fv)('<option value="" data-v-5ca2a340>Semua Tipe</option><option value="A" data-v-5ca2a340>A</option><option value="B" data-v-5ca2a340>B</option><option value="C" data-v-5ca2a340>C</option><option value="D" data-v-5ca2a340>D</option>',5)]),512),[[l.u1,i.filters.region_type]])])]),(0,n.Lk)("div",fQ,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[5]||(e[5]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[19]||(e[19]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[6]||(e[6]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[20]||(e[20]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",LQ,[(0,n.Lk)("table",yQ,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[24]||(e[24]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[7]||(e[7]=a=>o.sortBy("region_code"))},[e[21]||(e[21]=(0,n.eW)(" Kode Wilayah ")),"region_code"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",vQ)):"region_code"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",CQ)):((0,n.uX)(),(0,n.CE)("i",PQ))]),(0,n.Lk)("th",{scope:"col",onClick:e[8]||(e[8]=a=>o.sortBy("region_name"))},[e[22]||(e[22]=(0,n.eW)(" Nama Wilayah ")),"region_name"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",EQ)):"region_name"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",DQ)):((0,n.uX)(),(0,n.CE)("i",MQ))]),(0,n.Lk)("th",{scope:"col",onClick:e[9]||(e[9]=a=>o.sortBy("region_type"))},[e[23]||(e[23]=(0,n.eW)(" Tipe Wilayah ")),"region_type"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",wQ)):"region_type"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",FQ)):((0,n.uX)(),(0,n.CE)("i",XQ))]),e[25]||(e[25]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedRegions,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.region_id},[(0,n.Lk)("th",xQ,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.region_code),1),(0,n.Lk)("td",null,(0,k.v_)(a.region_name),1),(0,n.Lk)("td",null,(0,k.v_)(a.region_type),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",TQ,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[26]||(e[26]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,SQ),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.region_id)},e[27]||(e[27]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,BQ)])])]))),128)),0===o.paginatedRegions.length?((0,n.uX)(),(0,n.CE)("tr",AQ,e[28]||(e[28]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",_Q,[(0,n.Lk)("div",jQ,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",VQ,[e[29]||(e[29]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[30]||(e[30]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[31]||(e[31]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[32]||(e[32]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",IQ,[(0,n.Lk)("ul",NQ,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[10]||(e[10]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",UQ,[(0,n.Lk)("button",{class:"page-link",onClick:e[11]||(e[11]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",RQ,e[33]||(e[33]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,QQ)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",WQ,e[34]||(e[34]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",OQ,[(0,n.Lk)("button",{class:"page-link",onClick:e[12]||(e[12]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[13]||(e[13]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const $Q={class:"modal-header"},GQ={class:"modal-title"},JQ={class:"modal-body"},qQ={class:"mb-3"},HQ={class:"mb-3"},YQ={class:"mb-3"},zQ={key:0,class:"alert alert-danger mt-3"},ZQ={class:"modal-footer"},aW=["disabled"],eW={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tW={key:1};function sW(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[8]||(e[8]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[7]||(e[7]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",$Q,[(0,n.Lk)("h5",GQ,(0,k.v_)(o.isEditMode?"Edit Data Wilayah":"Tambah Wilayah Baru"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",JQ,[(0,n.Lk)("form",{onSubmit:e[4]||(e[4]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",qQ,[e[9]||(e[9]=(0,n.Lk)("label",{for:"regionCode",class:"form-label"},"Kode Wilayah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",placeholder:"Masukkan kode wilayah",id:"regionCode","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.region_code=a),required:""},null,512),[[l.Jo,i.formData.region_code]])]),(0,n.Lk)("div",HQ,[e[10]||(e[10]=(0,n.Lk)("label",{for:"regionName",class:"form-label"},"Nama Wilayah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"regionName",placeholder:"Masukkan nama wilayah","onUpdate:modelValue":e[2]||(e[2]=a=>i.formData.region_name=a),required:""},null,512),[[l.Jo,i.formData.region_name]])]),(0,n.Lk)("div",YQ,[e[12]||(e[12]=(0,n.Lk)("label",{for:"regionType",class:"form-label"},"Tipe Wilayah",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select",id:"regionType","onUpdate:modelValue":e[3]||(e[3]=a=>i.formData.region_type=a),required:""},e[11]||(e[11]=[(0,n.Lk)("option",{value:"",disabled:""},"Pilih tipe wilayah...",-1),(0,n.Lk)("option",null,"A",-1),(0,n.Lk)("option",null,"B",-1),(0,n.Lk)("option",null,"C",-1),(0,n.Lk)("option",null,"D",-1)]),512),[[l.u1,i.formData.region_type]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zQ,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ZQ,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[5]||(e[5]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[6]||(e[6]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eW)):((0,n.uX)(),(0,n.CE)("span",tW,"Simpan"))],8,aW)])])])}var iW={name:"editRegionModal",props:{regionToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{region_code:"",region_name:"",region_type:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.regionToEdit}},watch:{regionToEdit:{handler(a){this.formData=a?{...a}:{region_code:"",region_name:"",region_type:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{region_code:a,region_name:e,region_type:t}=this.formData;if(a&&e&&t){this.isLoading=!0;try{this.isEditMode?(await an(this.regionToEdit.region_id,this.formData),this.toast.success("Data wilayah berhasil diperbarui",{icon:"fa fa-check"})):(await Zl(this.formData),this.toast.success("Data wilayah berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(s){console.error("Error occurred:",s),this.errorMessage=s.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data wilayah",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lW=(0,r.A)(iW,[["render",sW],["__scopeId","data-v-40474f6a"]]);var nW=lW,oW={components:{AddEditRegionModal:nW},data(){return{regions:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,regionBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{region_code:"",region_name:"",region_type:""}}},computed:{paginatedRegions(){return this.regions},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchRegions(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchRegions()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchRegions()},methods:{openAddModal(){this.regionBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.regionBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.regionBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchRegions()},async fetchRegions(){try{const a={act:"regions",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Yl(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.regions=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching regions:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data wilayah. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Wilayah",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await en(a),1===this.regions.length&&this.currentPage>1?this.currentPage--:this.fetchRegions(),this.toast.success("Data wilayah berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data wilayah",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchRegions()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchRegions()},resetFilters(){this.filters.region_code="",this.filters.region_name="",this.filters.region_type="",this.currentPage=1,this.sortColumn="",this.sortDirection="asc",this.fetchRegions()}}};const rW=(0,r.A)(oW,[["render",KQ],["__scopeId","data-v-5ca2a340"]]);var cW=rW,dW={components:{RegionsTable:cW}};const uW=(0,r.A)(dW,[["render",lQ]]);var mW=uW;const kW={class:"container-fluid"},hW={class:"row widget-grid"};function gW(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ReligionsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kW,[(0,n.Lk)("div",hW,[(0,n.bF)(r)])])])}const pW={class:"col-sm-12"},bW={class:"card"},fW={class:"card-body"},LW={class:"d-flex justify-content-end align-items-start mb-3"},yW={class:"d-flex gap-2"},vW={key:0,class:"fa fa-angle-up me-2"},CW={key:1,class:"fa fa-angle-down me-2"},PW={key:0,class:"border p-3 mb-3 rounded filter-section"},EW={class:"row g-2"},DW={class:"col-md-4"},MW={class:"d-flex justify-content-end gap-2 mt-3"},wW={class:"table-responsive signal-table"},FW={class:"table table-hover"},XW={key:0,class:"fa fa-sort-asc"},xW={key:1,class:"fa fa-sort-desc"},TW={key:2,class:"fa fa-sort"},SW={scope:"row"},BW={class:"btn-group"},AW=["onClick"],_W=["onClick"],jW={key:0},VW={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},IW={class:"mt-2"},NW={key:0,class:"text-muted"},UW={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},RW={class:"pagination mb-0"},QW={key:0,class:"page-item"},WW={key:1,class:"page-item disabled"},OW=["onClick"],KW={key:2,class:"page-item disabled"},$W={key:3,class:"page-item"};function GW(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-religion-modal");return(0,n.uX)(),(0,n.CE)("div",pW,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"religion-to-edit":i.religionBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["religion-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bW,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Agama")],-1)),(0,n.Lk)("div",fW,[(0,n.Lk)("div",LW,[(0,n.Lk)("div",yW,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vW)):((0,n.uX)(),(0,n.CE)("i",CW)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",PW,[(0,n.Lk)("div",EW,[(0,n.Lk)("div",DW,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Agama",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namaagama=a),placeholder:"Filter berdasarkan nama agama"},null,512),[[l.Jo,i.filters.namaagama]])])]),(0,n.Lk)("div",MW,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wW,[(0,n.Lk)("table",FW,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namaagama"))},[e[14]||(e[14]=(0,n.eW)(" Nama Agama ")),"namaagama"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",XW)):"namaagama"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xW)):((0,n.uX)(),(0,n.CE)("i",TW))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedReligions,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idagama},[(0,n.Lk)("th",SW,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namaagama),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",BW,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,AW),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idagama)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_W)])])]))),128)),0===o.paginatedReligions.length?((0,n.uX)(),(0,n.CE)("tr",jW,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",VW,[(0,n.Lk)("div",IW,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",NW,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",UW,[(0,n.Lk)("ul",RW,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",QW,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",WW,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,OW)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",KW,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$W,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const JW={class:"modal-header"},qW={class:"modal-title"},HW={class:"modal-body"},YW={class:"mb-3"},zW={key:0,class:"alert alert-danger mt-3"},ZW={class:"modal-footer"},aO=["disabled"],eO={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tO={key:1};function sO(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",JW,[(0,n.Lk)("h5",qW,(0,k.v_)(o.isEditMode?"Edit Data Agama":"Tambah data Agama"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",HW,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",YW,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namaagama",class:"form-label"},"Nama Agama",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaAgama",placeholder:"Masukkan nama agama","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namaagama=a),required:""},null,512),[[l.Jo,i.formData.namaagama]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zW,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ZW,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eO)):((0,n.uX)(),(0,n.CE)("span",tO,"Simpan"))],8,aO)])])])}var iO={name:"editReligionModal",props:{religionToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namaagama:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.religionToEdit}},watch:{religionToEdit:{handler(a){this.formData=a?{...a}:{namaagama:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namaagama:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await nh(this.religionToEdit.idagama,this.formData),this.toast.success("Data agama berhasil diperbarui",{icon:"fa fa-check"})):(await lh(this.formData),this.toast.success("Data agama berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data agama",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lO=(0,r.A)(iO,[["render",sO],["__scopeId","data-v-4de2e57c"]]);var nO=lO,oO={components:{AddEditReligionModal:nO},data(){return{religions:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,religionBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{religion_name:""}}},computed:{paginatedReligions(){return this.religions},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchReligions(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchReligions()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchReligions()},methods:{openAddModal(){this.religionBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.religionBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.religionBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchReligions()},async fetchReligions(){try{const a={act:"agama",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await ih(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.religions=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching agama:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data agama. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Agama",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await oh(a),1===this.religions.length&&this.currentPage>1?this.currentPage--:this.fetchReligions(),this.toast.success("Data agama berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data agama",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchReligions()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchReligions()},resetFilters(){this.filters.namaagama="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchReligions()}}};const rO=(0,r.A)(oO,[["render",GW],["__scopeId","data-v-690d6b19"]]);var cO=rO,dO={components:{ReligionsTable:cO}};const uO=(0,r.A)(dO,[["render",gW]]);var mO=uO;const kO={class:"container-fluid"},hO={class:"row widget-grid"};function gO(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("BloodTypesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kO,[(0,n.Lk)("div",hO,[(0,n.bF)(r)])])])}const pO={class:"col-sm-12"},bO={class:"card"},fO={class:"card-body"},LO={class:"d-flex justify-content-end align-items-start mb-3"},yO={class:"d-flex gap-2"},vO={key:0,class:"fa fa-angle-up me-2"},CO={key:1,class:"fa fa-angle-down me-2"},PO={key:0,class:"border p-3 mb-3 rounded filter-section"},EO={class:"row g-2"},DO={class:"col-md-4"},MO={class:"d-flex justify-content-end gap-2 mt-3"},wO={class:"table-responsive signal-table"},FO={class:"table table-hover"},XO={key:0,class:"fa fa-sort-asc"},xO={key:1,class:"fa fa-sort-desc"},TO={key:2,class:"fa fa-sort"},SO={scope:"row"},BO={class:"btn-group"},AO=["onClick"],_O=["onClick"],jO={key:0},VO={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},IO={class:"mt-2"},NO={key:0,class:"text-muted"},UO={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},RO={class:"pagination mb-0"},QO={key:0,class:"page-item"},WO={key:1,class:"page-item disabled"},OO=["onClick"],KO={key:2,class:"page-item disabled"},$O={key:3,class:"page-item"};function GO(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-bloodType-modal");return(0,n.uX)(),(0,n.CE)("div",pO,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"bloodType-to-edit":i.bloodTypeBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["bloodType-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bO,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Golongan Darah")],-1)),(0,n.Lk)("div",fO,[(0,n.Lk)("div",LO,[(0,n.Lk)("div",yO,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vO)):((0,n.uX)(),(0,n.CE)("i",CO)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",PO,[(0,n.Lk)("div",EO,[(0,n.Lk)("div",DO,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Golongan Darah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namagolongandarah=a),placeholder:"Filter berdasarkan golongan darah"},null,512),[[l.Jo,i.filters.namagolongandarah]])])]),(0,n.Lk)("div",MO,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wO,[(0,n.Lk)("table",FO,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namagolongandarah"))},[e[14]||(e[14]=(0,n.eW)(" Golongan Darah ")),"namagolongandarah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",XO)):"namagolongandarah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xO)):((0,n.uX)(),(0,n.CE)("i",TO))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedBloodTypes,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idgolongandarah},[(0,n.Lk)("th",SO,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namagolongandarah),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",BO,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,AO),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idgolongandarah)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_O)])])]))),128)),0===o.paginatedBloodTypes.length?((0,n.uX)(),(0,n.CE)("tr",jO,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",VO,[(0,n.Lk)("div",IO,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",NO,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",UO,[(0,n.Lk)("ul",RO,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",QO,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",WO,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,OO)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",KO,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$O,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const JO={class:"modal-header"},qO={class:"modal-title"},HO={class:"modal-body"},YO={class:"mb-3"},zO={key:0,class:"alert alert-danger mt-3"},ZO={class:"modal-footer"},aK=["disabled"],eK={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tK={key:1};function sK(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",JO,[(0,n.Lk)("h5",qO,(0,k.v_)(o.isEditMode?"Edit Data Golongan Darah":"Tambah Data Golongan Darah"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",HO,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",YO,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namagolongandarah",class:"form-label"},"Nama Golongan Darah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaGolonganDarah",placeholder:"Masukkan nama golongan darah","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namagolongandarah=a),required:""},null,512),[[l.Jo,i.formData.namagolongandarah]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zO,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ZO,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eK)):((0,n.uX)(),(0,n.CE)("span",tK,"Simpan"))],8,aK)])])])}var iK={name:"editBloodTypeModal",props:{bloodTypeToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namagolongandarah:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.bloodTypeToEdit}},watch:{bloodTypeToEdit:{handler(a){this.formData=a?{...a}:{namagolongandarah:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namagolongandarah:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await dh(this.bloodTypeToEdit.idgolongandarah,this.formData),this.toast.success("Data golongan darah berhasil diperbarui",{icon:"fa fa-check"})):(await ch(this.formData),this.toast.success("Data golongan darah berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data golongan darah",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lK=(0,r.A)(iK,[["render",sK],["__scopeId","data-v-f13b28dc"]]);var nK=lK,oK={components:{AddEditBloodTypeModal:nK},data(){return{bloodTypes:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,bloodTypeBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{bloodType_name:""}}},computed:{paginatedBloodTypes(){return this.bloodTypes},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchBloodTypes(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchBloodTypes()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchBloodTypes()},methods:{openAddModal(){this.bloodTypeBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.bloodTypeBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.bloodTypeBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchBloodTypes()},async fetchBloodTypes(){try{const a={act:"golongan-darah",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await rh(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.bloodTypes=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching golongan darah:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data golongan darah. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Golongan Darah",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await uh(a),1===this.bloodTypes.length&&this.currentPage>1?this.currentPage--:this.fetchBloodTypes(),this.toast.success("Data golongan darah berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data golongan darah",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchBloodTypes()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchBloodTypes()},resetFilters(){this.filters.namagolongandarah="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchBloodTypes()}}};const rK=(0,r.A)(oK,[["render",GO],["__scopeId","data-v-845f3050"]]);var cK=rK,dK={components:{BloodTypesTable:cK}};const uK=(0,r.A)(dK,[["render",gO]]);var mK=uK;const kK={class:"container-fluid"},hK={class:"row widget-grid"};function gK(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("FamilyRelationshipsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kK,[(0,n.Lk)("div",hK,[(0,n.bF)(r)])])])}const pK={class:"col-sm-12"},bK={class:"card"},fK={class:"card-body"},LK={class:"d-flex justify-content-end align-items-start mb-3"},yK={class:"d-flex gap-2"},vK={key:0,class:"fa fa-angle-up me-2"},CK={key:1,class:"fa fa-angle-down me-2"},PK={key:0,class:"border p-3 mb-3 rounded filter-section"},EK={class:"row g-2"},DK={class:"col-md-4"},MK={class:"d-flex justify-content-end gap-2 mt-3"},wK={class:"table-responsive signal-table"},FK={class:"table table-hover"},XK={key:0,class:"fa fa-sort-asc"},xK={key:1,class:"fa fa-sort-desc"},TK={key:2,class:"fa fa-sort"},SK={scope:"row"},BK={class:"btn-group"},AK=["onClick"],_K=["onClick"],jK={key:0},VK={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},IK={class:"mt-2"},NK={key:0,class:"text-muted"},UK={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},RK={class:"pagination mb-0"},QK={key:0,class:"page-item"},WK={key:1,class:"page-item disabled"},OK=["onClick"],KK={key:2,class:"page-item disabled"},$K={key:3,class:"page-item"};function GK(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-familyRelationship-modal");return(0,n.uX)(),(0,n.CE)("div",pK,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"familyRelationship-to-edit":i.familyRelationshipBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["familyRelationship-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bK,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Hubungan Keluarga")],-1)),(0,n.Lk)("div",fK,[(0,n.Lk)("div",LK,[(0,n.Lk)("div",yK,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vK)):((0,n.uX)(),(0,n.CE)("i",CK)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",PK,[(0,n.Lk)("div",EK,[(0,n.Lk)("div",DK,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Hubungan Keluarga",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namahubungankeluarga=a),placeholder:"Filter berdasarkan nama hubungan keluarga"},null,512),[[l.Jo,i.filters.namahubungankeluarga]])])]),(0,n.Lk)("div",MK,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wK,[(0,n.Lk)("table",FK,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namahubungankeluarga"))},[e[14]||(e[14]=(0,n.eW)(" Nama Hubungan Keluarga ")),"namahubungankeluarga"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",XK)):"namahubungankeluarga"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xK)):((0,n.uX)(),(0,n.CE)("i",TK))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedFamilyRelationships,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idhubungankeluarga},[(0,n.Lk)("th",SK,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namahubungankeluarga),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",BK,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,AK),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idhubungankeluarga)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_K)])])]))),128)),0===o.paginatedFamilyRelationships.length?((0,n.uX)(),(0,n.CE)("tr",jK,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",VK,[(0,n.Lk)("div",IK,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",NK,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",UK,[(0,n.Lk)("ul",RK,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",QK,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",WK,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,OK)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",KK,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$K,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const JK={class:"modal-header"},qK={class:"modal-title"},HK={class:"modal-body"},YK={class:"mb-3"},zK={key:0,class:"alert alert-danger mt-3"},ZK={class:"modal-footer"},a$=["disabled"],e$={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},t$={key:1};function s$(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",JK,[(0,n.Lk)("h5",qK,(0,k.v_)(o.isEditMode?"Edit Data Hubungan Keluarga":"Tambah Data Hubungan Keluarga"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",HK,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",YK,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namahubungankeluarga",class:"form-label"},"Nama Hubungan Keluarga",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaHubunganKeluarga",placeholder:"Masukkan nama hubungan keluarga","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namahubungankeluarga=a),required:""},null,512),[[l.Jo,i.formData.namahubungankeluarga]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zK,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ZK,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",e$)):((0,n.uX)(),(0,n.CE)("span",t$,"Simpan"))],8,a$)])])])}var i$={name:"editFamilyRelationshipModal",props:{familyRelationshipToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namahubungankeluarga:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.familyRelationshipToEdit}},watch:{familyRelationshipToEdit:{handler(a){this.formData=a?{...a}:{namahubungankeluarga:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namahubungankeluarga:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await fh(this.familyRelationshipToEdit.idhubungankeluarga,this.formData),this.toast.success("Data hubungan keluarga berhasil diperbarui",{icon:"fa fa-check"})):(await bh(this.formData),this.toast.success("Data hubungan keluarga berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data hubungan keluarga",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const l$=(0,r.A)(i$,[["render",s$],["__scopeId","data-v-e0b236ba"]]);var n$=l$,o$={components:{AddEditFamilyRelationshipModal:n$},data(){return{familyRelationships:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,familyRelationshipBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{familyRelationship_name:""}}},computed:{paginatedFamilyRelationships(){return this.familyRelationships},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchFamilyRelationships(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchFamilyRelationships()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchFamilyRelationships()},methods:{openAddModal(){this.familyRelationshipBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.familyRelationshipBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.familyRelationshipBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchFamilyRelationships()},async fetchFamilyRelationships(){try{const a={act:"hubungan-keluarga",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await ph(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.familyRelationships=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching hubungan keluarga:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data hubungan keluarga. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Hubungan Keluarga",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Lh(a),1===this.familyRelationships.length&&this.currentPage>1?this.currentPage--:this.fetchFamilyRelationships(),this.toast.success("Data hubungan keluarga berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data hubungan keluarga",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchFamilyRelationships()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchFamilyRelationships()},resetFilters(){this.filters.namahubungankeluarga="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchFamilyRelationships()}}};const r$=(0,r.A)(o$,[["render",GK],["__scopeId","data-v-5f3c85aa"]]);var c$=r$,d$={components:{FamilyRelationshipsTable:c$}};const u$=(0,r.A)(d$,[["render",gK]]);var m$=u$;const k$={class:"container-fluid"},h$={class:"row widget-grid"};function g$(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("GendersTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",k$,[(0,n.Lk)("div",h$,[(0,n.bF)(r)])])])}const p$={class:"col-sm-12"},b$={class:"card"},f$={class:"card-body"},L$={class:"d-flex justify-content-end align-items-start mb-3"},y$={class:"d-flex gap-2"},v$={key:0,class:"fa fa-angle-up me-2"},C$={key:1,class:"fa fa-angle-down me-2"},P$={key:0,class:"border p-3 mb-3 rounded filter-section"},E$={class:"row g-2"},D$={class:"col-md-4"},M$={class:"d-flex justify-content-end gap-2 mt-3"},w$={class:"table-responsive signal-table"},F$={class:"table table-hover"},X$={key:0,class:"fa fa-sort-asc"},x$={key:1,class:"fa fa-sort-desc"},T$={key:2,class:"fa fa-sort"},S$={scope:"row"},B$={class:"btn-group"},A$=["onClick"],_$=["onClick"],j$={key:0},V$={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},I$={class:"mt-2"},N$={key:0,class:"text-muted"},U$={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},R$={class:"pagination mb-0"},Q$={key:0,class:"page-item"},W$={key:1,class:"page-item disabled"},O$=["onClick"],K$={key:2,class:"page-item disabled"},$$={key:3,class:"page-item"};function G$(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-gender-modal");return(0,n.uX)(),(0,n.CE)("div",p$,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"gender-to-edit":i.genderBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["gender-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",b$,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Jenis Kelamin")],-1)),(0,n.Lk)("div",f$,[(0,n.Lk)("div",L$,[(0,n.Lk)("div",y$,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",v$)):((0,n.uX)(),(0,n.CE)("i",C$)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",P$,[(0,n.Lk)("div",E$,[(0,n.Lk)("div",D$,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Jenis Kelamin",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namajeniskelamin=a),placeholder:"Filter berdasarkan nama jenis kelamin"},null,512),[[l.Jo,i.filters.namajeniskelamin]])])]),(0,n.Lk)("div",M$,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",w$,[(0,n.Lk)("table",F$,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namajeniskelamin"))},[e[14]||(e[14]=(0,n.eW)(" Nama Jenis Kelamin ")),"namajeniskelamin"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",X$)):"namajeniskelamin"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",x$)):((0,n.uX)(),(0,n.CE)("i",T$))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedGenders,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idjeniskelamin},[(0,n.Lk)("th",S$,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namajeniskelamin),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",B$,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,A$),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idjeniskelamin)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_$)])])]))),128)),0===o.paginatedGenders.length?((0,n.uX)(),(0,n.CE)("tr",j$,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",V$,[(0,n.Lk)("div",I$,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",N$,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",U$,[(0,n.Lk)("ul",R$,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Q$,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",W$,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,O$)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",K$,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$$,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const J$={class:"modal-header"},q$={class:"modal-title"},H$={class:"modal-body"},Y$={class:"mb-3"},z$={key:0,class:"alert alert-danger mt-3"},Z$={class:"modal-footer"},aG=["disabled"],eG={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tG={key:1};function sG(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",J$,[(0,n.Lk)("h5",q$,(0,k.v_)(o.isEditMode?"Edit Data Jenis Kelamin":"Tambah Data Jenis Kelamin"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",H$,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Y$,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namajeniskelamin",class:"form-label"},"Nama Jenis Kelamin",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaJenisKelamin",placeholder:"Masukkan nama jenis kelamin","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namajeniskelamin=a),required:""},null,512),[[l.Jo,i.formData.namajeniskelamin]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",z$,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Z$,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eG)):((0,n.uX)(),(0,n.CE)("span",tG,"Simpan"))],8,aG)])])])}var iG={name:"editGenderModal",props:{genderToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namajeniskelamin:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.genderToEdit}},watch:{genderToEdit:{handler(a){this.formData=a?{...a}:{namajeniskelamin:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namajeniskelamin:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await th(this.genderToEdit.idjeniskelamin,this.formData),this.toast.success("Data jenis kelamin berhasil diperbarui",{icon:"fa fa-check"})):(await eh(this.formData),this.toast.success("Data jenis kelamin berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data jenis kelamin",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lG=(0,r.A)(iG,[["render",sG],["__scopeId","data-v-2b1a2bd3"]]);var nG=lG,oG={components:{AddEditGenderModal:nG},data(){return{genders:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,genderBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{gender_name:""}}},computed:{paginatedGenders(){return this.genders},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchGenders(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchGenders()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchGenders()},methods:{openAddModal(){this.genderBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.genderBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.genderBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchGenders()},async fetchGenders(){try{const a={act:"jenis-kelamin",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await ah(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.genders=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching jenis kelamin:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data jenis kelamin. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Jenis Kelamin",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await sh(a),1===this.genders.length&&this.currentPage>1?this.currentPage--:this.fetchGenders(),this.toast.success("Data jenis kelamin berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data jenis kelamin",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchGenders()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchGenders()},resetFilters(){this.filters.namajeniskelamin="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchGenders()}}};const rG=(0,r.A)(oG,[["render",G$],["__scopeId","data-v-0801c3e9"]]);var cG=rG,dG={components:{GendersTable:cG}};const uG=(0,r.A)(dG,[["render",g$]]);var mG=uG;const kG={class:"container-fluid"},hG={class:"row widget-grid"};function gG(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("OccupationsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kG,[(0,n.Lk)("div",hG,[(0,n.bF)(r)])])])}const pG={class:"col-sm-12"},bG={class:"card"},fG={class:"card-body"},LG={class:"d-flex justify-content-end align-items-start mb-3"},yG={class:"d-flex gap-2"},vG={key:0,class:"fa fa-angle-up me-2"},CG={key:1,class:"fa fa-angle-down me-2"},PG={key:0,class:"border p-3 mb-3 rounded filter-section"},EG={class:"row g-2"},DG={class:"col-md-4"},MG={class:"d-flex justify-content-end gap-2 mt-3"},wG={class:"table-responsive signal-table"},FG={class:"table table-hover"},XG={key:0,class:"fa fa-sort-asc"},xG={key:1,class:"fa fa-sort-desc"},TG={key:2,class:"fa fa-sort"},SG={scope:"row"},BG={class:"btn-group"},AG=["onClick"],_G=["onClick"],jG={key:0},VG={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},IG={class:"mt-2"},NG={key:0,class:"text-muted"},UG={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},RG={class:"pagination mb-0"},QG={key:0,class:"page-item"},WG={key:1,class:"page-item disabled"},OG=["onClick"],KG={key:2,class:"page-item disabled"},$G={key:3,class:"page-item"};function GG(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-occupation-modal");return(0,n.uX)(),(0,n.CE)("div",pG,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"occupation-to-edit":i.occupationBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["occupation-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bG,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Pekerjaan")],-1)),(0,n.Lk)("div",fG,[(0,n.Lk)("div",LG,[(0,n.Lk)("div",yG,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vG)):((0,n.uX)(),(0,n.CE)("i",CG)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",PG,[(0,n.Lk)("div",EG,[(0,n.Lk)("div",DG,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Pekerjaan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namapekerjaan=a),placeholder:"Filter berdasarkan nama pekerjaan"},null,512),[[l.Jo,i.filters.namapekerjaan]])])]),(0,n.Lk)("div",MG,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wG,[(0,n.Lk)("table",FG,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namapekerjaan"))},[e[14]||(e[14]=(0,n.eW)(" Nama Pekerjaan ")),"namapekerjaan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",XG)):"namapekerjaan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xG)):((0,n.uX)(),(0,n.CE)("i",TG))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedOccupations,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idpekerjaan},[(0,n.Lk)("th",SG,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namapekerjaan),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",BG,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,AG),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idpekerjaan)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_G)])])]))),128)),0===o.paginatedOccupations.length?((0,n.uX)(),(0,n.CE)("tr",jG,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",VG,[(0,n.Lk)("div",IG,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",NG,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",UG,[(0,n.Lk)("ul",RG,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",QG,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",WG,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,OG)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",KG,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$G,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const JG={class:"modal-header"},qG={class:"modal-title"},HG={class:"modal-body"},YG={class:"mb-3"},zG={key:0,class:"alert alert-danger mt-3"},ZG={class:"modal-footer"},aJ=["disabled"],eJ={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tJ={key:1};function sJ(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",JG,[(0,n.Lk)("h5",qG,(0,k.v_)(o.isEditMode?"Edit Data Pekerjaan":"Tambah Data Pekerjaan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",HG,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",YG,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namapekerjaan",class:"form-label"},"Nama Pekerjaan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaPekerjaan",placeholder:"Masukkan nama pekerjaan","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namapekerjaan=a),required:""},null,512),[[l.Jo,i.formData.namapekerjaan]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zG,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ZG,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eJ)):((0,n.uX)(),(0,n.CE)("span",tJ,"Simpan"))],8,aJ)])])])}var iJ={name:"editOccupationModal",props:{occupationToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namapekerjaan:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.occupationToEdit}},watch:{occupationToEdit:{handler(a){this.formData=a?{...a}:{namapekerjaan:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namapekerjaan:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await Mh(this.occupationToEdit.idpekerjaan,this.formData),this.toast.success("Data pekerjaan berhasil diperbarui",{icon:"fa fa-check"})):(await Dh(this.formData),this.toast.success("Data pekerjaan berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data pekerjaan",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lJ=(0,r.A)(iJ,[["render",sJ],["__scopeId","data-v-137ddbde"]]);var nJ=lJ,oJ={components:{AddEditOccupationModal:nJ},data(){return{occupations:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,occupationBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{occupation_name:""}}},computed:{paginatedOccupations(){return this.occupations},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchOccupations(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchOccupations()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchOccupations()},methods:{openAddModal(){this.occupationBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.occupationBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.occupationBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchOccupations()},async fetchOccupations(){try{const a={act:"pekerjaan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Eh(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.occupations=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching pekerjaan:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data pekerjaan. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Pekerjaan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await wh(a),1===this.occupations.length&&this.currentPage>1?this.currentPage--:this.fetchOccupations(),this.toast.success("Data pekerjaan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data pekerjaan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchOccupations()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchOccupations()},resetFilters(){this.filters.namapekerjaan="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchOccupations()}}};const rJ=(0,r.A)(oJ,[["render",GG],["__scopeId","data-v-5a2655fc"]]);var cJ=rJ,dJ={components:{OccupationsTable:cJ}};const uJ=(0,r.A)(dJ,[["render",gG]]);var mJ=uJ;const kJ={class:"container-fluid"},hJ={class:"row widget-grid"};function gJ(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("EducationLevelsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kJ,[(0,n.Lk)("div",hJ,[(0,n.bF)(r)])])])}const pJ={class:"col-sm-12"},bJ={class:"card"},fJ={class:"card-body"},LJ={class:"d-flex justify-content-end align-items-start mb-3"},yJ={class:"d-flex gap-2"},vJ={key:0,class:"fa fa-angle-up me-2"},CJ={key:1,class:"fa fa-angle-down me-2"},PJ={key:0,class:"border p-3 mb-3 rounded filter-section"},EJ={class:"row g-2"},DJ={class:"col-md-4"},MJ={class:"d-flex justify-content-end gap-2 mt-3"},wJ={class:"table-responsive signal-table"},FJ={class:"table table-hover"},XJ={key:0,class:"fa fa-sort-asc"},xJ={key:1,class:"fa fa-sort-desc"},TJ={key:2,class:"fa fa-sort"},SJ={scope:"row"},BJ={class:"btn-group"},AJ=["onClick"],_J=["onClick"],jJ={key:0},VJ={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},IJ={class:"mt-2"},NJ={key:0,class:"text-muted"},UJ={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},RJ={class:"pagination mb-0"},QJ={key:0,class:"page-item"},WJ={key:1,class:"page-item disabled"},OJ=["onClick"],KJ={key:2,class:"page-item disabled"},$J={key:3,class:"page-item"};function GJ(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-educationLevel-modal");return(0,n.uX)(),(0,n.CE)("div",pJ,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"educationLevel-to-edit":i.educationLevelBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["educationLevel-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bJ,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Pendidikan")],-1)),(0,n.Lk)("div",fJ,[(0,n.Lk)("div",LJ,[(0,n.Lk)("div",yJ,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vJ)):((0,n.uX)(),(0,n.CE)("i",CJ)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",PJ,[(0,n.Lk)("div",EJ,[(0,n.Lk)("div",DJ,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Pendidikan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namapendidikan=a),placeholder:"Filter berdasarkan nama pendidikan"},null,512),[[l.Jo,i.filters.namapendidikan]])])]),(0,n.Lk)("div",MJ,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wJ,[(0,n.Lk)("table",FJ,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namapendidikan"))},[e[14]||(e[14]=(0,n.eW)(" Nama Pendidikan ")),"namapendidikan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",XJ)):"namapendidikan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xJ)):((0,n.uX)(),(0,n.CE)("i",TJ))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedEducationLevels,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idpendidikan},[(0,n.Lk)("th",SJ,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namapendidikan),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",BJ,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,AJ),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idpendidikan)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_J)])])]))),128)),0===o.paginatedEducationLevels.length?((0,n.uX)(),(0,n.CE)("tr",jJ,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",VJ,[(0,n.Lk)("div",IJ,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",NJ,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",UJ,[(0,n.Lk)("ul",RJ,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",QJ,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",WJ,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,OJ)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",KJ,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$J,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const JJ={class:"modal-header"},qJ={class:"modal-title"},HJ={class:"modal-body"},YJ={class:"mb-3"},zJ={key:0,class:"alert alert-danger mt-3"},ZJ={class:"modal-footer"},aq=["disabled"],eq={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tq={key:1};function sq(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",JJ,[(0,n.Lk)("h5",qJ,(0,k.v_)(o.isEditMode?"Edit Data Pendidikan":"Tambah Data Pendidikan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",HJ,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",YJ,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namapendidikan",class:"form-label"},"Nama Pendidikan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaPendidikan",placeholder:"Masukkan nama pendidikan","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namapendidikan=a),required:""},null,512),[[l.Jo,i.formData.namapendidikan]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zJ,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ZJ,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eq)):((0,n.uX)(),(0,n.CE)("span",tq,"Simpan"))],8,aq)])])])}var iq={name:"editEducationLevelModal",props:{educationLevelToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namapendidikan:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.educationLevelToEdit}},watch:{educationLevelToEdit:{handler(a){this.formData=a?{...a}:{namapendidikan:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namapendidikan:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await Ch(this.educationLevelToEdit.idpendidikan,this.formData),this.toast.success("Data pendidikan berhasil diperbarui",{icon:"fa fa-check"})):(await vh(this.formData),this.toast.success("Data pendidikan berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data pendidikan",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lq=(0,r.A)(iq,[["render",sq],["__scopeId","data-v-30e976b6"]]);var nq=lq,oq={components:{AddEditEducationLevelModal:nq},data(){return{educationLevels:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,educationLevelBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{educationLevel_name:""}}},computed:{paginatedEducationLevels(){return this.educationLevels},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchEducationLevels(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchEducationLevels()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchEducationLevels()},methods:{openAddModal(){this.educationLevelBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.educationLevelBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.educationLevelBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchEducationLevels()},async fetchEducationLevels(){try{const a={act:"pendidikan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await yh(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.educationLevels=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching pendidikan:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data pendidikan. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Pendidikan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Ph(a),1===this.educationLevels.length&&this.currentPage>1?this.currentPage--:this.fetchEducationLevels(),this.toast.success("Data pendidikan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data pendidikan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchEducationLevels()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchEducationLevels()},resetFilters(){this.filters.namapendidikan="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchEducationLevels()}}};const rq=(0,r.A)(oq,[["render",GJ],["__scopeId","data-v-c67341ca"]]);var cq=rq,dq={components:{EducationLevelsTable:cq}};const uq=(0,r.A)(dq,[["render",gJ]]);var mq=uq;const kq={class:"container-fluid"},hq={class:"row widget-grid"};function gq(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("BirthAttendantsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kq,[(0,n.Lk)("div",hq,[(0,n.bF)(r)])])])}const pq={class:"col-sm-12"},bq={class:"card"},fq={class:"card-body"},Lq={class:"d-flex justify-content-end align-items-start mb-3"},yq={class:"d-flex gap-2"},vq={key:0,class:"fa fa-angle-up me-2"},Cq={key:1,class:"fa fa-angle-down me-2"},Pq={key:0,class:"border p-3 mb-3 rounded filter-section"},Eq={class:"row g-2"},Dq={class:"col-md-4"},Mq={class:"d-flex justify-content-end gap-2 mt-3"},wq={class:"table-responsive signal-table"},Fq={class:"table table-hover"},Xq={key:0,class:"fa fa-sort-asc"},xq={key:1,class:"fa fa-sort-desc"},Tq={key:2,class:"fa fa-sort"},Sq={scope:"row"},Bq={class:"btn-group"},Aq=["onClick"],_q=["onClick"],jq={key:0},Vq={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},Iq={class:"mt-2"},Nq={key:0,class:"text-muted"},Uq={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},Rq={class:"pagination mb-0"},Qq={key:0,class:"page-item"},Wq={key:1,class:"page-item disabled"},Oq=["onClick"],Kq={key:2,class:"page-item disabled"},$q={key:3,class:"page-item"};function Gq(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-birthAttendant-modal");return(0,n.uX)(),(0,n.CE)("div",pq,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"birthAttendant-to-edit":i.birthAttendantBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["birthAttendant-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bq,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Penolong Kelahiran")],-1)),(0,n.Lk)("div",fq,[(0,n.Lk)("div",Lq,[(0,n.Lk)("div",yq,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vq)):((0,n.uX)(),(0,n.CE)("i",Cq)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Pq,[(0,n.Lk)("div",Eq,[(0,n.Lk)("div",Dq,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Penolong Kelahiran",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namapenolongkelahiran=a),placeholder:"Filter berdasarkan penolong kelahiran"},null,512),[[l.Jo,i.filters.namapenolongkelahiran]])])]),(0,n.Lk)("div",Mq,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wq,[(0,n.Lk)("table",Fq,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namapenolongkelahiran"))},[e[14]||(e[14]=(0,n.eW)(" Nama Penolong Kelahiran ")),"namapenolongkelahiran"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Xq)):"namapenolongkelahiran"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xq)):((0,n.uX)(),(0,n.CE)("i",Tq))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedBirthAttendants,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idpenolongkelahiran},[(0,n.Lk)("th",Sq,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namapenolongkelahiran),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",Bq,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,Aq),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idpenolongkelahiran)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_q)])])]))),128)),0===o.paginatedBirthAttendants.length?((0,n.uX)(),(0,n.CE)("tr",jq,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Vq,[(0,n.Lk)("div",Iq,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",Nq,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",Uq,[(0,n.Lk)("ul",Rq,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Qq,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",Wq,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,Oq)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",Kq,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$q,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const Jq={class:"modal-header"},qq={class:"modal-title"},Hq={class:"modal-body"},Yq={class:"mb-3"},zq={key:0,class:"alert alert-danger mt-3"},Zq={class:"modal-footer"},aH=["disabled"],eH={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tH={key:1};function sH(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Jq,[(0,n.Lk)("h5",qq,(0,k.v_)(o.isEditMode?"Edit Data Penolong Kelahiran":"Tambah Data Penolong Kelahiran"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Hq,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Yq,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namapenolongkelahiran",class:"form-label"},"Nama Penolong Kelahiran",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaPenolongKelahiran",placeholder:"Masukkan nama penolong kelahiran","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namapenolongkelahiran=a),required:""},null,512),[[l.Jo,i.formData.namapenolongkelahiran]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zq,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Zq,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eH)):((0,n.uX)(),(0,n.CE)("span",tH,"Simpan"))],8,aH)])])])}var iH={name:"editBirthAttendantModal",props:{birthAttendantToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namapenolongkelahiran:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.birthAttendantToEdit}},watch:{birthAttendantToEdit:{handler(a){this.formData=a?{...a}:{namapenolongkelahiran:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namapenolongkelahiran:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await xh(this.birthAttendantToEdit.idpenolongkelahiran,this.formData),this.toast.success("Data penolong kelahiran berhasil diperbarui",{icon:"fa fa-check"})):(await Xh(this.formData),this.toast.success("Data penolong kelahiran berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data penolong kelahiran",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lH=(0,r.A)(iH,[["render",sH],["__scopeId","data-v-d821f298"]]);var nH=lH,oH={components:{AddEditBirthAttendantModal:nH},data(){return{birthAttendants:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,birthAttendantBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{birthAttendant_name:""}}},computed:{paginatedBirthAttendants(){return this.birthAttendants},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchBirthAttendants(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchBirthAttendants()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchBirthAttendants()},methods:{openAddModal(){this.birthAttendantBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.birthAttendantBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.birthAttendantBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchBirthAttendants()},async fetchBirthAttendants(){try{const a={act:"penolong-kelahiran",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Fh(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.birthAttendants=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching penolong kelahiran:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data penolong kelahiran. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Penolong Kelahiran",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Th(a),1===this.birthAttendants.length&&this.currentPage>1?this.currentPage--:this.fetchBirthAttendants(),this.toast.success("Data penolong kelahiran berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data penolong kelahiran",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchBirthAttendants()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchBirthAttendants()},resetFilters(){this.filters.namapenolongkelahiran="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchBirthAttendants()}}};const rH=(0,r.A)(oH,[["render",Gq],["__scopeId","data-v-6765e6f7"]]);var cH=rH,dH={components:{BirthAttendantsTable:cH}};const uH=(0,r.A)(dH,[["render",gq]]);var mH=uH;const kH={class:"container-fluid"},hH={class:"row widget-grid"};function gH(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("BirthPlacesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kH,[(0,n.Lk)("div",hH,[(0,n.bF)(r)])])])}const pH={class:"col-sm-12"},bH={class:"card"},fH={class:"card-body"},LH={class:"d-flex justify-content-end align-items-start mb-3"},yH={class:"d-flex gap-2"},vH={key:0,class:"fa fa-angle-up me-2"},CH={key:1,class:"fa fa-angle-down me-2"},PH={key:0,class:"border p-3 mb-3 rounded filter-section"},EH={class:"row g-2"},DH={class:"col-md-4"},MH={class:"d-flex justify-content-end gap-2 mt-3"},wH={class:"table-responsive signal-table"},FH={class:"table table-hover"},XH={key:0,class:"fa fa-sort-asc"},xH={key:1,class:"fa fa-sort-desc"},TH={key:2,class:"fa fa-sort"},SH={scope:"row"},BH={class:"btn-group"},AH=["onClick"],_H=["onClick"],jH={key:0},VH={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},IH={class:"mt-2"},NH={key:0,class:"text-muted"},UH={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},RH={class:"pagination mb-0"},QH={key:0,class:"page-item"},WH={key:1,class:"page-item disabled"},OH=["onClick"],KH={key:2,class:"page-item disabled"},$H={key:3,class:"page-item"};function GH(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-birthPlace-modal");return(0,n.uX)(),(0,n.CE)("div",pH,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"birthPlace-to-edit":i.birthPlaceBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["birthPlace-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bH,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Tempat Dilahirkan")],-1)),(0,n.Lk)("div",fH,[(0,n.Lk)("div",LH,[(0,n.Lk)("div",yH,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vH)):((0,n.uX)(),(0,n.CE)("i",CH)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",PH,[(0,n.Lk)("div",EH,[(0,n.Lk)("div",DH,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Tempat Dilahirkan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namatempatdilahirkan=a),placeholder:"Filter berdasarkan tempat dilahirkan"},null,512),[[l.Jo,i.filters.namatempatdilahirkan]])])]),(0,n.Lk)("div",MH,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wH,[(0,n.Lk)("table",FH,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namatempatdilahirkan"))},[e[14]||(e[14]=(0,n.eW)(" Tempat Dilahirkan ")),"namatempatdilahirkan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",XH)):"namatempatdilahirkan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xH)):((0,n.uX)(),(0,n.CE)("i",TH))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedBirthPlaces,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idtempatdilahirkan},[(0,n.Lk)("th",SH,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namatempatdilahirkan),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",BH,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,AH),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idtempatdilahirkan)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_H)])])]))),128)),0===o.paginatedBirthPlaces.length?((0,n.uX)(),(0,n.CE)("tr",jH,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",VH,[(0,n.Lk)("div",IH,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",NH,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",UH,[(0,n.Lk)("ul",RH,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",QH,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",WH,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,OH)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",KH,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$H,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const JH={class:"modal-header"},qH={class:"modal-title"},HH={class:"modal-body"},YH={class:"mb-3"},zH={key:0,class:"alert alert-danger mt-3"},ZH={class:"modal-footer"},aY=["disabled"],eY={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tY={key:1};function sY(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",JH,[(0,n.Lk)("h5",qH,(0,k.v_)(o.isEditMode?"Edit Data Tempat Dilahirkan":"Tambah Data Tempat Dilahirkan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",HH,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",YH,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namatempatdilahirkan",class:"form-label"},"Nama Tempat Dilahirkan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaTempatDilahirkan",placeholder:"Masukkan tempat dilahirkan","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namatempatdilahirkan=a),required:""},null,512),[[l.Jo,i.formData.namatempatdilahirkan]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zH,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ZH,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eY)):((0,n.uX)(),(0,n.CE)("span",tY,"Simpan"))],8,aY)])])])}var iY={name:"editBirthPlaceModal",props:{birthPlaceToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namatempatdilahirkan:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.birthPlaceToEdit}},watch:{birthPlaceToEdit:{handler(a){this.formData=a?{...a}:{namatempatdilahirkan:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namatempatdilahirkan:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await hh(this.birthPlaceToEdit.idtempatdilahirkan,this.formData),this.toast.success("Data tempat dilahirkan berhasil diperbarui",{icon:"fa fa-check"})):(await kh(this.formData),this.toast.success("Data tempat dilahirkan berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data tempat dilahirkan",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lY=(0,r.A)(iY,[["render",sY],["__scopeId","data-v-77c04558"]]);var nY=lY,oY={components:{AddEditBirthPlaceModal:nY},data(){return{birthPlaces:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,birthPlaceBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{birthPlace_name:""}}},computed:{paginatedBirthPlaces(){return this.birthPlaces},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchBirthPlaces(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchBirthPlaces()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchBirthPlaces()},methods:{openAddModal(){this.birthPlaceBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.birthPlaceBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.birthPlaceBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchBirthPlaces()},async fetchBirthPlaces(){try{const a={act:"tempat-dilahirkan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await mh(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.birthPlaces=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching gtempat dilahirkan:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data tempat dilahirkan. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Tempat Dilahirkan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await gh(a),1===this.birthPlaces.length&&this.currentPage>1?this.currentPage--:this.fetchBirthPlaces(),this.toast.success("Data tempat dilahirkan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data tempat dilahirkan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchBirthPlaces()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchBirthPlaces()},resetFilters(){this.filters.namatempatdilahirkan="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchBirthPlaces()}}};const rY=(0,r.A)(oY,[["render",GH],["__scopeId","data-v-1305f1c7"]]);var cY=rY,dY={components:{BirthPlacesTable:cY}};const uY=(0,r.A)(dY,[["render",gH]]);var mY=uY;const kY={class:"container-fluid"},hY={class:"row widget-grid"};function gY(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("MartialStatusesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kY,[(0,n.Lk)("div",hY,[(0,n.bF)(r)])])])}const pY={class:"col-sm-12"},bY={class:"card"},fY={class:"card-body"},LY={class:"d-flex justify-content-end align-items-start mb-3"},yY={class:"d-flex gap-2"},vY={key:0,class:"fa fa-angle-up me-2"},CY={key:1,class:"fa fa-angle-down me-2"},PY={key:0,class:"border p-3 mb-3 rounded filter-section"},EY={class:"row g-2"},DY={class:"col-md-4"},MY={class:"d-flex justify-content-end gap-2 mt-3"},wY={class:"table-responsive signal-table"},FY={class:"table table-hover"},XY={key:0,class:"fa fa-sort-asc"},xY={key:1,class:"fa fa-sort-desc"},TY={key:2,class:"fa fa-sort"},SY={scope:"row"},BY={class:"btn-group"},AY=["onClick"],_Y=["onClick"],jY={key:0},VY={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},IY={class:"mt-2"},NY={key:0,class:"text-muted"},UY={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},RY={class:"pagination mb-0"},QY={key:0,class:"page-item"},WY={key:1,class:"page-item disabled"},OY=["onClick"],KY={key:2,class:"page-item disabled"},$Y={key:3,class:"page-item"};function GY(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-martialStatus-modal");return(0,n.uX)(),(0,n.CE)("div",pY,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"martialStatus-to-edit":i.martialStatusBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["martialStatus-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bY,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Status Perkawinan")],-1)),(0,n.Lk)("div",fY,[(0,n.Lk)("div",LY,[(0,n.Lk)("div",yY,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vY)):((0,n.uX)(),(0,n.CE)("i",CY)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",PY,[(0,n.Lk)("div",EY,[(0,n.Lk)("div",DY,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Status Perkawinan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namastatusperkawinan=a),placeholder:"Filter berdasarkan nama status perkawinan"},null,512),[[l.Jo,i.filters.namastatusperkawinan]])])]),(0,n.Lk)("div",MY,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wY,[(0,n.Lk)("table",FY,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namastatusperkawinan"))},[e[14]||(e[14]=(0,n.eW)(" Nama Status Perkawinan ")),"namastatusperkawinan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",XY)):"namastatusperkawinan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xY)):((0,n.uX)(),(0,n.CE)("i",TY))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedMartialStatuses,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idstatusperkawinan},[(0,n.Lk)("th",SY,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namastatusperkawinan),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",BY,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,AY),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idstatusperkawinan)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_Y)])])]))),128)),0===o.paginatedMartialStatuses.length?((0,n.uX)(),(0,n.CE)("tr",jY,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",VY,[(0,n.Lk)("div",IY,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",NY,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",UY,[(0,n.Lk)("ul",RY,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",QY,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",WY,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,OY)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",KY,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$Y,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const JY={class:"modal-header"},qY={class:"modal-title"},HY={class:"modal-body"},YY={class:"mb-3"},zY={key:0,class:"alert alert-danger mt-3"},ZY={class:"modal-footer"},az=["disabled"],ez={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tz={key:1};function sz(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",JY,[(0,n.Lk)("h5",qY,(0,k.v_)(o.isEditMode?"Edit Data Status Perkawinan":"Tambah Data Status Perkawinan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",HY,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",YY,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namastatusperkawinan",class:"form-label"},"Nama Status Perkawinan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaStatusPerkawinan",placeholder:"Masukkan nama status perkawinan","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namastatusperkawinan=a),required:""},null,512),[[l.Jo,i.formData.namastatusperkawinan]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zY,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ZY,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",ez)):((0,n.uX)(),(0,n.CE)("span",tz,"Simpan"))],8,az)])])])}var iz={name:"editMartialStatusModal",props:{martialStatusToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namastatusperkawinan:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.martialStatusToEdit}},watch:{martialStatusToEdit:{handler(a){this.formData=a?{...a}:{namastatusperkawinan:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namastatusperkawinan:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await Ah(this.martialStatusToEdit.idstatusperkawinan,this.formData),this.toast.success("Data status perkawinan berhasil diperbarui",{icon:"fa fa-check"})):(await Bh(this.formData),this.toast.success("Data status perkawinan berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data status perkawinan",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lz=(0,r.A)(iz,[["render",sz],["__scopeId","data-v-44e499a6"]]);var nz=lz,oz={components:{AddEditMartialStatusModal:nz},data(){return{martialStatuses:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,martialStatusBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{martialStatus_name:""}}},computed:{paginatedMartialStatuses(){return this.martialStatuses},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchMartialStatuses(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchMartialStatuses()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchMartialStatuses()},methods:{openAddModal(){this.martialStatusBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.martialStatusBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.martialStatusBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchMartialStatuses()},async fetchMartialStatuses(){try{const a={act:"status-perkawinan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Sh(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.martialStatuses=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching status perkawinan:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data status perkawinan. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Status Perkawinan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await _h(a),1===this.martialStatuses.length&&this.currentPage>1?this.currentPage--:this.fetchMartialStatuses(),this.toast.success("Data status perkawinan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data status perkawinan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchMartialStatuses()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchMartialStatuses()},resetFilters(){this.filters.namastatusperkawinan="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchMartialStatuses()}}};const rz=(0,r.A)(oz,[["render",GY],["__scopeId","data-v-6ae16bcd"]]);var cz=rz,dz={components:{MartialStatusesTable:cz}};const uz=(0,r.A)(dz,[["render",gY]]);var mz=uz;const kz={class:"container-fluid"},hz={class:"row widget-grid"};function gz(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("GroupCategoriesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Kependudukan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kz,[(0,n.Lk)("div",hz,[(0,n.bF)(r)])])])}const pz={class:"col-sm-12"},bz={class:"card"},fz={class:"card-body"},Lz={class:"d-flex justify-content-end align-items-start mb-3"},yz={class:"d-flex gap-2"},vz={key:0,class:"fa fa-angle-up me-2"},Cz={key:1,class:"fa fa-angle-down me-2"},Pz={key:0,class:"border p-3 mb-3 rounded filter-section"},Ez={class:"row g-2"},Dz={class:"col-md-4"},Mz={class:"d-flex justify-content-end gap-2 mt-3"},wz={class:"table-responsive signal-table"},Fz={class:"table table-hover"},Xz={key:0,class:"fa fa-sort-asc"},xz={key:1,class:"fa fa-sort-desc"},Tz={key:2,class:"fa fa-sort"},Sz={scope:"row"},Bz={class:"btn-group"},Az=["onClick"],_z=["onClick"],jz={key:0},Vz={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},Iz={class:"mt-2"},Nz={key:0,class:"text-muted"},Uz={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},Rz={class:"pagination mb-0"},Qz={key:0,class:"page-item"},Wz={key:1,class:"page-item disabled"},Oz=["onClick"],Kz={key:2,class:"page-item disabled"},$z={key:3,class:"page-item"};function Gz(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-groupCategory-modal");return(0,n.uX)(),(0,n.CE)("div",pz,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"groupCategory-to-edit":i.groupCategoryBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["groupCategory-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bz,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Kategori Kelompok")],-1)),(0,n.Lk)("div",fz,[(0,n.Lk)("div",Lz,[(0,n.Lk)("div",yz,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vz)):((0,n.uX)(),(0,n.CE)("i",Cz)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Pz,[(0,n.Lk)("div",Ez,[(0,n.Lk)("div",Dz,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Kategori Kelompok",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namakategorikelompok=a),placeholder:"Filter berdasarkan nama kategori kelompok"},null,512),[[l.Jo,i.filters.namakategorikelompok]])])]),(0,n.Lk)("div",Mz,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wz,[(0,n.Lk)("table",Fz,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namakategorikelompok"))},[e[14]||(e[14]=(0,n.eW)(" Kategori Kelompok ")),"namakategorikelompok"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Xz)):"namakategorikelompok"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xz)):((0,n.uX)(),(0,n.CE)("i",Tz))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedGroupCategories,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkategorikelompok},[(0,n.Lk)("th",Sz,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namakategorikelompok),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",Bz,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,Az),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkategorikelompok)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_z)])])]))),128)),0===o.paginatedGroupCategories.length?((0,n.uX)(),(0,n.CE)("tr",jz,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Vz,[(0,n.Lk)("div",Iz,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",Nz,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",Uz,[(0,n.Lk)("ul",Rz,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Qz,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",Wz,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,Oz)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",Kz,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$z,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const Jz={class:"modal-header"},qz={class:"modal-title"},Hz={class:"modal-body"},Yz={class:"mb-3"},zz={key:0,class:"alert alert-danger mt-3"},Zz={class:"modal-footer"},aZ=["disabled"],eZ={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},tZ={key:1};function sZ(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Jz,[(0,n.Lk)("h5",qz,(0,k.v_)(o.isEditMode?"Edit Data Kategori Kelompok":"Tambah Data Kategori Kelompok"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Hz,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Yz,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namakategorikelompok",class:"form-label"},"Nama Kategori Kelompok",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaKategoriKelompok",placeholder:"Masukkan nama kategori kelompok","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namakategorikelompok=a),required:""},null,512),[[l.Jo,i.formData.namakategorikelompok]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zz,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Zz,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",eZ)):((0,n.uX)(),(0,n.CE)("span",tZ,"Simpan"))],8,aZ)])])])}var iZ={name:"editGroupCategoryModal",props:{groupCategoryToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namakategorikelompok:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.groupCategoryToEdit}},watch:{groupCategoryToEdit:{handler(a){this.formData=a?{...a}:{namakategorikelompok:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namakategorikelompok:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await nb(this.groupCategoryToEdit.idkategorikelompok,this.formData),this.toast.success("Data kategori kelompok berhasil diperbarui",{icon:"fa fa-check"})):(await lb(this.formData),this.toast.success("Data kategori kelompok berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data kategori kelompok",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const lZ=(0,r.A)(iZ,[["render",sZ],["__scopeId","data-v-2ed95907"]]);var nZ=lZ,oZ={components:{AddEditGroupCategoryModal:nZ},data(){return{groupCategories:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,groupCategoryBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{groupCategory_name:""}}},computed:{paginatedGroupCategories(){return this.groupCategories},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchGroupCategories(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchGroupCategories()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchGroupCategories()},methods:{openAddModal(){this.groupCategoryBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.groupCategoryBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.groupCategoryBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchGroupCategories()},async fetchGroupCategories(){try{const a={act:"kategori-kelompok",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await ib(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.groupCategories=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching kategori kelompok:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data kategori kelompok. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Kategori Kelompok",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await ob(a),1===this.groupCategories.length&&this.currentPage>1?this.currentPage--:this.fetchGroupCategories(),this.toast.success("Data kategori kelompok berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data kategori kelompok",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchGroupCategories()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchGroupCategories()},resetFilters(){this.filters.namakategorikelompok="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchGroupCategories()}}};const rZ=(0,r.A)(oZ,[["render",Gz],["__scopeId","data-v-23d5573b"]]);var cZ=rZ,dZ={components:{GroupCategoriesTable:cZ}};const uZ=(0,r.A)(dZ,[["render",gz]]);var mZ=uZ;const kZ={class:"container-fluid"},hZ={class:"row widget-grid"};function gZ(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("BudgetSourcesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Keuangan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",kZ,[(0,n.Lk)("div",hZ,[(0,n.bF)(r)])])])}const pZ={class:"col-sm-12"},bZ={class:"card"},fZ={class:"card-body"},LZ={class:"d-flex justify-content-end align-items-start mb-3"},yZ={class:"d-flex gap-2"},vZ={key:0,class:"fa fa-angle-up me-2"},CZ={key:1,class:"fa fa-angle-down me-2"},PZ={key:0,class:"border p-3 mb-3 rounded filter-section"},EZ={class:"row g-2"},DZ={class:"col-md-4"},MZ={class:"d-flex justify-content-end gap-2 mt-3"},wZ={class:"table-responsive signal-table"},FZ={class:"table table-hover"},XZ={key:0,class:"fa fa-sort-asc"},xZ={key:1,class:"fa fa-sort-desc"},TZ={key:2,class:"fa fa-sort"},SZ={scope:"row"},BZ={class:"btn-group"},AZ=["onClick"],_Z=["onClick"],jZ={key:0},VZ={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},IZ={class:"mt-2"},NZ={key:0,class:"text-muted"},UZ={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},RZ={class:"pagination mb-0"},QZ={key:0,class:"page-item"},WZ={key:1,class:"page-item disabled"},OZ=["onClick"],KZ={key:2,class:"page-item disabled"},$Z={key:3,class:"page-item"};function GZ(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-budgetSource-modal");return(0,n.uX)(),(0,n.CE)("div",pZ,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"budgetSource-to-edit":i.budgetSourceBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["budgetSource-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",bZ,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Sumber Anggaran")],-1)),(0,n.Lk)("div",fZ,[(0,n.Lk)("div",LZ,[(0,n.Lk)("div",yZ,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",vZ)):((0,n.uX)(),(0,n.CE)("i",CZ)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",PZ,[(0,n.Lk)("div",EZ,[(0,n.Lk)("div",DZ,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Sumber Anggaran",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namasumberanggaran=a),placeholder:"Filter berdasarkan nama sumber anggaran"},null,512),[[l.Jo,i.filters.namasumberanggaran]])])]),(0,n.Lk)("div",MZ,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",wZ,[(0,n.Lk)("table",FZ,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namasumberanggaran"))},[e[14]||(e[14]=(0,n.eW)(" Nama Sumber Anggaran ")),"namasumberanggaran"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",XZ)):"namasumberanggaran"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",xZ)):((0,n.uX)(),(0,n.CE)("i",TZ))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedBudgetSources,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idsumberanggaran},[(0,n.Lk)("th",SZ,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namasumberanggaran),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",BZ,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,AZ),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idsumberanggaran)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_Z)])])]))),128)),0===o.paginatedBudgetSources.length?((0,n.uX)(),(0,n.CE)("tr",jZ,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",VZ,[(0,n.Lk)("div",IZ,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",NZ,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",UZ,[(0,n.Lk)("ul",RZ,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",QZ,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",WZ,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,OZ)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",KZ,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$Z,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const JZ={class:"modal-header"},qZ={class:"modal-title"},HZ={class:"modal-body"},YZ={class:"mb-3"},zZ={key:0,class:"alert alert-danger mt-3"},ZZ={class:"modal-footer"},a0=["disabled"],e0={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},t0={key:1};function s0(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",JZ,[(0,n.Lk)("h5",qZ,(0,k.v_)(o.isEditMode?"Edit Data Sumber Anggaran":"Tambah Data Sumber Anggaran"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",HZ,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",YZ,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namasumberanggaran",class:"form-label"},"Nama Sumber Anggaran",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaSumberAnggaran",placeholder:"Masukkan nama sumber anggaran","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namasumberanggaran=a),required:""},null,512),[[l.Jo,i.formData.namasumberanggaran]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",zZ,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",ZZ,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",e0)):((0,n.uX)(),(0,n.CE)("span",t0,"Simpan"))],8,a0)])])])}var i0={name:"editBudgetSourceModal",props:{budgetSourceToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namasumberanggaran:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.budgetSourceToEdit}},watch:{budgetSourceToEdit:{handler(a){this.formData=a?{...a}:{namasumberanggaran:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namasumberanggaran:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await KC(this.budgetSourceToEdit.idsumberanggaran,this.formData),this.toast.success("Data sumber anggaran berhasil diperbarui",{icon:"fa fa-check"})):(await OC(this.formData),this.toast.success("Data sumber anggaran berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data sumber anggaran",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const l0=(0,r.A)(i0,[["render",s0],["__scopeId","data-v-738ac3c5"]]);var n0=l0,o0={components:{AddEditBudgetSourceModal:n0},data(){return{budgetSources:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,budgetSourceBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{budgetSource_name:""}}},computed:{paginatedBudgetSources(){return this.budgetSources},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchBudgetSources(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchBudgetSources()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchBudgetSources()},methods:{openAddModal(){this.budgetSourceBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.budgetSourceBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.budgetSourceBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchBudgetSources()},async fetchBudgetSources(){try{const a={act:"sumber-anggaran",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await WC(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.budgetSources=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching sumber anggaran:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data sumber anggaran. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Sumber Anggaran",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await $C(a),1===this.budgetSources.length&&this.currentPage>1?this.currentPage--:this.fetchBudgetSources(),this.toast.success("Data sumber anggaran berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data sumber anggaran",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchBudgetSources()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchBudgetSources()},resetFilters(){this.filters.namasumberanggaran="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchBudgetSources()}}};const r0=(0,r.A)(o0,[["render",GZ],["__scopeId","data-v-5b247a8e"]]);var c0=r0,d0={components:{BudgetSourcesTable:c0}};const u0=(0,r.A)(d0,[["render",gZ]]);var m0=u0;const k0={class:"container-fluid"},h0={class:"row widget-grid"};function g0(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("PositionsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Pemerintahan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",k0,[(0,n.Lk)("div",h0,[(0,n.bF)(r)])])])}const p0={class:"col-sm-12"},b0={class:"card"},f0={class:"card-body"},L0={class:"d-flex justify-content-end align-items-start mb-3"},y0={class:"d-flex gap-2"},v0={key:0,class:"fa fa-angle-up me-2"},C0={key:1,class:"fa fa-angle-down me-2"},P0={key:0,class:"border p-3 mb-3 rounded filter-section"},E0={class:"row g-2"},D0={class:"col-md-4"},M0={class:"d-flex justify-content-end gap-2 mt-3"},w0={class:"table-responsive signal-table"},F0={class:"table table-hover"},X0={key:0,class:"fa fa-sort-asc"},x0={key:1,class:"fa fa-sort-desc"},T0={key:2,class:"fa fa-sort"},S0={scope:"row"},B0={class:"btn-group"},A0=["onClick"],_0=["onClick"],j0={key:0},V0={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},I0={class:"mt-2"},N0={key:0,class:"text-muted"},U0={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},R0={class:"pagination mb-0"},Q0={key:0,class:"page-item"},W0={key:1,class:"page-item disabled"},O0=["onClick"],K0={key:2,class:"page-item disabled"},$0={key:3,class:"page-item"};function G0(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-position-modal");return(0,n.uX)(),(0,n.CE)("div",p0,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"position-to-edit":i.positionBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["position-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",b0,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Jabatan")],-1)),(0,n.Lk)("div",f0,[(0,n.Lk)("div",L0,[(0,n.Lk)("div",y0,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",v0)):((0,n.uX)(),(0,n.CE)("i",C0)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",P0,[(0,n.Lk)("div",E0,[(0,n.Lk)("div",D0,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Jabatan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namajabatan=a),placeholder:"Filter berdasarkan nama jabatan"},null,512),[[l.Jo,i.filters.namajabatan]])])]),(0,n.Lk)("div",M0,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",w0,[(0,n.Lk)("table",F0,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namajabatan"))},[e[14]||(e[14]=(0,n.eW)(" Nama Jabatan ")),"namajabatan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",X0)):"namajabatan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",x0)):((0,n.uX)(),(0,n.CE)("i",T0))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedPositions,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idjabatan},[(0,n.Lk)("th",S0,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namajabatan),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",B0,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,A0),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idjabatan)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_0)])])]))),128)),0===o.paginatedPositions.length?((0,n.uX)(),(0,n.CE)("tr",j0,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",V0,[(0,n.Lk)("div",I0,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",N0,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",U0,[(0,n.Lk)("ul",R0,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Q0,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",W0,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,O0)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",K0,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$0,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const J0={class:"modal-header"},q0={class:"modal-title"},H0={class:"modal-body"},Y0={class:"mb-3"},z0={key:0,class:"alert alert-danger mt-3"},Z0={class:"modal-footer"},a1=["disabled"],e1={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},t1={key:1};function s1(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",J0,[(0,n.Lk)("h5",q0,(0,k.v_)(o.isEditMode?"Edit Data Jabatan":"Tambah Data Jabatan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",H0,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Y0,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namajabatan",class:"form-label"},"Nama Jabatan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaJabatan",placeholder:"Masukkan nama jabatan","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namajabatan=a),required:""},null,512),[[l.Jo,i.formData.namajabatan]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",z0,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Z0,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",e1)):((0,n.uX)(),(0,n.CE)("span",t1,"Simpan"))],8,a1)])])])}var i1={name:"editPositionModal",props:{positionToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namajabatan:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.positionToEdit}},watch:{positionToEdit:{handler(a){this.formData=a?{...a}:{namajabatan:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namajabatan:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await rd(this.positionToEdit.idjabatan,this.formData),this.toast.success("Data jabatan berhasil diperbarui",{icon:"fa fa-check"})):(await od(this.formData),this.toast.success("Data jabatan berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data jabatan",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const l1=(0,r.A)(i1,[["render",s1],["__scopeId","data-v-cf7c6e52"]]);var n1=l1,o1={components:{AddEditPositionModal:n1},data(){return{positions:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,positionBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{position_name:""}}},computed:{paginatedPositions(){return this.positions},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchPositions(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchPositions()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchPositions()},methods:{openAddModal(){this.positionBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.positionBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.positionBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchPositions()},async fetchPositions(){try{const a={act:"jabatan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await nd(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.positions=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching jabatan:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data jabatan. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Jabatan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await cd(a),1===this.positions.length&&this.currentPage>1?this.currentPage--:this.fetchPositions(),this.toast.success("Data jabatan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data jabatan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchPositions()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchPositions()},resetFilters(){this.filters.namajabatan="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchPositions()}}};const r1=(0,r.A)(o1,[["render",G0],["__scopeId","data-v-53910e9d"]]);var c1=r1,d1={components:{PositionsTable:c1}};const u1=(0,r.A)(d1,[["render",g0]]);var m1=u1;const k1={class:"container-fluid"},h1={class:"row widget-grid"};function g1(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("OfficialStatusesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Pemerintahan",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",k1,[(0,n.Lk)("div",h1,[(0,n.bF)(r)])])])}const p1={class:"col-sm-12"},b1={class:"card"},f1={class:"card-body"},L1={class:"d-flex justify-content-end align-items-start mb-3"},y1={class:"d-flex gap-2"},v1={key:0,class:"fa fa-angle-up me-2"},C1={key:1,class:"fa fa-angle-down me-2"},P1={key:0,class:"border p-3 mb-3 rounded filter-section"},E1={class:"row g-2"},D1={class:"col-md-4"},M1={class:"d-flex justify-content-end gap-2 mt-3"},w1={class:"table-responsive signal-table"},F1={class:"table table-hover"},X1={key:0,class:"fa fa-sort-asc"},x1={key:1,class:"fa fa-sort-desc"},T1={key:2,class:"fa fa-sort"},S1={scope:"row"},B1={class:"btn-group"},A1=["onClick"],_1=["onClick"],j1={key:0},V1={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},I1={class:"mt-2"},N1={key:0,class:"text-muted"},U1={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},R1={class:"pagination mb-0"},Q1={key:0,class:"page-item"},W1={key:1,class:"page-item disabled"},O1=["onClick"],K1={key:2,class:"page-item disabled"},$1={key:3,class:"page-item"};function G1(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-officialStatus-modal");return(0,n.uX)(),(0,n.CE)("div",p1,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"officialStatus-to-edit":i.officialStatusBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["officialStatus-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",b1,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Status Perangkat")],-1)),(0,n.Lk)("div",f1,[(0,n.Lk)("div",L1,[(0,n.Lk)("div",y1,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",v1)):((0,n.uX)(),(0,n.CE)("i",C1)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",P1,[(0,n.Lk)("div",E1,[(0,n.Lk)("div",D1,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Status Perangkat",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namastatus=a),placeholder:"Filter berdasarkan nama status perangkat"},null,512),[[l.Jo,i.filters.namastatus]])])]),(0,n.Lk)("div",M1,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",w1,[(0,n.Lk)("table",F1,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namastatus"))},[e[14]||(e[14]=(0,n.eW)(" Nama Status Perangkat ")),"namastatus"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",X1)):"namastatus"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",x1)):((0,n.uX)(),(0,n.CE)("i",T1))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedOfficialStatuses,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idstatus},[(0,n.Lk)("th",S1,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namastatus),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",B1,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,A1),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idstatus)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_1)])])]))),128)),0===o.paginatedOfficialStatuses.length?((0,n.uX)(),(0,n.CE)("tr",j1,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",V1,[(0,n.Lk)("div",I1,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",N1,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",U1,[(0,n.Lk)("ul",R1,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Q1,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",W1,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,O1)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",K1,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$1,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const J1={class:"modal-header"},q1={class:"modal-title"},H1={class:"modal-body"},Y1={class:"mb-3"},z1={key:0,class:"alert alert-danger mt-3"},Z1={class:"modal-footer"},a2=["disabled"],e2={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},t2={key:1};function s2(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",J1,[(0,n.Lk)("h5",q1,(0,k.v_)(o.isEditMode?"Edit Data Status Perangkat":"Tambah Data Status Perangkat"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",H1,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Y1,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namastatus",class:"form-label"},"Nama Status Perangkat",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaStatus",placeholder:"Masukkan nama status perangkat","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namastatus=a),required:""},null,512),[[l.Jo,i.formData.namastatus]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",z1,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Z1,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",e2)):((0,n.uX)(),(0,n.CE)("span",t2,"Simpan"))],8,a2)])])])}var i2={name:"editOfficialStatusModal",props:{officialStatusToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namastatus:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.officialStatusToEdit}},watch:{officialStatusToEdit:{handler(a){this.formData=a?{...a}:{namastatus:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namastatus:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await id(this.officialStatusToEdit.idstatus,this.formData),this.toast.success("Data status perangkat berhasil diperbarui",{icon:"fa fa-check"})):(await sd(this.formData),this.toast.success("Data status perangkat berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data status perangkat",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const l2=(0,r.A)(i2,[["render",s2],["__scopeId","data-v-c38de6fa"]]);var n2=l2,o2={components:{AddEditOfficialStatusModal:n2},data(){return{officialStatuses:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,officialStatusBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{officialStatus_name:""}}},computed:{paginatedOfficialStatuses(){return this.officialStatuses},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchOfficialStatuses(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchOfficialStatuses()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchOfficialStatuses()},methods:{openAddModal(){this.officialStatusBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.officialStatusBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.officialStatusBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchOfficialStatuses()},async fetchOfficialStatuses(){try{const a={act:"status-perangkat",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await td(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.officialStatuses=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching status perangkat:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data status perangkat. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Status Perangkat",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await ld(a),1===this.officialStatuses.length&&this.currentPage>1?this.currentPage--:this.fetchOfficialStatuses(),this.toast.success("Data status perangkat berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data status perangkat",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchOfficialStatuses()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchOfficialStatuses()},resetFilters(){this.filters.namastatus="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchOfficialStatuses()}}};const r2=(0,r.A)(o2,[["render",G1],["__scopeId","data-v-6652f4b7"]]);var c2=r2,d2={components:{OfficialStatusesTable:c2}};const u2=(0,r.A)(d2,[["render",g1]]);var m2=u2;const k2={class:"container-fluid"},h2={class:"row widget-grid"};function g2(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("BusinessFieldsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"BUMDES",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",k2,[(0,n.Lk)("div",h2,[(0,n.bF)(r)])])])}const p2={class:"col-sm-12"},b2={class:"card"},f2={class:"card-body"},L2={class:"d-flex justify-content-end align-items-start mb-3"},y2={class:"d-flex gap-2"},v2={key:0,class:"fa fa-angle-up me-2"},C2={key:1,class:"fa fa-angle-down me-2"},P2={key:0,class:"border p-3 mb-3 rounded filter-section"},E2={class:"row g-2"},D2={class:"col-md-4"},M2={class:"d-flex justify-content-end gap-2 mt-3"},w2={class:"table-responsive signal-table"},F2={class:"table table-hover"},X2={key:0,class:"fa fa-sort-asc"},x2={key:1,class:"fa fa-sort-desc"},T2={key:2,class:"fa fa-sort"},S2={scope:"row"},B2={class:"btn-group"},A2=["onClick"],_2=["onClick"],j2={key:0},V2={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},I2={class:"mt-2"},N2={key:0,class:"text-muted"},U2={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},R2={class:"pagination mb-0"},Q2={key:0,class:"page-item"},W2={key:1,class:"page-item disabled"},O2=["onClick"],K2={key:2,class:"page-item disabled"},$2={key:3,class:"page-item"};function G2(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-businessField-modal");return(0,n.uX)(),(0,n.CE)("div",p2,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"businessField-to-edit":i.businessFieldBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["businessField-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",b2,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Bidang Usaha")],-1)),(0,n.Lk)("div",f2,[(0,n.Lk)("div",L2,[(0,n.Lk)("div",y2,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",v2)):((0,n.uX)(),(0,n.CE)("i",C2)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",P2,[(0,n.Lk)("div",E2,[(0,n.Lk)("div",D2,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Bidang Usaha",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namabidangusaha=a),placeholder:"Filter berdasarkan nama bidang usaha"},null,512),[[l.Jo,i.filters.namabidangusaha]])])]),(0,n.Lk)("div",M2,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",w2,[(0,n.Lk)("table",F2,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namabidangusaha"))},[e[14]||(e[14]=(0,n.eW)(" Nama Bidang Usaha ")),"namabidangusaha"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",X2)):"namabidangusaha"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",x2)):((0,n.uX)(),(0,n.CE)("i",T2))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedBusinessFields,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idbidangusaha},[(0,n.Lk)("th",S2,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namabidangusaha),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",B2,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,A2),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idbidangusaha)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_2)])])]))),128)),0===o.paginatedBusinessFields.length?((0,n.uX)(),(0,n.CE)("tr",j2,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",V2,[(0,n.Lk)("div",I2,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",N2,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",U2,[(0,n.Lk)("ul",R2,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Q2,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",W2,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,O2)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",K2,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$2,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const J2={class:"modal-header"},q2={class:"modal-title"},H2={class:"modal-body"},Y2={class:"mb-3"},z2={key:0,class:"alert alert-danger mt-3"},Z2={class:"modal-footer"},a3=["disabled"],e3={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},t3={key:1};function s3(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",J2,[(0,n.Lk)("h5",q2,(0,k.v_)(o.isEditMode?"Edit Data Bidang Usaha":"Tambah Data Bidang Usaha"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",H2,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Y2,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namabidangusaha",class:"form-label"},"Nama Bidang Usaha",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaBidangUsaha",placeholder:"Masukkan nama bidang usaha","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namabidangusaha=a),required:""},null,512),[[l.Jo,i.formData.namabidangusaha]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",z2,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Z2,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",e3)):((0,n.uX)(),(0,n.CE)("span",t3,"Simpan"))],8,a3)])])])}var i3={name:"editBusinessFieldModal",props:{businessFieldToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namabidangusaha:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.businessFieldToEdit}},watch:{businessFieldToEdit:{handler(a){this.formData=a?{...a}:{namabidangusaha:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namabidangusaha:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await vw(this.businessFieldToEdit.idbidangusaha,this.formData),this.toast.success("Data bidang usaha berhasil diperbarui",{icon:"fa fa-check"})):(await yw(this.formData),this.toast.success("Data bidang usaha berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data bidang usaha",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const l3=(0,r.A)(i3,[["render",s3],["__scopeId","data-v-3dd57cf6"]]);var n3=l3,o3={components:{AddEditBusinessFieldModal:n3},data(){return{businessFields:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,businessFieldBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{businessField_name:""}}},computed:{paginatedBusinessFields(){return this.businessFields},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchBusinessFields(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchBusinessFields()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchBusinessFields()},methods:{openAddModal(){this.businessFieldBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.businessFieldBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.businessFieldBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchBusinessFields()},async fetchBusinessFields(){try{const a={act:"bidang-usaha",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Lw(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.businessFields=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching bidang usaha:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data bidang usaha. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Periode Bidang Usaha",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Cw(a),1===this.businessFields.length&&this.currentPage>1?this.currentPage--:this.fetchBusinessFields(),this.toast.success("Data bidang usaha berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data bidang usaha",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchBusinessFields()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchBusinessFields()},resetFilters(){this.filters.namabidangbidangusaha="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchBusinessFields()}}};const r3=(0,r.A)(o3,[["render",G2],["__scopeId","data-v-d7b1e086"]]);var c3=r3,d3={components:{BusinessFieldsTable:c3}};const u3=(0,r.A)(d3,[["render",g2]]);var m3=u3;const k3={class:"container-fluid"},h3={class:"row widget-grid"};function g3(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ReportPeriodsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"BUMDES",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",k3,[(0,n.Lk)("div",h3,[(0,n.bF)(r)])])])}const p3={class:"col-sm-12"},b3={class:"card"},f3={class:"card-body"},L3={class:"d-flex justify-content-end align-items-start mb-3"},y3={class:"d-flex gap-2"},v3={key:0,class:"fa fa-angle-up me-2"},C3={key:1,class:"fa fa-angle-down me-2"},P3={key:0,class:"border p-3 mb-3 rounded filter-section"},E3={class:"row g-2"},D3={class:"col-md-4"},M3={class:"d-flex justify-content-end gap-2 mt-3"},w3={class:"table-responsive signal-table"},F3={class:"table table-hover"},X3={key:0,class:"fa fa-sort-asc"},x3={key:1,class:"fa fa-sort-desc"},T3={key:2,class:"fa fa-sort"},S3={scope:"row"},B3={class:"btn-group"},A3=["onClick"],_3=["onClick"],j3={key:0},V3={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},I3={class:"mt-2"},N3={key:0,class:"text-muted"},U3={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},R3={class:"pagination mb-0"},Q3={key:0,class:"page-item"},W3={key:1,class:"page-item disabled"},O3=["onClick"],K3={key:2,class:"page-item disabled"},$3={key:3,class:"page-item"};function G3(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-reportPeriod-modal");return(0,n.uX)(),(0,n.CE)("div",p3,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"reportPeriod-to-edit":i.reportPeriodBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["reportPeriod-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",b3,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Periode Laporan Usaha")],-1)),(0,n.Lk)("div",f3,[(0,n.Lk)("div",L3,[(0,n.Lk)("div",y3,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",v3)):((0,n.uX)(),(0,n.CE)("i",C3)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",P3,[(0,n.Lk)("div",E3,[(0,n.Lk)("div",D3,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Periode Laporan Usaha",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namaperiodelaporan=a),placeholder:"Filter berdasarkan nama..."},null,512),[[l.Jo,i.filters.namaperiodelaporan]])])]),(0,n.Lk)("div",M3,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",w3,[(0,n.Lk)("table",F3,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namaperiodelaporan"))},[e[14]||(e[14]=(0,n.eW)(" Nama Periode Laporan Usaha ")),"namaperiodelaporan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",X3)):"namaperiodelaporan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",x3)):((0,n.uX)(),(0,n.CE)("i",T3))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedReportPeriods,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idperiodelaporan},[(0,n.Lk)("th",S3,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namaperiodelaporan),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",B3,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,A3),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idperiodelaporan)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_3)])])]))),128)),0===o.paginatedReportPeriods.length?((0,n.uX)(),(0,n.CE)("tr",j3,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",V3,[(0,n.Lk)("div",I3,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",N3,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",U3,[(0,n.Lk)("ul",R3,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Q3,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",W3,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,O3)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",K3,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$3,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const J3={class:"modal-header"},q3={class:"modal-title"},H3={class:"modal-body"},Y3={class:"mb-3"},z3={key:0,class:"alert alert-danger mt-3"},Z3={class:"modal-footer"},a4=["disabled"],e4={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},t4={key:1};function s4(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",J3,[(0,n.Lk)("h5",q3,(0,k.v_)(o.isEditMode?"Edit Data Periode Laporan Usaha":"Tambah Data Periode Laporan Usaha"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",H3,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Y3,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namaperiodelaporan",class:"form-label"},"Nama Periode Laporan Usaha",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaPeriodeLaporan",placeholder:"Masukkan nama periode laporan","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namaperiodelaporan=a),required:""},null,512),[[l.Jo,i.formData.namaperiodelaporan]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",z3,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Z3,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",e4)):((0,n.uX)(),(0,n.CE)("span",t4,"Simpan"))],8,a4)])])])}var i4={name:"editReportPeriodModal",props:{reportPeriodToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namaperiodelaporan:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.reportPeriodToEdit}},watch:{reportPeriodToEdit:{handler(a){this.formData=a?{...a}:{namaperiodelaporan:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namaperiodelaporan:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await LT(this.reportPeriodToEdit.idperiodelaporan,this.formData),this.toast.success("Data periode laporan berhasil diperbarui",{icon:"fa fa-check"})):(await fT(this.formData),this.toast.success("Data periode laporan berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data periode laporan",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const l4=(0,r.A)(i4,[["render",s4],["__scopeId","data-v-e0b7c678"]]);var n4=l4,o4={components:{AddEditReportPeriodModal:n4},data(){return{reportPeriods:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,reportPeriodBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{reportPeriod_name:""}}},computed:{paginatedReportPeriods(){return this.reportPeriods},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchReportPeriods(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchReportPeriods()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchReportPeriods()},methods:{openAddModal(){this.reportPeriodBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.reportPeriodBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.reportPeriodBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchReportPeriods()},async fetchReportPeriods(){try{const a={act:"periode-laporan-usaha",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await bT(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.reportPeriods=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching periode laporan:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data periode laporan. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Periode Laporan Usaha",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await yT(a),1===this.reportPeriods.length&&this.currentPage>1?this.currentPage--:this.fetchReportPeriods(),this.toast.success("Data periode laporan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data periode laporan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchReportPeriods()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchReportPeriods()},resetFilters(){this.filters.namaperiodelaporan="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchReportPeriods()}}};const r4=(0,r.A)(o4,[["render",G3],["__scopeId","data-v-472ebaba"]]);var c4=r4,d4={components:{ReportPeriodsTable:c4}};const u4=(0,r.A)(d4,[["render",g3]]);var m4=u4;const k4={class:"container-fluid"},h4={class:"row widget-grid"};function g4(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("IncomingLetterTypesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Dokumen",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",k4,[(0,n.Lk)("div",h4,[(0,n.bF)(r)])])])}const p4={class:"col-sm-12"},b4={class:"card"},f4={class:"card-body"},L4={class:"d-flex justify-content-end align-items-start mb-3"},y4={class:"d-flex gap-2"},v4={key:0,class:"fa fa-angle-up me-2"},C4={key:1,class:"fa fa-angle-down me-2"},P4={key:0,class:"border p-3 mb-3 rounded filter-section"},E4={class:"row g-2"},D4={class:"col-md-4"},M4={class:"d-flex justify-content-end gap-2 mt-3"},w4={class:"table-responsive signal-table"},F4={class:"table table-hover"},X4={key:0,class:"fa fa-sort-asc"},x4={key:1,class:"fa fa-sort-desc"},T4={key:2,class:"fa fa-sort"},S4={scope:"row"},B4={class:"btn-group"},A4=["onClick"],_4=["onClick"],j4={key:0},V4={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},I4={class:"mt-2"},N4={key:0,class:"text-muted"},U4={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},R4={class:"pagination mb-0"},Q4={key:0,class:"page-item"},W4={key:1,class:"page-item disabled"},O4=["onClick"],K4={key:2,class:"page-item disabled"},$4={key:3,class:"page-item"};function G4(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-incomingLetterType-modal");return(0,n.uX)(),(0,n.CE)("div",p4,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"incomingLetterType-to-edit":i.incomingLetterTypeBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["incomingLetterType-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",b4,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Jenis Surat Masuk")],-1)),(0,n.Lk)("div",f4,[(0,n.Lk)("div",L4,[(0,n.Lk)("div",y4,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",v4)):((0,n.uX)(),(0,n.CE)("i",C4)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",P4,[(0,n.Lk)("div",E4,[(0,n.Lk)("div",D4,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Jenis Surat Masuk",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namajenissuratmasuk=a),placeholder:"Filter berdasarkan nama jenis surat masuk"},null,512),[[l.Jo,i.filters.namajenissuratmasuk]])])]),(0,n.Lk)("div",M4,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",w4,[(0,n.Lk)("table",F4,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namajenissuratmasuk"))},[e[14]||(e[14]=(0,n.eW)(" Nama Jenis Surat Masuk ")),"namajenissuratmasuk"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",X4)):"namajenissuratmasuk"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",x4)):((0,n.uX)(),(0,n.CE)("i",T4))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedIncomingLetterTypes,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idjenissuratmasuk},[(0,n.Lk)("th",S4,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namajenissuratmasuk),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",B4,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,A4),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idjenissuratmasuk)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,_4)])])]))),128)),0===o.paginatedIncomingLetterTypes.length?((0,n.uX)(),(0,n.CE)("tr",j4,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",V4,[(0,n.Lk)("div",I4,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",N4,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",U4,[(0,n.Lk)("ul",R4,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",Q4,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",W4,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,O4)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",K4,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",$4,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const J4=(a={})=>Mi.get("",{params:{act:"jenis-surat-masuk",...a}}),q4=a=>Mi.post("",{act:"jenis-surat-masuk",record:a}),H4=(a,e)=>a?Mi.put("",{act:"jenis-surat-masuk",key:a,record:e}):Promise.reject(new Error("ID jenis surat masuk tidak tersedia.")),Y4=a=>a?Mi.delete("",{data:{act:"jenis-surat-masuk",key:a}}):Promise.reject(new Error("ID jenis surat masuk tidak tersedia.")),z4={class:"modal-header"},Z4={class:"modal-title"},a5={class:"modal-body"},e5={class:"mb-3"},t5={key:0,class:"alert alert-danger mt-3"},s5={class:"modal-footer"},i5=["disabled"],l5={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},n5={key:1};function o5(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",z4,[(0,n.Lk)("h5",Z4,(0,k.v_)(o.isEditMode?"Edit Data Jenis Surat Masuk":"Tambah Data Jenis Surat Masuk"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",a5,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",e5,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namajenissuratmasuk",class:"form-label"},"Nama Jenis Surat Masuk",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaJenisSuratMasuk",placeholder:"Masukkan nama jenis surat masuk","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namajenissuratmasuk=a),required:""},null,512),[[l.Jo,i.formData.namajenissuratmasuk]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",t5,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",s5,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",l5)):((0,n.uX)(),(0,n.CE)("span",n5,"Simpan"))],8,i5)])])])}var r5={name:"editIncomingLetterTypeModal",props:{incomingLetterTypeToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namajenissuratmasuk:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.incomingLetterTypeToEdit}},watch:{incomingLetterTypeToEdit:{handler(a){this.formData=a?{...a}:{namajenissuratmasuk:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namajenissuratmasuk:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await H4(this.incomingLetterTypeToEdit.idjenissuratmasuk,this.formData),this.toast.success("Data jenis surat masuk berhasil diperbarui",{icon:"fa fa-check"})):(await q4(this.formData),this.toast.success("Data jenis surat masuk berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data jenis surat masuk",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const c5=(0,r.A)(r5,[["render",o5],["__scopeId","data-v-46998b37"]]);var d5=c5,u5={components:{AddEditIncomingLetterTypeModal:d5},data(){return{incomingLetterTypes:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,incomingLetterTypeBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{incomingLetterType_name:""}}},computed:{paginatedIncomingLetterTypes(){return this.incomingLetterTypes},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchIncomingLetterTypes(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchIncomingLetterTypes()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchIncomingLetterTypes()},methods:{openAddModal(){this.incomingLetterTypeBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.incomingLetterTypeBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.incomingLetterTypeBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchIncomingLetterTypes()},async fetchIncomingLetterTypes(){try{const a={act:"jenis-surat-masuk",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await J4(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.incomingLetterTypes=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching jenis surat masuk:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data jenis surat masuk. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Jenis Surat Masuk",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Y4(a),1===this.incomingLetterTypes.length&&this.currentPage>1?this.currentPage--:this.fetchIncomingLetterTypes(),this.toast.success("Data jenis surat masuk berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data jenis surat masuk",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchIncomingLetterTypes()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchIncomingLetterTypes()},resetFilters(){this.filters.namajenissuratmasuk="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchIncomingLetterTypes()}}};const m5=(0,r.A)(u5,[["render",G4],["__scopeId","data-v-cc2fdd26"]]);var k5=m5,h5={components:{IncomingLetterTypesTable:k5}};const g5=(0,r.A)(h5,[["render",g4]]);var p5=g5;const b5={class:"container-fluid"},f5={class:"row widget-grid"};function L5(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("OutgoingLetterTypesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Dokumen",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",b5,[(0,n.Lk)("div",f5,[(0,n.bF)(r)])])])}const y5={class:"col-sm-12"},v5={class:"card"},C5={class:"card-body"},P5={class:"d-flex justify-content-end align-items-start mb-3"},E5={class:"d-flex gap-2"},D5={key:0,class:"fa fa-angle-up me-2"},M5={key:1,class:"fa fa-angle-down me-2"},w5={key:0,class:"border p-3 mb-3 rounded filter-section"},F5={class:"row g-2"},X5={class:"col-md-4"},x5={class:"d-flex justify-content-end gap-2 mt-3"},T5={class:"table-responsive signal-table"},S5={class:"table table-hover"},B5={key:0,class:"fa fa-sort-asc"},A5={key:1,class:"fa fa-sort-desc"},_5={key:2,class:"fa fa-sort"},j5={scope:"row"},V5={class:"btn-group"},I5=["onClick"],N5=["onClick"],U5={key:0},R5={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},Q5={class:"mt-2"},W5={key:0,class:"text-muted"},O5={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},K5={class:"pagination mb-0"},$5={key:0,class:"page-item"},G5={key:1,class:"page-item disabled"},J5=["onClick"],q5={key:2,class:"page-item disabled"},H5={key:3,class:"page-item"};function Y5(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-outgoingLetterType-modal");return(0,n.uX)(),(0,n.CE)("div",y5,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"outgoingLetterType-to-edit":i.outgoingLetterTypeBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["outgoingLetterType-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",v5,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Jenis Surat Keluar")],-1)),(0,n.Lk)("div",C5,[(0,n.Lk)("div",P5,[(0,n.Lk)("div",E5,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",D5)):((0,n.uX)(),(0,n.CE)("i",M5)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",w5,[(0,n.Lk)("div",F5,[(0,n.Lk)("div",X5,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Jenis Surat Keluar",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namajenissuratkeluar=a),placeholder:"Filter berdasarkan nama jenis surat keluar"},null,512),[[l.Jo,i.filters.namajenissuratkeluar]])])]),(0,n.Lk)("div",x5,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",T5,[(0,n.Lk)("table",S5,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namajenissuratkeluar"))},[e[14]||(e[14]=(0,n.eW)(" Nama Jenis Surat Keluar ")),"namajenissuratkeluar"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",B5)):"namajenissuratkeluar"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",A5)):((0,n.uX)(),(0,n.CE)("i",_5))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedOutgoingLetterTypes,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idjenissuratkeluar},[(0,n.Lk)("th",j5,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namajenissuratkeluar),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",V5,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,I5),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idjenissuratkeluar)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,N5)])])]))),128)),0===o.paginatedOutgoingLetterTypes.length?((0,n.uX)(),(0,n.CE)("tr",U5,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",R5,[(0,n.Lk)("div",Q5,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",W5,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",O5,[(0,n.Lk)("ul",K5,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",$5,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",G5,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,J5)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",q5,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",H5,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const z5=(a={})=>Mi.get("",{params:{act:"jenis-surat-keluar",...a}}),Z5=a=>Mi.post("",{act:"jenis-surat-keluar",record:a}),a8=(a,e)=>a?Mi.put("",{act:"jenis-surat-keluar",key:a,record:e}):Promise.reject(new Error("ID jenis surat keluar tidak tersedia.")),e8=a=>a?Mi.delete("",{data:{act:"jenis-surat-keluar",key:a}}):Promise.reject(new Error("ID jenis surat keluar tidak tersedia.")),t8={class:"modal-header"},s8={class:"modal-title"},i8={class:"modal-body"},l8={class:"mb-3"},n8={key:0,class:"alert alert-danger mt-3"},o8={class:"modal-footer"},r8=["disabled"],c8={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},d8={key:1};function u8(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",t8,[(0,n.Lk)("h5",s8,(0,k.v_)(o.isEditMode?"Edit Data Jenis Surat Keluar":"Tambah Data Jenis Surat Keluar"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",i8,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",l8,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namajenissuratkeluar",class:"form-label"},"Nama Jenis Surat Keluar",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaJenisSuratKeluar",placeholder:"Masukkan nama jenis surat keluar","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namajenissuratkeluar=a),required:""},null,512),[[l.Jo,i.formData.namajenissuratkeluar]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",n8,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",o8,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",c8)):((0,n.uX)(),(0,n.CE)("span",d8,"Simpan"))],8,r8)])])])}var m8={name:"editOutgoingLetterTypeModal",props:{outgoingLetterTypeToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namajenissuratkeluar:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.outgoingLetterTypeToEdit}},watch:{outgoingLetterTypeToEdit:{handler(a){this.formData=a?{...a}:{namajenissuratkeluar:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namajenissuratkeluar:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await a8(this.outgoingLetterTypeToEdit.idjenissuratkeluar,this.formData),this.toast.success("Data jenis surat keluar berhasil diperbarui",{icon:"fa fa-check"})):(await Z5(this.formData),this.toast.success("Data jenis surat keluar berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data jenis surat keluar",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const k8=(0,r.A)(m8,[["render",u8],["__scopeId","data-v-7d802644"]]);var h8=k8,g8={components:{AddEditOutgoingLetterTypeModal:h8},data(){return{outgoingLetterTypes:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,outgoingLetterTypeBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{outgoingLetterType_name:""}}},computed:{paginatedOutgoingLetterTypes(){return this.outgoingLetterTypes},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchOutgoingLetterTypes(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchOutgoingLetterTypes()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchOutgoingLetterTypes()},methods:{openAddModal(){this.outgoingLetterTypeBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.outgoingLetterTypeBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.outgoingLetterTypeBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchOutgoingLetterTypes()},async fetchOutgoingLetterTypes(){try{const a={act:"jenis-surat-keluar",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await z5(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.outgoingLetterTypes=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching jenis surat keluar:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data jenis surat keluar. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Jenis Surat Keluar",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await e8(a),1===this.outgoingLetterTypes.length&&this.currentPage>1?this.currentPage--:this.fetchOutgoingLetterTypes(),this.toast.success("Data jenis surat keluar berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data jenis surat keluar",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchOutgoingLetterTypes()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchOutgoingLetterTypes()},resetFilters(){this.filters.namajenissuratkeluar="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchOutgoingLetterTypes()}}};const p8=(0,r.A)(g8,[["render",Y5],["__scopeId","data-v-f4428b32"]]);var b8=p8,f8={components:{OutgoingLetterTypesTable:b8}};const L8=(0,r.A)(f8,[["render",L5]]);var y8=L8;const v8={class:"container-fluid"},C8={class:"row widget-grid"};function P8(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("RegulationTypesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Dokumen",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",v8,[(0,n.Lk)("div",C8,[(0,n.bF)(r)])])])}const E8={class:"col-sm-12"},D8={class:"card"},M8={class:"card-body"},w8={class:"d-flex justify-content-end align-items-start mb-3"},F8={class:"d-flex gap-2"},X8={key:0,class:"fa fa-angle-up me-2"},x8={key:1,class:"fa fa-angle-down me-2"},T8={key:0,class:"border p-3 mb-3 rounded filter-section"},S8={class:"row g-2"},B8={class:"col-md-4"},A8={class:"d-flex justify-content-end gap-2 mt-3"},_8={class:"table-responsive signal-table"},j8={class:"table table-hover"},V8={key:0,class:"fa fa-sort-asc"},I8={key:1,class:"fa fa-sort-desc"},N8={key:2,class:"fa fa-sort"},U8={scope:"row"},R8={class:"btn-group"},Q8=["onClick"],W8=["onClick"],O8={key:0},K8={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},$8={class:"mt-2"},G8={key:0,class:"text-muted"},J8={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},q8={class:"pagination mb-0"},H8={key:0,class:"page-item"},Y8={key:1,class:"page-item disabled"},z8=["onClick"],Z8={key:2,class:"page-item disabled"},a6={key:3,class:"page-item"};function e6(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-regulationType-modal");return(0,n.uX)(),(0,n.CE)("div",E8,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"regulationType-to-edit":i.regulationTypeBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["regulationType-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",D8,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Jenis Regulasi")],-1)),(0,n.Lk)("div",M8,[(0,n.Lk)("div",w8,[(0,n.Lk)("div",F8,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",X8)):((0,n.uX)(),(0,n.CE)("i",x8)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",T8,[(0,n.Lk)("div",S8,[(0,n.Lk)("div",B8,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Jenis Regulasi",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namajenisregulasi=a),placeholder:"Filter berdasarkan nama jenis regulasi"},null,512),[[l.Jo,i.filters.namajenisregulasi]])])]),(0,n.Lk)("div",A8,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",_8,[(0,n.Lk)("table",j8,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namajenisregulasi"))},[e[14]||(e[14]=(0,n.eW)(" Nama Jenis Regulasi ")),"namajenisregulasi"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",V8)):"namajenisregulasi"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",I8)):((0,n.uX)(),(0,n.CE)("i",N8))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedRegulationTypes,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idjenisregulasi},[(0,n.Lk)("th",U8,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namajenisregulasi),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",R8,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,Q8),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idjenisregulasi)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,W8)])])]))),128)),0===o.paginatedRegulationTypes.length?((0,n.uX)(),(0,n.CE)("tr",O8,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",K8,[(0,n.Lk)("div",$8,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",G8,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",J8,[(0,n.Lk)("ul",q8,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",H8,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",Y8,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,z8)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",Z8,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",a6,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const t6=(a={})=>Mi.get("",{params:{act:"jenis-regulasi",...a}}),s6=a=>Mi.post("",{act:"jenis-regulasi",record:a}),i6=(a,e)=>a?Mi.put("",{act:"jenis-regulasi",key:a,record:e}):Promise.reject(new Error("ID jenis regulasi tidak tersedia.")),l6=a=>a?Mi.delete("",{data:{act:"jenis-regulasi",key:a}}):Promise.reject(new Error("ID jenis regulasi tidak tersedia.")),n6={class:"modal-header"},o6={class:"modal-title"},r6={class:"modal-body"},c6={class:"mb-3"},d6={key:0,class:"alert alert-danger mt-3"},u6={class:"modal-footer"},m6=["disabled"],k6={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},h6={key:1};function g6(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",n6,[(0,n.Lk)("h5",o6,(0,k.v_)(o.isEditMode?"Edit Data Jenis Regulasi":"Tambah Data Jenis Regulasi"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",r6,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",c6,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namajenisregulasi",class:"form-label"},"Nama Jenis Regulasi",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaJenisRegulasi",placeholder:"Masukkan nama jenis regulasi","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namajenisregulasi=a),required:""},null,512),[[l.Jo,i.formData.namajenisregulasi]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",d6,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",u6,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",k6)):((0,n.uX)(),(0,n.CE)("span",h6,"Simpan"))],8,m6)])])])}var p6={name:"editRegulationTypeModal",props:{regulationTypeToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namajenisregulasi:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.regulationTypeToEdit}},watch:{regulationTypeToEdit:{handler(a){this.formData=a?{...a}:{namajenisregulasi:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namajenisregulasi:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await i6(this.regulationTypeToEdit.idjenisregulasi,this.formData),this.toast.success("Data jenis regulasi berhasil diperbarui",{icon:"fa fa-check"})):(await s6(this.formData),this.toast.success("Data jenis regulasi berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data jenis regulasi",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const b6=(0,r.A)(p6,[["render",g6],["__scopeId","data-v-39adc3f2"]]);var f6=b6,L6={components:{AddEditRegulationTypeModal:f6},data(){return{regulationTypes:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,regulationTypeBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{regulationType_name:""}}},computed:{paginatedRegulationTypes(){return this.regulationTypes},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchRegulationTypes(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchRegulationTypes()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchRegulationTypes()},methods:{openAddModal(){this.regulationTypeBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.regulationTypeBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.regulationTypeBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchRegulationTypes()},async fetchRegulationTypes(){try{const a={act:"jenis-regulasi",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await t6(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.regulationTypes=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching jenis regulasi:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data jenis regulasi. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Jenis Regulasi",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await l6(a),1===this.regulationTypes.length&&this.currentPage>1?this.currentPage--:this.fetchRegulationTypes(),this.toast.success("Data jenis regulasi berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data jenis regulasi",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchRegulationTypes()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchRegulationTypes()},resetFilters(){this.filters.namajenisregulasi="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchRegulationTypes()}}};const y6=(0,r.A)(L6,[["render",e6],["__scopeId","data-v-7bd3d2b0"]]);var v6=y6,C6={components:{RegulationTypesTable:v6}};const P6=(0,r.A)(C6,[["render",P8]]);var E6=P6;const D6={class:"container-fluid"},M6={class:"row widget-grid"};function w6(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("LegalStatusesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",D6,[(0,n.Lk)("div",M6,[(0,n.bF)(r)])])])}const F6={class:"col-sm-12"},X6={class:"card"},x6={class:"card-body"},T6={class:"d-flex justify-content-end align-items-start mb-3"},S6={class:"d-flex gap-2"},B6={key:0,class:"fa fa-angle-up me-2"},A6={key:1,class:"fa fa-angle-down me-2"},_6={key:0,class:"border p-3 mb-3 rounded filter-section"},j6={class:"row g-2"},V6={class:"col-md-4"},I6={class:"d-flex justify-content-end gap-2 mt-3"},N6={class:"table-responsive signal-table"},U6={class:"table table-hover"},R6={key:0,class:"fa fa-sort-asc"},Q6={key:1,class:"fa fa-sort-desc"},W6={key:2,class:"fa fa-sort"},O6={scope:"row"},K6={class:"btn-group"},$6=["onClick"],G6=["onClick"],J6={key:0},q6={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},H6={class:"mt-2"},Y6={key:0,class:"text-muted"},z6={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},Z6={class:"pagination mb-0"},a7={key:0,class:"page-item"},e7={key:1,class:"page-item disabled"},t7=["onClick"],s7={key:2,class:"page-item disabled"},i7={key:3,class:"page-item"};function l7(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-legalStatus-modal");return(0,n.uX)(),(0,n.CE)("div",F6,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"legalStatus-to-edit":i.legalStatusBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["legalStatus-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",X6,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Status Hak")],-1)),(0,n.Lk)("div",x6,[(0,n.Lk)("div",T6,[(0,n.Lk)("div",S6,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",B6)):((0,n.uX)(),(0,n.CE)("i",A6)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",_6,[(0,n.Lk)("div",j6,[(0,n.Lk)("div",V6,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Status Hak",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namastatushak=a),placeholder:"Filter berdasarkan nama status hak"},null,512),[[l.Jo,i.filters.namastatushak]])])]),(0,n.Lk)("div",I6,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",N6,[(0,n.Lk)("table",U6,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namastatushak"))},[e[14]||(e[14]=(0,n.eW)(" Nama Status Hak ")),"namastatushak"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",R6)):"namastatushakhak"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Q6)):((0,n.uX)(),(0,n.CE)("i",W6))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedLegalStatuses,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idstatushak},[(0,n.Lk)("th",O6,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namastatushak),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",K6,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,$6),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idstatushak)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,G6)])])]))),128)),0===o.paginatedLegalStatuses.length?((0,n.uX)(),(0,n.CE)("tr",J6,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",q6,[(0,n.Lk)("div",H6,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",Y6,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",z6,[(0,n.Lk)("ul",Z6,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",a7,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",e7,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,t7)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",s7,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",i7,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const n7=(a={})=>Mi.get("",{params:{act:"status-hak",...a}}),o7=a=>Mi.post("",{act:"status-hak",record:a}),r7=(a,e)=>a?Mi.put("",{act:"status-hak",key:a,record:e}):Promise.reject(new Error("ID status hak tidak tersedia.")),c7=a=>a?Mi.delete("",{data:{act:"status-hak",key:a}}):Promise.reject(new Error("ID status hak tidak tersedia.")),d7={class:"modal-header"},u7={class:"modal-title"},m7={class:"modal-body"},k7={class:"mb-3"},h7={key:0,class:"alert alert-danger mt-3"},g7={class:"modal-footer"},p7=["disabled"],b7={key:0,class:"spinner-border spinner-border-sm",role:"statushak","aria-hidden":"true"},f7={key:1};function L7(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",d7,[(0,n.Lk)("h5",u7,(0,k.v_)(o.isEditMode?"Edit Data Status Hak":"Tambah Data Status Hak"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",m7,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",k7,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namastatushak",class:"form-label"},"Nama Status Hak",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaStatusHak",placeholder:"Masukkan nama status hak","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namastatushak=a),required:""},null,512),[[l.Jo,i.formData.namastatushak]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",h7,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",g7,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",b7)):((0,n.uX)(),(0,n.CE)("span",f7,"Simpan"))],8,p7)])])])}var y7={name:"editLegalStatusModal",props:{legalStatusToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namastatushak:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.legalStatusToEdit}},watch:{legalStatusToEdit:{handler(a){this.formData=a?{...a}:{namastatushak:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namastatushak:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await r7(this.legalStatusToEdit.idstatushak,this.formData),this.toast.success("Data status hak berhasil diperbarui",{icon:"fa fa-check"})):(await o7(this.formData),this.toast.success("Data status hak berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data status hak",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const v7=(0,r.A)(y7,[["render",L7],["__scopeId","data-v-2eab63b4"]]);var C7=v7,P7={components:{AddEditLegalStatusModal:C7},data(){return{legalStatuses:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,legalStatusBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{legalStatus_name:""}}},computed:{paginatedLegalStatuses(){return this.legalStatuses},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchLegalStatuses(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchLegalStatuses()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchLegalStatuses()},methods:{openAddModal(){this.legalStatusBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.legalStatusBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.legalStatusBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchLegalStatuses()},async fetchLegalStatuses(){try{const a={act:"status-hak",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await n7(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.legalStatuses=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching status hak:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data status hak. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Status Hak",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await c7(a),1===this.legalStatuses.length&&this.currentPage>1?this.currentPage--:this.fetchLegalStatuses(),this.toast.success("Data status hak berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data status hak",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchLegalStatuses()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchLegalStatuses()},resetFilters(){this.filters.namastatushak="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchLegalStatuses()}}};const E7=(0,r.A)(P7,[["render",l7],["__scopeId","data-v-02069e48"]]);var D7=E7,M7={components:{LegalStatusesTable:D7}};const w7=(0,r.A)(M7,[["render",w6]]);var F7=w7;const X7={class:"container-fluid"},x7={class:"row widget-grid"};function T7(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("LandOriginsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",X7,[(0,n.Lk)("div",x7,[(0,n.bF)(r)])])])}const S7={class:"col-sm-12"},B7={class:"card"},A7={class:"card-body"},_7={class:"d-flex justify-content-end align-items-start mb-3"},j7={class:"d-flex gap-2"},V7={key:0,class:"fa fa-angle-up me-2"},I7={key:1,class:"fa fa-angle-down me-2"},N7={key:0,class:"border p-3 mb-3 rounded filter-section"},U7={class:"row g-2"},R7={class:"col-md-4"},Q7={class:"d-flex justify-content-end gap-2 mt-3"},W7={class:"table-responsive signal-table"},O7={class:"table table-hover"},K7={key:0,class:"fa fa-sort-asc"},$7={key:1,class:"fa fa-sort-desc"},G7={key:2,class:"fa fa-sort"},J7={scope:"row"},q7={class:"btn-group"},H7=["onClick"],Y7=["onClick"],z7={key:0},Z7={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},a9={class:"mt-2"},e9={key:0,class:"text-muted"},t9={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},s9={class:"pagination mb-0"},i9={key:0,class:"page-item"},l9={key:1,class:"page-item disabled"},n9=["onClick"],o9={key:2,class:"page-item disabled"},r9={key:3,class:"page-item"};function c9(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-landOrigin-modal");return(0,n.uX)(),(0,n.CE)("div",S7,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"landOrigin-to-edit":i.landOriginBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["landOrigin-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",B7,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Asal-Usul Tanah")],-1)),(0,n.Lk)("div",A7,[(0,n.Lk)("div",_7,[(0,n.Lk)("div",j7,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",V7)):((0,n.uX)(),(0,n.CE)("i",I7)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",N7,[(0,n.Lk)("div",U7,[(0,n.Lk)("div",R7,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Asal-Usul Tanah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namaasalusultanah=a),placeholder:"Filter berdasarkan nama..."},null,512),[[l.Jo,i.filters.namaasalusultanah]])])]),(0,n.Lk)("div",Q7,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",W7,[(0,n.Lk)("table",O7,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namaasalusultanah"))},[e[14]||(e[14]=(0,n.eW)(" Nama Asal-Usul Tanah ")),"namaasalusultanah"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",K7)):"namaasalusultanah"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",$7)):((0,n.uX)(),(0,n.CE)("i",G7))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedLandOrigins,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idasalusultanah},[(0,n.Lk)("th",J7,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namaasalusultanah),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",q7,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,H7),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idasalusultanah)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,Y7)])])]))),128)),0===o.paginatedLandOrigins.length?((0,n.uX)(),(0,n.CE)("tr",z7,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Z7,[(0,n.Lk)("div",a9,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",e9,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",t9,[(0,n.Lk)("ul",s9,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",i9,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",l9,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,n9)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",o9,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",r9,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const d9=(a={})=>Mi.get("",{params:{act:"asal-usul-tanah",...a}}),u9=a=>Mi.post("",{act:"asal-usul-tanah",record:a}),m9=(a,e)=>a?Mi.put("",{act:"asal-usul-tanah",key:a,record:e}):Promise.reject(new Error("ID asal usul tanah tidak tersedia.")),k9=a=>a?Mi.delete("",{data:{act:"asal-usul-tanah",key:a}}):Promise.reject(new Error("ID asal usul tanah tidak tersedia.")),h9={class:"modal-header"},g9={class:"modal-title"},p9={class:"modal-body"},b9={class:"mb-3"},f9={key:0,class:"alert alert-danger mt-3"},L9={class:"modal-footer"},y9=["disabled"],v9={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},C9={key:1};function P9(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",h9,[(0,n.Lk)("h5",g9,(0,k.v_)(o.isEditMode?"Edit Data Asal-Usul Tanah":"Tambah Data Asal-Usul Tanah"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",p9,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",b9,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namaasalusultanah",class:"form-label"},"Nama Asal-Usul Tanah",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaAsalUsulTanah",placeholder:"Masukkan nama asal-usul tanah","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namaasalusultanah=a),required:""},null,512),[[l.Jo,i.formData.namaasalusultanah]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",f9,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",L9,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",v9)):((0,n.uX)(),(0,n.CE)("span",C9,"Simpan"))],8,y9)])])])}var E9={name:"editLandOriginModal",props:{landOriginToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namaasalusultanah:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.landOriginToEdit}},watch:{landOriginToEdit:{handler(a){this.formData=a?{...a}:{namaasalusultanah:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namaasalusultanah:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await m9(this.landOriginToEdit.idasalusultanah,this.formData),this.toast.success("Data asal-usul tanah berhasil diperbarui",{icon:"fa fa-check"})):(await u9(this.formData),this.toast.success("Data asal-usul tanah berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data asal-usul tanah",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const D9=(0,r.A)(E9,[["render",P9],["__scopeId","data-v-4261b419"]]);var M9=D9,w9={components:{AddEditLandOriginModal:M9},data(){return{landOrigins:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,landOriginBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{landOrigin_name:""}}},computed:{paginatedLandOrigins(){return this.landOrigins},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchLandOrigins(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchLandOrigins()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchLandOrigins()},methods:{openAddModal(){this.landOriginBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.landOriginBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.landOriginBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchLandOrigins()},async fetchLandOrigins(){try{const a={act:"asal-usul-tanah",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await d9(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.landOrigins=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching asal-usul tanah:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data asal-usul tanah. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Asal-Usul Tanah",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await k9(a),1===this.landOrigins.length&&this.currentPage>1?this.currentPage--:this.fetchLandOrigins(),this.toast.success("Data asal-usul tanah berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data asal-usul tanah",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchLandOrigins()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchLandOrigins()},resetFilters(){this.filters.namaasalusultanah="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchLandOrigins()}}};const F9=(0,r.A)(w9,[["render",c9],["__scopeId","data-v-d18a642c"]]);var X9=F9,x9={components:{LandOriginsTable:X9}};const T9=(0,r.A)(x9,[["render",T7]]);var S9=T9;const B9={class:"container-fluid"},A9={class:"row widget-grid"};function _9(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("AcquisitionProceduresTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",B9,[(0,n.Lk)("div",A9,[(0,n.bF)(r)])])])}const j9={class:"col-sm-12"},V9={class:"card"},I9={class:"card-body"},N9={class:"d-flex justify-content-end align-items-start mb-3"},U9={class:"d-flex gap-2"},R9={key:0,class:"fa fa-angle-up me-2"},Q9={key:1,class:"fa fa-angle-down me-2"},W9={key:0,class:"border p-3 mb-3 rounded filter-section"},O9={class:"row g-2"},K9={class:"col-md-4"},$9={class:"d-flex justify-content-end gap-2 mt-3"},G9={class:"table-responsive signal-table"},J9={class:"table table-hover"},q9={key:0,class:"fa fa-sort-asc"},H9={key:1,class:"fa fa-sort-desc"},Y9={key:2,class:"fa fa-sort"},z9={scope:"row"},Z9={class:"btn-group"},aaa=["onClick"],eaa=["onClick"],taa={key:0},saa={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},iaa={class:"mt-2"},laa={key:0,class:"text-muted"},naa={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},oaa={class:"pagination mb-0"},raa={key:0,class:"page-item"},caa={key:1,class:"page-item disabled"},daa=["onClick"],uaa={key:2,class:"page-item disabled"},maa={key:3,class:"page-item"};function kaa(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-acquisitionProcedure-modal");return(0,n.uX)(),(0,n.CE)("div",j9,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"acquisitionProcedure-to-edit":i.acquisitionProcedureBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["acquisitionProcedure-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",V9,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Prosedur Penguasaan")],-1)),(0,n.Lk)("div",I9,[(0,n.Lk)("div",N9,[(0,n.Lk)("div",U9,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",R9)):((0,n.uX)(),(0,n.CE)("i",Q9)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",W9,[(0,n.Lk)("div",O9,[(0,n.Lk)("div",K9,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Prosedur Penguasaan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namaprosedurpenguasaan=a),placeholder:"Filter berdasarkan nama prosedur penguasaan"},null,512),[[l.Jo,i.filters.namaprosedurpenguasaan]])])]),(0,n.Lk)("div",$9,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",G9,[(0,n.Lk)("table",J9,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namaprosedurpenguasaan"))},[e[14]||(e[14]=(0,n.eW)(" Nama Prosedur Penguasaan ")),"namaprosedurpenguasaan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",q9)):"namaprosedurpenguasaan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",H9)):((0,n.uX)(),(0,n.CE)("i",Y9))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedAcquisitionProcedures,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idprosedurpenguasaan},[(0,n.Lk)("th",z9,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namaprosedurpenguasaan),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",Z9,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,aaa),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idprosedurpenguasaan)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,eaa)])])]))),128)),0===o.paginatedAcquisitionProcedures.length?((0,n.uX)(),(0,n.CE)("tr",taa,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",saa,[(0,n.Lk)("div",iaa,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",laa,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",naa,[(0,n.Lk)("ul",oaa,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",raa,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",caa,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,daa)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",uaa,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",maa,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const haa=(a={})=>Mi.get("",{params:{act:"prosedur-penguasaan",...a}}),gaa=a=>Mi.post("",{act:"prosedur-penguasaan",record:a}),paa=(a,e)=>a?Mi.put("",{act:"prosedur-penguasaan",key:a,record:e}):Promise.reject(new Error("ID prosedur penguasaan tidak tersedia.")),baa=a=>a?Mi.delete("",{data:{act:"prosedur-penguasaan",key:a}}):Promise.reject(new Error("ID prosedur penguasaan tidak tersedia.")),faa={class:"modal-header"},Laa={class:"modal-title"},yaa={class:"modal-body"},vaa={class:"mb-3"},Caa={key:0,class:"alert alert-danger mt-3"},Paa={class:"modal-footer"},Eaa=["disabled"],Daa={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Maa={key:1};function waa(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",faa,[(0,n.Lk)("h5",Laa,(0,k.v_)(o.isEditMode?"Edit Data Prosedur Penguasaan":"Tambah Data Prosedur Penguasaan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",yaa,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",vaa,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namaprosedurpenguasaan",class:"form-label"},"Nama Prosedur Penguasaan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaProsedurPenguasaan",placeholder:"Masukkan nama prosedur penguasaan","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namaprosedurpenguasaan=a),required:""},null,512),[[l.Jo,i.formData.namaprosedurpenguasaan]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Caa,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Paa,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Daa)):((0,n.uX)(),(0,n.CE)("span",Maa,"Simpan"))],8,Eaa)])])])}var Faa={name:"editAcquisitionProcedureModal",props:{acquisitionProcedureToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namaprosedurpenguasaan:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.acquisitionProcedureToEdit}},watch:{acquisitionProcedureToEdit:{handler(a){this.formData=a?{...a}:{namaprosedurpenguasaan:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namaprosedurpenguasaan:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await paa(this.acquisitionProcedureToEdit.idprosedurpenguasaan,this.formData),this.toast.success("Data prosedur penguasaan berhasil diperbarui",{icon:"fa fa-check"})):(await gaa(this.formData),this.toast.success("Data prosedur penguasaan berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data prosedur penguasaan",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const Xaa=(0,r.A)(Faa,[["render",waa],["__scopeId","data-v-0f299ec4"]]);var xaa=Xaa,Taa={components:{AddEditAcquisitionProcedureModal:xaa},data(){return{acquisitionProcedures:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,acquisitionProcedureBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{acquisitionProcedure_name:""}}},computed:{paginatedAcquisitionProcedures(){return this.acquisitionProcedures},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchAcquisitionProcedures(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchAcquisitionProcedures()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchAcquisitionProcedures()},methods:{openAddModal(){this.acquisitionProcedureBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.acquisitionProcedureBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.acquisitionProcedureBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchAcquisitionProcedures()},async fetchAcquisitionProcedures(){try{const a={act:"prosedur-penguasaan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await haa(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.acquisitionProcedures=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching prosedur penguasaan:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data prosedur penguasaan. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Prosedur Penguasaan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await baa(a),1===this.acquisitionProcedures.length&&this.currentPage>1?this.currentPage--:this.fetchAcquisitionProcedures(),this.toast.success("Data prosedur penguasaan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data prosedur penguasaan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchAcquisitionProcedures()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchAcquisitionProcedures()},resetFilters(){this.filters.namaprosedurpenguasaan="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchAcquisitionProcedures()}}};const Saa=(0,r.A)(Taa,[["render",kaa],["__scopeId","data-v-b834934c"]]);var Baa=Saa,Aaa={components:{AcquisitionProceduresTable:Baa}};const _aa=(0,r.A)(Aaa,[["render",_9]]);var jaa=_aa;const Vaa={class:"container-fluid"},Iaa={class:"row widget-grid"};function Naa(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("AcquisitionsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",Vaa,[(0,n.Lk)("div",Iaa,[(0,n.bF)(r)])])])}const Uaa={class:"col-sm-12"},Raa={class:"card"},Qaa={class:"card-body"},Waa={class:"d-flex justify-content-end align-items-start mb-3"},Oaa={class:"d-flex gap-2"},Kaa={key:0,class:"fa fa-angle-up me-2"},$aa={key:1,class:"fa fa-angle-down me-2"},Gaa={key:0,class:"border p-3 mb-3 rounded filter-section"},Jaa={class:"row g-2"},qaa={class:"col-md-4"},Haa={class:"d-flex justify-content-end gap-2 mt-3"},Yaa={class:"table-responsive signal-table"},zaa={class:"table table-hover"},Zaa={key:0,class:"fa fa-sort-asc"},aea={key:1,class:"fa fa-sort-desc"},eea={key:2,class:"fa fa-sort"},tea={scope:"row"},sea={class:"btn-group"},iea=["onClick"],lea=["onClick"],nea={key:0},oea={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},rea={class:"mt-2"},cea={key:0,class:"text-muted"},dea={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},uea={class:"pagination mb-0"},mea={key:0,class:"page-item"},kea={key:1,class:"page-item disabled"},hea=["onClick"],gea={key:2,class:"page-item disabled"},pea={key:3,class:"page-item"};function bea(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-acquisition-modal");return(0,n.uX)(),(0,n.CE)("div",Uaa,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"acquisition-to-edit":i.acquisitionBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["acquisition-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Raa,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Perolehan")],-1)),(0,n.Lk)("div",Qaa,[(0,n.Lk)("div",Waa,[(0,n.Lk)("div",Oaa,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Kaa)):((0,n.uX)(),(0,n.CE)("i",$aa)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Gaa,[(0,n.Lk)("div",Jaa,[(0,n.Lk)("div",qaa,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Perolehan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namaperolehan=a),placeholder:"Filter berdasarkan nam perolehan"},null,512),[[l.Jo,i.filters.namaperolehan]])])]),(0,n.Lk)("div",Haa,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Yaa,[(0,n.Lk)("table",zaa,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namaperolehan"))},[e[14]||(e[14]=(0,n.eW)(" Nama Perolehan ")),"namaperolehan"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Zaa)):"namaperolehan"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",aea)):((0,n.uX)(),(0,n.CE)("i",eea))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedAcquisitions,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idperolehan},[(0,n.Lk)("th",tea,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namaperolehan),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",sea,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,iea),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idperolehan)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,lea)])])]))),128)),0===o.paginatedAcquisitions.length?((0,n.uX)(),(0,n.CE)("tr",nea,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",oea,[(0,n.Lk)("div",rea,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",cea,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",dea,[(0,n.Lk)("ul",uea,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",mea,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",kea,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,hea)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",gea,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",pea,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const fea={class:"modal-header"},Lea={class:"modal-title"},yea={class:"modal-body"},vea={class:"mb-3"},Cea={key:0,class:"alert alert-danger mt-3"},Pea={class:"modal-footer"},Eea=["disabled"],Dea={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Mea={key:1};function wea(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",fea,[(0,n.Lk)("h5",Lea,(0,k.v_)(o.isEditMode?"Edit Data Perolehan":"Tambah Data Perolehan"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",yea,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",vea,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namaperolehan",class:"form-label"},"Nama Perolehan",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaPerolehan",placeholder:"Masukkan nama perolehan","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namaperolehan=a),required:""},null,512),[[l.Jo,i.formData.namaperolehan]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Cea,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Pea,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Dea)):((0,n.uX)(),(0,n.CE)("span",Mea,"Simpan"))],8,Eea)])])])}var Fea={name:"editAcquisitionModal",props:{acquisitionToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namaperolehan:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.acquisitionToEdit}},watch:{acquisitionToEdit:{handler(a){this.formData=a?{...a}:{namaperolehan:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namaperolehan:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await RC(this.acquisitionToEdit.idperolehan,this.formData),this.toast.success("Data perolehan berhasil diperbarui",{icon:"fa fa-check"})):(await UC(this.formData),this.toast.success("Data perolehan berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data perolehan",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const Xea=(0,r.A)(Fea,[["render",wea],["__scopeId","data-v-bdf612a6"]]);var xea=Xea,Tea={components:{AddEditAcquisitionModal:xea},data(){return{acquisitions:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,acquisitionBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{acquisition_name:""}}},computed:{paginatedAcquisitions(){return this.acquisitions},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchAcquisitions(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchAcquisitions()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchAcquisitions()},methods:{openAddModal(){this.acquisitionBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.acquisitionBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.acquisitionBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchAcquisitions()},async fetchAcquisitions(){try{const a={act:"perolehan",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await NC(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.acquisitions=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching perolehan:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data perolehan. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Perolehan",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await QC(a),1===this.acquisitions.length&&this.currentPage>1?this.currentPage--:this.fetchAcquisitions(),this.toast.success("Data perolehan berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data perolehan",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchAcquisitions()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchAcquisitions()},resetFilters(){this.filters.namaperolehan="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchAcquisitions()}}};const Sea=(0,r.A)(Tea,[["render",bea],["__scopeId","data-v-30116011"]]);var Bea=Sea,Aea={components:{AcquisitionsTable:Bea}};const _ea=(0,r.A)(Aea,[["render",Naa]]);var jea=_ea;const Vea={class:"container-fluid"},Iea={class:"row widget-grid"};function Nea(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ConditionsTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",Vea,[(0,n.Lk)("div",Iea,[(0,n.bF)(r)])])])}const Uea={class:"col-sm-12"},Rea={class:"card"},Qea={class:"card-body"},Wea={class:"d-flex justify-content-end align-items-start mb-3"},Oea={class:"d-flex gap-2"},Kea={key:0,class:"fa fa-angle-up me-2"},$ea={key:1,class:"fa fa-angle-down me-2"},Gea={key:0,class:"border p-3 mb-3 rounded filter-section"},Jea={class:"row g-2"},qea={class:"col-md-4"},Hea={class:"d-flex justify-content-end gap-2 mt-3"},Yea={class:"table-responsive signal-table"},zea={class:"table table-hover"},Zea={key:0,class:"fa fa-sort-asc"},ata={key:1,class:"fa fa-sort-desc"},eta={key:2,class:"fa fa-sort"},tta={scope:"row"},sta={class:"btn-group"},ita=["onClick"],lta=["onClick"],nta={key:0},ota={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},rta={class:"mt-2"},cta={key:0,class:"text-muted"},dta={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},uta={class:"pagination mb-0"},mta={key:0,class:"page-item"},kta={key:1,class:"page-item disabled"},hta=["onClick"],gta={key:2,class:"page-item disabled"},pta={key:3,class:"page-item"};function bta(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-condition-modal");return(0,n.uX)(),(0,n.CE)("div",Uea,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"condition-to-edit":i.conditionBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["condition-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Rea,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Kondisi")],-1)),(0,n.Lk)("div",Qea,[(0,n.Lk)("div",Wea,[(0,n.Lk)("div",Oea,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Kea)):((0,n.uX)(),(0,n.CE)("i",$ea)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Gea,[(0,n.Lk)("div",Jea,[(0,n.Lk)("div",qea,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Kondisi",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namakondisi=a),placeholder:"Filter berdasarkan nama kondisi"},null,512),[[l.Jo,i.filters.namakondisi]])])]),(0,n.Lk)("div",Hea,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Yea,[(0,n.Lk)("table",zea,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namakondisi"))},[e[14]||(e[14]=(0,n.eW)(" Nama Kondisi ")),"namakondisi"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Zea)):"namakondisi"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",ata)):((0,n.uX)(),(0,n.CE)("i",eta))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedConditions,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkondisi},[(0,n.Lk)("th",tta,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namakondisi),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",sta,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,ita),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkondisi)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,lta)])])]))),128)),0===o.paginatedConditions.length?((0,n.uX)(),(0,n.CE)("tr",nta,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",ota,[(0,n.Lk)("div",rta,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",cta,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",dta,[(0,n.Lk)("ul",uta,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",mta,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",kta,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,hta)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",gta,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",pta,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const fta={class:"modal-header"},Lta={class:"modal-title"},yta={class:"modal-body"},vta={class:"mb-3"},Cta={key:0,class:"alert alert-danger mt-3"},Pta={class:"modal-footer"},Eta=["disabled"],Dta={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Mta={key:1};function wta(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",fta,[(0,n.Lk)("h5",Lta,(0,k.v_)(o.isEditMode?"Edit Data Kondisi":"Tambah Data Kondisi"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",yta,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",vta,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namakondisi",class:"form-label"},"Nama Kondisi",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaKondisi",placeholder:"Masukkan nama kondisi","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namakondisi=a),required:""},null,512),[[l.Jo,i.formData.namakondisi]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Cta,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Pta,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Dta)):((0,n.uX)(),(0,n.CE)("span",Mta,"Simpan"))],8,Eta)])])])}var Fta={name:"editConditionModal",props:{conditionToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namakondisi:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.conditionToEdit}},watch:{conditionToEdit:{handler(a){this.formData=a?{...a}:{namakondisi:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namakondisi:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await Ov(this.conditionToEdit.idkondisi,this.formData),this.toast.success("Data kondisi berhasil diperbarui",{icon:"fa fa-check"})):(await Wv(this.formData),this.toast.success("Data kondisi berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data kondisi",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const Xta=(0,r.A)(Fta,[["render",wta],["__scopeId","data-v-0bf84cd7"]]);var xta=Xta,Tta={components:{AddEditConditionModal:xta},data(){return{conditions:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,conditionBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{condition_name:""}}},computed:{paginatedConditions(){return this.conditions},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchConditions(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchConditions()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchConditions()},methods:{openAddModal(){this.conditionBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.conditionBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.conditionBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchConditions()},async fetchConditions(){try{const a={act:"kondisi",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Qv(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.conditions=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching kondisi:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data kondisi. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Kondisi",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Kv(a),1===this.conditions.length&&this.currentPage>1?this.currentPage--:this.fetchConditions(),this.toast.success("Data kondisi berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data kondisi",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchConditions()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchConditions()},resetFilters(){this.filters.namakondisi="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchConditions()}}};const Sta=(0,r.A)(Tta,[["render",bta],["__scopeId","data-v-2e7b1a18"]]);var Bta=Sta,Ata={components:{ConditionsTable:Bta}};const _ta=(0,r.A)(Ata,[["render",Nea]]);var jta=_ta;const Vta={class:"container-fluid"},Ita={class:"row widget-grid"};function Nta(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("MultiStoryConstructionTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",Vta,[(0,n.Lk)("div",Ita,[(0,n.bF)(r)])])])}const Uta={class:"col-sm-12"},Rta={class:"card"},Qta={class:"card-body"},Wta={class:"d-flex justify-content-end align-items-start mb-3"},Ota={class:"d-flex gap-2"},Kta={key:0,class:"fa fa-angle-up me-2"},$ta={key:1,class:"fa fa-angle-down me-2"},Gta={key:0,class:"border p-3 mb-3 rounded filter-section"},Jta={class:"row g-2"},qta={class:"col-md-4"},Hta={class:"d-flex justify-content-end gap-2 mt-3"},Yta={class:"table-responsive signal-table"},zta={class:"table table-hover"},Zta={key:0,class:"fa fa-sort-asc"},asa={key:1,class:"fa fa-sort-desc"},esa={key:2,class:"fa fa-sort"},tsa={scope:"row"},ssa={class:"btn-group"},isa=["onClick"],lsa=["onClick"],nsa={key:0},osa={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},rsa={class:"mt-2"},csa={key:0,class:"text-muted"},dsa={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},usa={class:"pagination mb-0"},msa={key:0,class:"page-item"},ksa={key:1,class:"page-item disabled"},hsa=["onClick"],gsa={key:2,class:"page-item disabled"},psa={key:3,class:"page-item"};function bsa(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-multiStoryConstruction-modal");return(0,n.uX)(),(0,n.CE)("div",Uta,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"multiStoryConstruction-to-edit":i.multiStoryConstructionBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["multiStoryConstruction-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Rta,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Kontruksi Bertingkat")],-1)),(0,n.Lk)("div",Qta,[(0,n.Lk)("div",Wta,[(0,n.Lk)("div",Ota,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Kta)):((0,n.uX)(),(0,n.CE)("i",$ta)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Gta,[(0,n.Lk)("div",Jta,[(0,n.Lk)("div",qta,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Kontruksi Bertingkat",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namakonstruksibertingkat=a),placeholder:"Filter berdasarkan nama kontruksi bertingkat"},null,512),[[l.Jo,i.filters.namakonstruksibertingkat]])])]),(0,n.Lk)("div",Hta,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Yta,[(0,n.Lk)("table",zta,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namakonstruksibertingkat"))},[e[14]||(e[14]=(0,n.eW)(" Nama Kontruksi Bertingkat ")),"namakonstruksibertingkat"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",Zta)):"namakonstruksibertingkat"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",asa)):((0,n.uX)(),(0,n.CE)("i",esa))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedMultiStoryConstructions,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkonstruksibertingkat},[(0,n.Lk)("th",tsa,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namakonstruksibertingkat),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",ssa,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,isa),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkonstruksibertingkat)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,lsa)])])]))),128)),0===o.paginatedMultiStoryConstructions.length?((0,n.uX)(),(0,n.CE)("tr",nsa,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",osa,[(0,n.Lk)("div",rsa,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",csa,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",dsa,[(0,n.Lk)("ul",usa,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",msa,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",ksa,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,hsa)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",gsa,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",psa,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const fsa=(a={})=>Mi.get("",{params:{act:"konstruksi-bertingkat",...a}}),Lsa=a=>Mi.post("",{act:"konstruksi-bertingkat",record:a}),ysa=(a,e)=>a?Mi.put("",{act:"konstruksi-bertingkat",key:a,record:e}):Promise.reject(new Error("ID kontruksi bertingkat tidak tersedia.")),vsa=a=>a?Mi.delete("",{data:{act:"konstruksi-bertingkat",key:a}}):Promise.reject(new Error("ID kontruksi bertingkat tidak tersedia.")),Csa={class:"modal-header"},Psa={class:"modal-title"},Esa={class:"modal-body"},Dsa={class:"mb-3"},Msa={key:0,class:"alert alert-danger mt-3"},wsa={class:"modal-footer"},Fsa=["disabled"],Xsa={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},xsa={key:1};function Tsa(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Csa,[(0,n.Lk)("h5",Psa,(0,k.v_)(o.isEditMode?"Edit Data Kontruksi Bertingkat":"Tambah Data Kontruksi Bertingkat"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Esa,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Dsa,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namakonstruksibertingkat",class:"form-label"},"Nama Kontruksi Bertingkat",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaKontruksiBertingkat",placeholder:"Masukkan nama kontruksi bertingkat","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namakonstruksibertingkat=a),required:""},null,512),[[l.Jo,i.formData.namakonstruksibertingkat]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Msa,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",wsa,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Xsa)):((0,n.uX)(),(0,n.CE)("span",xsa,"Simpan"))],8,Fsa)])])])}var Ssa={name:"editMultiStoryConstructionModal",props:{multiStoryConstructionToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namakonstruksibertingkat:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.multiStoryConstructionToEdit}},watch:{multiStoryConstructionToEdit:{handler(a){this.formData=a?{...a}:{namakonstruksibertingkat:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namakonstruksibertingkat:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await ysa(this.multiStoryConstructionToEdit.idkonstruksibertingkat,this.formData),this.toast.success("Data konstruksi bertingkat berhasil diperbarui",{icon:"fa fa-check"})):(await Lsa(this.formData),this.toast.success("Data konstruksi bertingkat berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data konstruksi bertingkat",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const Bsa=(0,r.A)(Ssa,[["render",Tsa],["__scopeId","data-v-07e0411f"]]);var Asa=Bsa,_sa={components:{AddEditMultiStoryConstructionModal:Asa},data(){return{multiStoryConstructions:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,multiStoryConstructionBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{multiStoryConstruction_name:""}}},computed:{paginatedMultiStoryConstructions(){return this.multiStoryConstructions},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchMultiStoryConstructions(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchMultiStoryConstructions()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchMultiStoryConstructions()},methods:{openAddModal(){this.multiStoryConstructionBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.multiStoryConstructionBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.multiStoryConstructionBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchMultiStoryConstructions()},async fetchMultiStoryConstructions(){try{const a={act:"konstruksi-bertingkat",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await fsa(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.multiStoryConstructions=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching konstruksi bertingkat:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data konstruksi bertingkat. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Kontruksi Bertingkat",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await vsa(a),1===this.multiStoryConstructions.length&&this.currentPage>1?this.currentPage--:this.fetchMultiStoryConstructions(),this.toast.success("Data konstruksi bertingkat berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data konstruksi bertingkat",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchMultiStoryConstructions()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchMultiStoryConstructions()},resetFilters(){this.filters.namakonstruksibertingkat="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchMultiStoryConstructions()}}};const jsa=(0,r.A)(_sa,[["render",bsa],["__scopeId","data-v-759a1535"]]);var Vsa=jsa,Isa={components:{MultiStoryConstructionTable:Vsa}};const Nsa=(0,r.A)(Isa,[["render",Nta]]);var Usa=Nsa;const Rsa={class:"container-fluid"},Qsa={class:"row widget-grid"};function Wsa(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ConcreteConstructionTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",Rsa,[(0,n.Lk)("div",Qsa,[(0,n.bF)(r)])])])}const Osa={class:"col-sm-12"},Ksa={class:"card"},$sa={class:"card-body"},Gsa={class:"d-flex justify-content-end align-items-start mb-3"},Jsa={class:"d-flex gap-2"},qsa={key:0,class:"fa fa-angle-up me-2"},Hsa={key:1,class:"fa fa-angle-down me-2"},Ysa={key:0,class:"border p-3 mb-3 rounded filter-section"},zsa={class:"row g-2"},Zsa={class:"col-md-4"},aia={class:"d-flex justify-content-end gap-2 mt-3"},eia={class:"table-responsive signal-table"},tia={class:"table table-hover"},sia={key:0,class:"fa fa-sort-asc"},iia={key:1,class:"fa fa-sort-desc"},lia={key:2,class:"fa fa-sort"},nia={scope:"row"},oia={class:"btn-group"},ria=["onClick"],cia=["onClick"],dia={key:0},uia={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},mia={class:"mt-2"},kia={key:0,class:"text-muted"},hia={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},gia={class:"pagination mb-0"},pia={key:0,class:"page-item"},bia={key:1,class:"page-item disabled"},fia=["onClick"],Lia={key:2,class:"page-item disabled"},yia={key:3,class:"page-item"};function via(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-concreteConstruction-modal");return(0,n.uX)(),(0,n.CE)("div",Osa,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"concreteConstruction-to-edit":i.concreteConstructionBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["concreteConstruction-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Ksa,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Kontruksi Beton")],-1)),(0,n.Lk)("div",$sa,[(0,n.Lk)("div",Gsa,[(0,n.Lk)("div",Jsa,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",qsa)):((0,n.uX)(),(0,n.CE)("i",Hsa)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",Ysa,[(0,n.Lk)("div",zsa,[(0,n.Lk)("div",Zsa,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Kontruksi Beton",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namakonstruksibeton=a),placeholder:"Filter berdasarkan nama kontruksi beton"},null,512),[[l.Jo,i.filters.namakonstruksibeton]])])]),(0,n.Lk)("div",aia,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",eia,[(0,n.Lk)("table",tia,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namakonstruksibeton"))},[e[14]||(e[14]=(0,n.eW)(" Nama Kontruksi Beton ")),"namakonstruksibeton"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",sia)):"namakonstruksibeton"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",iia)):((0,n.uX)(),(0,n.CE)("i",lia))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedConcreteConstructions,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkonstruksibeton},[(0,n.Lk)("th",nia,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namakonstruksibeton),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",oia,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,ria),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkonstruksibeton)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,cia)])])]))),128)),0===o.paginatedConcreteConstructions.length?((0,n.uX)(),(0,n.CE)("tr",dia,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",uia,[(0,n.Lk)("div",mia,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",kia,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",hia,[(0,n.Lk)("ul",gia,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",pia,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",bia,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,fia)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",Lia,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",yia,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const Cia=(a={})=>Mi.get("",{params:{act:"konstruksi-beton",...a}}),Pia=a=>Mi.post("",{act:"konstruksi-beton",record:a}),Eia=(a,e)=>a?Mi.put("",{act:"konstruksi-beton",key:a,record:e}):Promise.reject(new Error("ID konstruksi beton tidak tersedia.")),Dia=a=>a?Mi.delete("",{data:{act:"konstruksi-beton",key:a}}):Promise.reject(new Error("ID konstruksi beton tidak tersedia.")),Mia={class:"modal-header"},wia={class:"modal-title"},Fia={class:"modal-body"},Xia={class:"mb-3"},xia={key:0,class:"alert alert-danger mt-3"},Tia={class:"modal-footer"},Sia=["disabled"],Bia={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Aia={key:1};function _ia(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Mia,[(0,n.Lk)("h5",wia,(0,k.v_)(o.isEditMode?"Edit Data Kontruksi Beton":"Tambah Data Kontruksi Beton"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Fia,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Xia,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namakonstruksibeton",class:"form-label"},"Nama Kontruksi Beton",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaKontruksiBeton",placeholder:"Masukkan nama kontruksi beton","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namakonstruksibeton=a),required:""},null,512),[[l.Jo,i.formData.namakonstruksibeton]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",xia,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Tia,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Bia)):((0,n.uX)(),(0,n.CE)("span",Aia,"Simpan"))],8,Sia)])])])}var jia={name:"editConcreteConstructionModal",props:{concreteConstructionToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namakonstruksibeton:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.concreteConstructionToEdit}},watch:{concreteConstructionToEdit:{handler(a){this.formData=a?{...a}:{namakonstruksibeton:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namakonstruksibeton:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await Eia(this.concreteConstructionToEdit.idkonstruksibeton,this.formData),this.toast.success("Data konstruksi beton berhasil diperbarui",{icon:"fa fa-check"})):(await Pia(this.formData),this.toast.success("Data konstruksi beton berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data konstruksi beton",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const Via=(0,r.A)(jia,[["render",_ia],["__scopeId","data-v-6e694b20"]]);var Iia=Via,Nia={components:{AddEditConcreteConstructionModal:Iia},data(){return{concreteConstructions:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,concreteConstructionBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{concreteConstruction_name:""}}},computed:{paginatedConcreteConstructions(){return this.concreteConstructions},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchConcreteConstructions(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchConcreteConstructions()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchConcreteConstructions()},methods:{openAddModal(){this.concreteConstructionBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.concreteConstructionBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.concreteConstructionBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchConcreteConstructions()},async fetchConcreteConstructions(){try{const a={act:"konstruksi-beton",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Cia(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.concreteConstructions=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching konstruksi beton:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data konstruksi beton. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Kontruksi Beton",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Dia(a),1===this.concreteConstructions.length&&this.currentPage>1?this.currentPage--:this.fetchConcreteConstructions(),this.toast.success("Data konstruksi beton berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data konstruksi beton",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchConcreteConstructions()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchConcreteConstructions()},resetFilters(){this.filters.namakonstruksibeton="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchConcreteConstructions()}}};const Uia=(0,r.A)(Nia,[["render",via],["__scopeId","data-v-c548c648"]]);var Ria=Uia,Qia={components:{ConcreteConstructionTable:Ria}};const Wia=(0,r.A)(Qia,[["render",Wsa]]);var Oia=Wia;const Kia={class:"container-fluid"},$ia={class:"row widget-grid"};function Gia(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("PhysicalStatusesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",Kia,[(0,n.Lk)("div",$ia,[(0,n.bF)(r)])])])}const Jia={class:"col-sm-12"},qia={class:"card"},Hia={class:"card-body"},Yia={class:"d-flex justify-content-end align-items-start mb-3"},zia={class:"d-flex gap-2"},Zia={key:0,class:"fa fa-angle-up me-2"},ala={key:1,class:"fa fa-angle-down me-2"},ela={key:0,class:"border p-3 mb-3 rounded filter-section"},tla={class:"row g-2"},sla={class:"col-md-4"},ila={class:"d-flex justify-content-end gap-2 mt-3"},lla={class:"table-responsive signal-table"},nla={class:"table table-hover"},ola={key:0,class:"fa fa-sort-asc"},rla={key:1,class:"fa fa-sort-desc"},cla={key:2,class:"fa fa-sort"},dla={scope:"row"},ula={class:"btn-group"},mla=["onClick"],kla=["onClick"],hla={key:0},gla={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},pla={class:"mt-2"},bla={key:0,class:"text-muted"},fla={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},Lla={class:"pagination mb-0"},yla={key:0,class:"page-item"},vla={key:1,class:"page-item disabled"},Cla=["onClick"],Pla={key:2,class:"page-item disabled"},Ela={key:3,class:"page-item"};function Dla(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-physicalStatus-modal");return(0,n.uX)(),(0,n.CE)("div",Jia,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"physicalStatus-to-edit":i.physicalStatusBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["physicalStatus-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",qia,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Nama Keberadaan Fisik")],-1)),(0,n.Lk)("div",Hia,[(0,n.Lk)("div",Yia,[(0,n.Lk)("div",zia,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Zia)):((0,n.uX)(),(0,n.CE)("i",ala)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",ela,[(0,n.Lk)("div",tla,[(0,n.Lk)("div",sla,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Nama Keberadaan Fisik",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namakeberadaanfisik=a),placeholder:"Filter berdasarkan nama keberadaan fisik"},null,512),[[l.Jo,i.filters.namakeberadaanfisik]])])]),(0,n.Lk)("div",ila,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",lla,[(0,n.Lk)("table",nla,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namakeberadaanfisik"))},[e[14]||(e[14]=(0,n.eW)(" Nama Keberadaan Fisik ")),"namakeberadaanfisik"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",ola)):"namakeberadaanfisik"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",rla)):((0,n.uX)(),(0,n.CE)("i",cla))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedPhysicalStatuses,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkeberadaanfisik},[(0,n.Lk)("th",dla,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namakeberadaanfisik),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",ula,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,mla),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkeberadaanfisik)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,kla)])])]))),128)),0===o.paginatedPhysicalStatuses.length?((0,n.uX)(),(0,n.CE)("tr",hla,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",gla,[(0,n.Lk)("div",pla,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",bla,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",fla,[(0,n.Lk)("ul",Lla,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",yla,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",vla,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,Cla)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",Pla,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",Ela,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const Mla={class:"modal-header"},wla={class:"modal-title"},Fla={class:"modal-body"},Xla={class:"mb-3"},xla={key:0,class:"alert alert-danger mt-3"},Tla={class:"modal-footer"},Sla=["disabled"],Bla={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Ala={key:1};function _la(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",Mla,[(0,n.Lk)("h5",wla,(0,k.v_)(o.isEditMode?"Edit Data Keberadaan Fisik":"Tambah Data Keberadaan Fisik"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Fla,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Xla,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namakeberadaanfisik",class:"form-label"},"Nama Keberadaan Fisik",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaKeberadaanFisik",placeholder:"Masukkan nama keberadaan fisik","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namakeberadaanfisik=a),required:""},null,512),[[l.Jo,i.formData.namakeberadaanfisik]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",xla,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Tla,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Bla)):((0,n.uX)(),(0,n.CE)("span",Ala,"Simpan"))],8,Sla)])])])}var jla={name:"editPhysicalStatusModal",props:{physicalStatusToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namakeberadaanfisik:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.physicalStatusToEdit}},watch:{physicalStatusToEdit:{handler(a){this.formData=a?{...a}:{namakeberadaanfisik:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namakeberadaanfisik:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await qC(this.physicalStatusToEdit.idkeberadaanfisik,this.formData),this.toast.success("Data keberadaan fisik berhasil diperbarui",{icon:"fa fa-check"})):(await JC(this.formData),this.toast.success("Data keberadaan fisik berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data keberadaan fisik",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const Vla=(0,r.A)(jla,[["render",_la],["__scopeId","data-v-038ed232"]]);var Ila=Vla,Nla={components:{AddEditPhysicalStatusModal:Ila},data(){return{physicalStatuses:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,physicalStatusBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{physicalStatus_name:""}}},computed:{paginatedPhysicalStatuses(){return this.physicalStatuses},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchPhysicalStatuses(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchPhysicalStatuses()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchPhysicalStatuses()},methods:{openAddModal(){this.physicalStatusBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.physicalStatusBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.physicalStatusBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchPhysicalStatuses()},async fetchPhysicalStatuses(){try{const a={act:"keberadaan-fisik",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",group:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await GC(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.physicalStatuses=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching keberadaan fisik:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data keberadaan fisik. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Keberadaan Fisik",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await HC(a),1===this.physicalStatuses.length&&this.currentPage>1?this.currentPage--:this.fetchPhysicalStatuses(),this.toast.success("Data keberadaan fisik berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data keberadaan fisik",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchPhysicalStatuses()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchPhysicalStatuses()},resetFilters(){this.filters.namakeberadaanfisik="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchPhysicalStatuses()}}};const Ula=(0,r.A)(Nla,[["render",Dla],["__scopeId","data-v-a4c41fb4"]]);var Rla=Ula,Qla={components:{PhysicalStatusesTable:Rla}};const Wla=(0,r.A)(Qla,[["render",Gia]]);var Ola=Wla;const Kla={class:"container-fluid"},$la={class:"row widget-grid"};function Gla(a,e,t,s,i,l){const o=(0,n.g2)("Breadcrumbs"),r=(0,n.g2)("ItemCategoriesTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o,{main:"Aset",title:a.$route.meta.title},null,8,["title"]),(0,n.Lk)("div",Kla,[(0,n.Lk)("div",$la,[(0,n.bF)(r)])])])}const Jla={class:"col-sm-12"},qla={class:"card"},Hla={class:"card-body"},Yla={class:"d-flex justify-content-end align-items-start mb-3"},zla={class:"d-flex gap-2"},Zla={key:0,class:"fa fa-angle-up me-2"},ana={key:1,class:"fa fa-angle-down me-2"},ena={key:0,class:"border p-3 mb-3 rounded filter-section"},tna={class:"row g-2"},sna={class:"col-md-4"},ina={class:"d-flex justify-content-end gap-2 mt-3"},lna={class:"table-responsive signal-table"},nna={class:"table table-hover"},ona={key:0,class:"fa fa-sort-asc"},rna={key:1,class:"fa fa-sort-desc"},cna={key:2,class:"fa fa-sort"},dna={scope:"row"},una={class:"btn-group"},mna=["onClick"],kna=["onClick"],hna={key:0},gna={class:"d-flex flex-column flex-md-row justify-content-md-between align-items-center mt-3 px-3 pb-3"},pna={class:"mt-2"},bna={key:0,class:"text-muted"},fna={key:0,class:"d-flex align-items-center flex-wrap gap-2 mt-2"},Lna={class:"pagination mb-0"},yna={key:0,class:"page-item"},vna={key:1,class:"page-item disabled"},Cna=["onClick"],Pna={key:2,class:"page-item disabled"},Ena={key:3,class:"page-item"};function Dna(a,e,t,s,i,o){const r=(0,n.g2)("add-edit-itemCategory-modal");return(0,n.uX)(),(0,n.CE)("div",Jla,[i.isModalVisible?((0,n.uX)(),(0,n.Wv)(r,{key:0,"itemCategory-to-edit":i.itemCategoryBeingEdited,onClose:o.closeModal,onSaveSuccessful:o.handleSaveSuccessful},null,8,["itemCategory-to-edit","onClose","onSaveSuccessful"])):(0,n.Q3)("",!0),(0,n.Lk)("div",qla,[e[26]||(e[26]=(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h3",null,"Daftar Kategori Barang")],-1)),(0,n.Lk)("div",Hla,[(0,n.Lk)("div",Yla,[(0,n.Lk)("div",zla,[(0,n.Lk)("button",{class:"btn btn-outline-light txt-dark",onClick:e[0]||(e[0]=(...a)=>o.toggleFilterVisibility&&o.toggleFilterVisibility(...a))},[i.isFilterVisible?((0,n.uX)(),(0,n.CE)("i",Zla)):((0,n.uX)(),(0,n.CE)("i",ana)),(0,n.Lk)("span",null,(0,k.v_)(i.isFilterVisible?"Sembunyikan":"Tampilkan")+" Filter",1)]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...a)=>o.openAddModal&&o.openAddModal(...a))},e[10]||(e[10]=[(0,n.Lk)("i",{class:"fa fa-plus me-2"},null,-1),(0,n.Lk)("span",null," Tambah Data",-1)]))])]),i.isFilterVisible?((0,n.uX)(),(0,n.CE)("div",ena,[(0,n.Lk)("div",tna,[(0,n.Lk)("div",sna,[e[11]||(e[11]=(0,n.Lk)("label",{for:"filterName",class:"form-label"},"Kategori Barang",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"filterName",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>i.filters.namakategoribarang=a),placeholder:"Filter berdasarkan nama kategori barang"},null,512),[[l.Jo,i.filters.namakategoribarang]])])]),(0,n.Lk)("div",ina,[(0,n.Lk)("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=(...a)=>o.resetFilters&&o.resetFilters(...a))},e[12]||(e[12]=[(0,n.Lk)("i",{class:"fa fa-refresh me-2"},null,-1),(0,n.Lk)("span",null,"Reset Filter",-1)])),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.applyFilters&&o.applyFilters(...a))},e[13]||(e[13]=[(0,n.Lk)("i",{class:"fa fa-search me-2"},null,-1),(0,n.Lk)("span",null,"Terapkan Filter",-1)]))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",lna,[(0,n.Lk)("table",nna,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e[15]||(e[15]=(0,n.Lk)("th",{scope:"col"},"No",-1)),(0,n.Lk)("th",{scope:"col",onClick:e[5]||(e[5]=a=>o.sortBy("namakategoribarang"))},[e[14]||(e[14]=(0,n.eW)(" Kategori Barang ")),"namakategoribarang"===i.sortColumn&&"asc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",ona)):"namakategoribarang"===i.sortColumn&&"desc"===i.sortDirection?((0,n.uX)(),(0,n.CE)("i",rna)):((0,n.uX)(),(0,n.CE)("i",cna))]),e[16]||(e[16]=(0,n.Lk)("th",{scope:"col"},"Aksi",-1))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedItemCategories,(a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:a.idkategoribarang},[(0,n.Lk)("th",dna,(0,k.v_)((i.currentPage-1)*i.perPage+t+1),1),(0,n.Lk)("td",null,(0,k.v_)(a.namakategoribarang),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",una,[(0,n.Lk)("button",{class:"btn btn-primary btn-sm",onClick:e=>o.openEditModal(a)},e[17]||(e[17]=[(0,n.Lk)("i",{class:"fa fa-pencil"},null,-1)]),8,mna),(0,n.Lk)("button",{class:"btn btn-danger sweet-11 btn-sm",type:"button",onClick:e=>o.advancedDeleteAlert(a.idkategoribarang)},e[18]||(e[18]=[(0,n.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,kna)])])]))),128)),0===o.paginatedItemCategories.length?((0,n.uX)(),(0,n.CE)("tr",hna,e[19]||(e[19]=[(0,n.Lk)("td",{colspan:"5",class:"text-center"},"Tidak ada data yang cocok atau tersedia.",-1)]))):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",gna,[(0,n.Lk)("div",pna,[i.totalItems>0?((0,n.uX)(),(0,n.CE)("span",bna,[e[20]||(e[20]=(0,n.eW)(" Menampilkan ")),(0,n.Lk)("strong",null,(0,k.v_)((i.currentPage-1)*i.perPage+1),1),e[21]||(e[21]=(0,n.eW)(" - ")),(0,n.Lk)("strong",null,(0,k.v_)(Math.min(i.currentPage*i.perPage,i.totalItems)),1),e[22]||(e[22]=(0,n.eW)(" dari ")),(0,n.Lk)("strong",null,(0,k.v_)(i.totalItems),1),e[23]||(e[23]=(0,n.eW)(" data "))])):(0,n.Q3)("",!0)]),-1!==i.perPage&&o.totalPages>1?((0,n.uX)(),(0,n.CE)("nav",fna,[(0,n.Lk)("ul",Lna,[(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[6]||(e[6]=a=>o.changePage(i.currentPage-1))},"Prev")],2),o.pageNumbers[0]>1?((0,n.uX)(),(0,n.CE)("li",yna,[(0,n.Lk)("button",{class:"page-link",onClick:e[7]||(e[7]=a=>o.changePage(1))},"1")])):(0,n.Q3)("",!0),o.pageNumbers[0]>2?((0,n.uX)(),(0,n.CE)("li",vna,e[24]||(e[24]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pageNumbers,a=>((0,n.uX)(),(0,n.CE)("li",{key:a,class:(0,k.C4)(["page-item",{active:i.currentPage===a}])},[(0,n.Lk)("button",{class:"page-link",onClick:e=>o.changePage(a)},(0,k.v_)(a),9,Cna)],2))),128)),o.pageNumbers.slice(-1)[0]<o.totalPages-1?((0,n.uX)(),(0,n.CE)("li",Pna,e[25]||(e[25]=[(0,n.Lk)("span",{class:"page-link"},"...",-1)]))):(0,n.Q3)("",!0),o.pageNumbers.slice(-1)[0]<o.totalPages?((0,n.uX)(),(0,n.CE)("li",Ena,[(0,n.Lk)("button",{class:"page-link",onClick:e[8]||(e[8]=a=>o.changePage(o.totalPages))},(0,k.v_)(o.totalPages),1)])):(0,n.Q3)("",!0),(0,n.Lk)("li",{class:(0,k.C4)(["page-item",{disabled:i.currentPage===o.totalPages}])},[(0,n.Lk)("button",{class:"page-link",onClick:e[9]||(e[9]=a=>o.changePage(i.currentPage+1))},"Next")],2)])])):(0,n.Q3)("",!0)])])])])}const Mna=(a={})=>Mi.get("",{params:{act:"kategori-barang",...a}}),wna=a=>Mi.post("",{act:"kategori-barang",record:a}),Fna=(a,e)=>a?Mi.put("",{act:"kategori-barang",key:a,record:e}):Promise.reject(new Error("ID kategori barang tidak tersedia.")),Xna=a=>a?Mi.delete("",{data:{act:"kategori-barang",key:a}}):Promise.reject(new Error("ID kategori barang tidak tersedia.")),xna={class:"modal-header"},Tna={class:"modal-title"},Sna={class:"modal-body"},Bna={class:"mb-3"},Ana={key:0,class:"alert alert-danger mt-3"},_na={class:"modal-footer"},jna=["disabled"],Vna={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Ina={key:1};function Nna(a,e,t,s,i,o){return(0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:e[6]||(e[6]=(...a)=>o.handleOverlayClick&&o.handleOverlayClick(...a))},[(0,n.Lk)("div",{class:"modal-content",onClick:e[5]||(e[5]=(0,l.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",xna,[(0,n.Lk)("h5",Tna,(0,k.v_)(o.isEditMode?"Edit Data Kategori Barang":"Tambah Data Kategori Barang"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=(...a)=>o.closeModal&&o.closeModal(...a)),"aria-label":"Close"})]),(0,n.Lk)("div",Sna,[(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((...a)=>o.submitForm&&o.submitForm(...a),["prevent"]))},[(0,n.Lk)("div",Bna,[e[7]||(e[7]=(0,n.Lk)("label",{for:"namakategoribarang",class:"form-label"},"Nama Kategori Barang",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"namaKategoriBarang",placeholder:"Masukkan nama kategori barang","onUpdate:modelValue":e[1]||(e[1]=a=>i.formData.namakategoribarang=a),required:""},null,512),[[l.Jo,i.formData.namakategoribarang]])]),i.errorMessage?((0,n.uX)(),(0,n.CE)("div",Ana,(0,k.v_)(i.errorMessage),1)):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",_na,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...a)=>o.closeModal&&o.closeModal(...a))},"Batal"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>o.submitForm&&o.submitForm(...a)),disabled:i.isLoading},[i.isLoading?((0,n.uX)(),(0,n.CE)("span",Vna)):((0,n.uX)(),(0,n.CE)("span",Ina,"Simpan"))],8,jna)])])])}var Una={name:"editItemCategoryModal",props:{itemCategoryToEdit:{type:Object,default:null}},created(){this.toast=(0,nn.dj)()},data(){return{formData:{namakategoribarang:""},isLoading:!1,errorMessage:null}},computed:{isEditMode(){return!!this.itemCategoryToEdit}},watch:{itemCategoryToEdit:{handler(a){this.formData=a?{...a}:{namakategoribarang:""},this.errorMessage=null},immediate:!0}},methods:{closeModal(){this.$emit("close")},handleOverlayClick(a){a.target===a.currentTarget&&this.closeModal()},async submitForm(){this.errorMessage=null;const{namakategoribarang:a}=this.formData;if(a){this.isLoading=!0;try{this.isEditMode?(await Fna(this.itemCategoryToEdit.idkategoribarang,this.formData),this.toast.success("Data kategori barang berhasil diperbarui",{icon:"fa fa-check"})):(await wna(this.formData),this.toast.success("Data kategori barang berhasil ditambah",{icon:"fa fa-check"})),this.$emit("save-successful"),this.closeModal()}catch(e){console.error("Error occurred:",e),this.errorMessage=e.response?.data?.message||"Gagal menyimpan data.",this.toast.error("Gagal menyimpan data kategori barang",{icon:"fa fa-times"})}finally{this.isLoading=!1}}else this.errorMessage="Semua field wajib diisi."}}};const Rna=(0,r.A)(Una,[["render",Nna],["__scopeId","data-v-061eee6b"]]);var Qna=Rna,Wna={components:{AddEditItemCategoryModal:Qna},data(){return{itemCategories:[],sortColumn:"",sortDirection:"asc",isModalVisible:!1,currentPage:1,perPage:20,totalItems:0,itemCategoryBeingEdited:null,jumpPage:1,isFilterVisible:!1,filters:{itemCategory_name:""}}},computed:{paginatedItemCategories(){return this.itemCategories},totalPages(){return this.perPage<=0?1:Math.ceil(this.totalItems/this.perPage)},pageNumbers(){const a=[],e=5;let t=Math.max(1,this.currentPage-Math.floor(e/2)),s=t+e-1;s>this.totalPages&&(s=this.totalPages,t=Math.max(1,s-e+1));for(let i=t;i<=s;i++)a.push(i);return a}},watch:{currentPage(){this.fetchItemCategories(),this.jumpPage=this.currentPage},perPage(){this.currentPage=1,this.fetchItemCategories()}},async mounted(){this.toast=(0,nn.dj)(),await this.fetchItemCategories()},methods:{openAddModal(){this.itemCategoryBeingEdited=null,this.isModalVisible=!0},openEditModal(a){this.itemCategoryBeingEdited={...a},this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.itemCategoryBeingEdited=null},handleSaveSuccessful(){this.closeModal(),this.fetchItemCategories()},async fetchItemCategories(){try{const a={act:"kategori-barang",page:this.currentPage,limit:this.perPage,order:this.sortColumn?`${this.sortColumn} ${this.sortDirection}`:"",item:""},e=Object.entries(this.filters).filter(([a,e])=>""!==e).map(([a,e])=>`${a}=${e}`);e.length>0?a.filter=e.join(","):a.filter="";const t=await Mna(a),s=t.data?.data||t.data?.[0]?.data||[],i=t.data?.[0]?.meta?.pagination||{};this.itemCategories=s,this.totalItems=i.total||s.length}catch(a){console.error("Error fetching kategori barang:",a),this.$swal({icon:"error",title:"Oops...",text:"Gagal memuat data kategori barang. Silakan coba lagi nanti."})}},advancedDeleteAlert(a){this.$swal({title:"Hapus Data Kategori Barang",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check me-2"></i> Hapus!',confirmButtonColor:"#d33",cancelButtonText:'<i class="fa fa-times me-2"></i> Batal',cancelButtonColor:"#efefef",reverseButtons:!0}).then(async e=>{if(e.isConfirmed)try{await Xna(a),1===this.itemCategories.length&&this.currentPage>1?this.currentPage--:this.fetchItemCategories(),this.toast.success("Data kategori barang berhasil dihapus",{icon:"fa fa-check"})}catch(t){this.toast.error("Gagal menghapus data kategori barang",{icon:"fa fa-times"})}})},sortBy(a){this.sortColumn===a?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=a,this.sortDirection="asc"),this.fetchItemCategories()},changePage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)},toggleFilterVisibility(){this.isFilterVisible=!this.isFilterVisible},applyFilters(){this.currentPage=1,this.fetchItemCategories()},resetFilters(){this.filters.namakategoribarang="",this.sortColumn="",this.sortDirection="asc",this.currentPage=1,this.fetchItemCategories()}}};const Ona=(0,r.A)(Wna,[["render",Dna],["__scopeId","data-v-423a7379"]]);var Kna=Ona,$na={components:{ItemCategoriesTable:Kna}};const Gna=(0,r.A)($na,[["render",Gla]]);var Jna=Gna;const qna=[{path:"/auth",children:[{path:"",name:"Login",component:as,meta:{title:"Login"}}]},{path:"/",component:Ct,children:[{path:"",name:"defaultRoot",component:At,meta:{title:"Dashboard",requiresAuth:!0}}]},{path:"/village-information",component:Ct,meta:{requiresAuth:!0},children:[{path:"profile",name:"informasiDesa_profilDesa",component:Pr,meta:{title:"Profil Desa"}}]},{path:"/village-government",component:Ct,meta:{requiresAuth:!0},children:[{path:"officials",name:"Pemerintahan_perangakatDesa",component:Ld,meta:{title:"Perangkat Desa"}},{path:"tenure-periods",name:"Pemerintahan_periodeJabatan",component:Ku,meta:{title:"Periode Jabatan"}}]},{path:"/population",component:Ct,meta:{requiresAuth:!0},children:[{path:"residents",name:"kependudukan_penduduk",component:Xg,meta:{title:"Penduduk"}},{path:"families",name:"kependudukan_keluarga",component:tQ,meta:{title:"Wilayah Administrasi"}},{path:"households",name:"kependudukan_rumahTangga",component:tQ,meta:{title:"Rumah Tangga"}},{path:"groups",name:"kependudukan_kelompok",component:bb,meta:{title:"Kelompok"}}]},{path:"/documents",component:Ct,meta:{requiresAuth:!0},children:[{path:"incoming-letters",name:"dokumen_suratMasuk",component:tQ,meta:{title:"Surat Masuk"}},{path:"outgoing-letters",name:"dokumen_suratKeluar",component:tQ,meta:{title:"Surat Keluar"}},{path:"regulations",name:"dokumen_peraturanRegulasi",component:tQ,meta:{title:"Peraturan/Regulasi"}},{path:"decrees",name:"dokumen_keptusanKepalaDesa",component:tQ,meta:{title:"Keputusan Kepala Desa"}}]},{path:"/activities",component:Ct,meta:{requiresAuth:!0},children:[{path:"programs",name:"kegiatan_program",component:XL,meta:{title:"Program Kegiatan"}},{path:"categories",name:"kegiatan_kategori",component:Ny,meta:{title:"Kategori Kegiatan"}}]},{path:"/cash-flow",component:Ct,meta:{requiresAuth:!0},children:[{path:"income",name:"keuangan_pemasukan",component:tQ,meta:{title:"Pemasukan"}},{path:"expenses",name:"keuangan_pengeluaran",component:tQ,meta:{title:"Pengeluaran"}}]},{path:"/assets",component:Ct,meta:{requiresAuth:!0},children:[{path:"land",name:"aset_tanah",component:tQ,meta:{title:"Tanah"}},{path:"buildings",name:"aset_bangunan",component:tQ,meta:{title:"Bangunan"}},{path:"rooms",name:"aset_ruangan",component:tQ,meta:{title:"Ruangan"}},{path:"vehicles",name:"aset_kendaraan",component:IP,meta:{title:"Kendaraan"}},{path:"equipment",name:"aset_peralatanMesin",component:tQ,meta:{title:"Peralatan dan Mesin"}},{path:"items",name:"aset_barang",component:gM,meta:{title:"Barang"}}]},{path:"/land-affairs",component:Ct,meta:{requiresAuth:!0},children:[{path:"parcels",name:"pertanahan_percil",component:tQ,meta:{title:"Data Percil"}},{path:"c-ledger",name:"pertanahan_cDesa",component:tQ,meta:{title:"C Desa"}}]},{path:"/enterprise",component:Ct,meta:{requiresAuth:!0},children:[{path:"profile",name:"badanusaha_profil",component:DF,meta:{title:"Profil Usaha"}},{path:"management",name:"badanusaha_pengurus",component:$X,meta:{title:"Pengurus/Pengelola"}},{path:"reports",name:"badanUsaha_laporan",component:xT,meta:{title:"Laporan Usaha"}}]},{path:"/website",component:Ct,meta:{requiresAuth:!0},children:[{path:"articles/list",name:"websiteArtikel_artikel",component:tQ,meta:{title:"Artikel"}},{path:"articles/categories",name:"websiteArtikel_kategori",component:$S,meta:{title:"Kategori Artikel"}},{path:"download/documents",name:"websiteDownload_dokumen",component:MA,meta:{title:"Dokumen"}},{path:"download/document-types",name:"websiteDownload_jenisDokumen",component:F_,meta:{title:"Jenis Dokumen"}}]},{path:"/",component:Ct,meta:{requiresAuth:!0},children:[{path:"banner",name:"banner",component:aV,meta:{title:"Banner"}}]},{path:"/",component:Ct,meta:{requiresAuth:!0},children:[{path:"services",name:"layanan",component:VI,meta:{title:"Layanan"}}]},{path:"/",component:Ct,meta:{requiresAuth:!0},children:[{path:"notices",name:"pengumuman",component:XU,meta:{title:"Pengumuman"}}]},{path:"/",component:Ct,meta:{requiresAuth:!0},children:[{path:"related-links",name:"linkTerkait",component:zR,meta:{title:"Link Terkait"}}]},{path:"/general",component:Ct,meta:{requiresAuth:!0},children:[{path:"user",name:"general_pengguna",component:tQ,meta:{title:"Pengguna"}},{path:"regions",name:"general_wilayah",component:mW,meta:{title:"Data Wilayah"}}]},{path:"/demographics",component:Ct,meta:{requiresAuth:!0},children:[{path:"religions",name:"demographics_agama",component:mO,meta:{title:"Data Agama"}},{path:"blood-types",name:"demographics_golonganDarah",component:mK,meta:{title:"Data Golongan Darah"}},{path:"family-relationships",name:"demographics_hubunganKeluarga",component:m$,meta:{title:"Data Hubungan Keluarga"}},{path:"genders",name:"demographics_jenisKelamin",component:mG,meta:{title:"Data Jenis Kelamin"}},{path:"occupations",name:"demographics_pekerjaan",component:mJ,meta:{title:"Data Pekerjaan"}},{path:"education-levels",name:"demographics_pendidikan",component:mq,meta:{title:"Data Pendidikan"}},{path:"birth-attendants",name:"demographics_penolongKelahiran",component:mH,meta:{title:"Data Penolong Kelahiran"}},{path:"birth-places",name:"demographics_tempatDilahirkan",component:mY,meta:{title:"Data Tempat Dilahirkan"}},{path:"martial-statuses",name:"demographics_statusPerkawinan",component:mz,meta:{title:"Data Status Perkawinan"}},{path:"group-categories",name:"demographics_kategoriKelompok",component:mZ,meta:{title:"Data Kategori Kelompok"}}]},{path:"/finance",component:Ct,meta:{requiresAuth:!0},children:[{path:"budget-sources",name:"keuangan_sumberAnggaran",component:m0,meta:{title:"Sumber Anggaran"}},{path:"account-codes",name:"keuangan_kodeRekening",component:m0,meta:{title:"Kode Rekening"}}]},{path:"/government",component:Ct,meta:{requiresAuth:!0},children:[{path:"positions",name:"pemerintahan_jabatan",component:m1,meta:{title:"Jabatan"}},{path:"official-status",name:"pemerintahan_statusPerangkat",component:m2,meta:{title:"Status Perangkat"}}]},{path:"/bumdes",component:Ct,meta:{requiresAuth:!0},children:[{path:"business-fields",name:"bumdes_bidangUsaha",component:m3,meta:{title:"Bidang Usaha"}},{path:"report-periods",name:"bumdes_periodeLaporan",component:m4,meta:{title:"Periode Laporan Usaha"}}]},{path:"/archives",component:Ct,meta:{requiresAuth:!0},children:[{path:"incoming-letter-types",name:"dokumen_jenisSuratMasuk",component:p5,meta:{title:"Jenis Surat Masuk"}},{path:"outgoing-letter-types",name:"dokumen_jenisSuratKeluar",component:y8,meta:{title:"Jenis Surat Keluar| Desa Online"}},{path:"regulation-types",name:"dokumen_jenisPeraturan",component:E6,meta:{title:"Jenis Peraturan/Regulasi"}}]},{path:"/inventory",component:Ct,meta:{requiresAuth:!0},children:[{path:"legal-status",name:"aset_statusHak",component:F7,meta:{title:"Status Hak"}},{path:"land-origins",name:"aset_asalUsulTanah",component:S9,meta:{title:"Asal Usul Tanah"}},{path:"acquisition-procedures",name:"aset_prosedurPenguasaan",component:jaa,meta:{title:"Prosedur Penguasaan"}},{path:"acquisitions",name:"aset_perolehan",component:jea,meta:{title:"Perolehan"}},{path:"conditions",name:"aset_kondisi",component:jta,meta:{title:"Kondisi"}},{path:"multi-story-construction",name:"aset_kontuksiBertingkat",component:Usa,meta:{title:"Kontruksi Bertingkat"}},{path:"concrete-construction",name:"aset_kontruksiBeton",component:Oia,meta:{title:"Kontruksi Beton"}},{path:"physical-status",name:"aset_keberadaanFisik",component:Ola,meta:{title:"Keberadaan Fisik"}},{path:"item-categories",name:"aset_kategoriBarang",component:Jna,meta:{title:"Kategori Barang"}}]}],Hna=(0,m.aE)({history:(0,m.Bt)(),routes:qna});Hna.beforeEach((a,e,t)=>{if(a.meta.title&&(document.title=a.meta.title),a.matched.some(a=>a.meta.requiresAuth)&&!localStorage.getItem("User"))return t("/auth");t()});var Yna=Hna,zna=JSON.parse('{"settings":{"layout_type":"ltr","layout":"Barcelona","sidebar_setting":"stroke-svg"},"color":{"layout_version":"light","primary_color":"#7366ff","secondary_color":"#f73164"}}');const Zna={layout:zna,sidebarType:localStorage.getItem("SidebarType")||"default",boxlayout:!0,footer:"",svg:"stroke-svg",sidebar:"compact-sidebar1"},aoa={footer:a=>a.footer,sidebar:a=>a.sidebar},eoa={setFooter:(a,e)=>{a.footer=e.class},set:a=>{document.body.className=a.layout.color.mix_layout,document.body.setAttribute("main-theme-layout","compact-wrapper"),document.getElementsByTagName("html")[0].setAttribute("dir",a.layout.settings.layout_type);var e=localStorage.getItem("primary_color")||a.layout.color.primary_color,t=localStorage.getItem("secondary_color")||a.layout.color.secondary_color,s=localStorage.getItem("layoutVersion")||a.layout.color.layout_version;(e||t)&&(soa(e,t),s&&(document.body.className=s))},setLayoutType:(a,e)=>{document.body.classList.remove("rtl"),document.body.classList.remove("ltr"),document.body.classList.remove("boxed"),document.documentElement.removeAttribute("dir"),e.class&&document.body.setAttribute("class",e.class),console.log("payload is :>",e.class),e.class&&document.documentElement.setAttribute("dir",e.class),a.layout.settings.layout_type=e},setLayout:(a,e)=>{"box-layout"==document.body.className?document.body.className="box-layout "+e.class:document.body.className=e.class},setColorScheme:(a,e)=>{ioa(a,e),a.primaryColor=e.primary,a.secondaryColor=e.secondary,a.layout.color.layout_version="light",localStorage.setItem("layoutVersion",a.layout.color.layout_version)},setColorDarkScheme:(a,e)=>{ioa(a,e),a.layout.color.layout_version="dark-only",localStorage.setItem("layoutVersion",a.layout.color.layout_version)},setCustomizeSidebarType:(a,e)=>{localStorage.setItem("SidebarType",e)},setSvg(a,e){a.svg=e}},toa={set:a=>{a.commit("set")},setLayoutType:(a,e)=>{a.commit("setLayoutType",e)},setLayout:(a,e)=>{a.commit("setLayout",e)},setColorScheme:(a,e)=>{a.commit("setColorScheme",e)},setColorDarkScheme:(a,e)=>{a.commit("setColorDarkScheme",e)},setCustomizeSidebarType:(a,e)=>{a.commit("setCustomizeSidebarType",e)},setSvg(a,e){a.commit("setSvg",e)}};function soa(a,e){document.documentElement.style.setProperty("--theme-deafult",a),document.documentElement.style.setProperty("--theme-secondary",e)}function ioa(a,e){soa(e.primary,e.secondary),localStorage.setItem("primary_color",e.primary),localStorage.setItem("secondary_color",e.secondary)}var loa={namespaced:!0,state:Zna,getters:aoa,actions:toa,mutations:eoa},noa=JSON.parse('{"p":[{"title":"Error Page","design":"icon","type":"sub","active":false,"children":[{"path":"/error-400","title":"Error 400","type":"extTabLink"},{"path":"/error-401","title":"Error 401","type":"extTabLink"},{"path":"/error-403","title":"Error 403","type":"extTabLink"},{"path":"/error-404","title":"Error 404","type":"extTabLink"},{"path":"/error-500","title":"Error 500","type":"extTabLink"},{"path":"/error-503","title":"Error 503","type":"extTabLink"}]},{"title":"Authentication","design":"doted","type":"sub","active":false,"children":[{"path":"/auth/login","title":"Login Simple","type":"extTabLink"},{"path":"/authentication/login/one","title":"Login with Image","type":"extTabLink"},{"path":"/authentication/login/two","title":"Login with Image 2","type":"extTabLink"},{"path":"/authentication/login/validate","title":"Login with validation","type":"extTabLink"},{"path":"/auth/register","title":"Register Simple","type":"extTabLink"},{"path":"/authentication/register/image","title":"Register with Image","type":"extTabLink"},{"path":"/authentication/register/image2","title":"Register with image 2","type":"extTabLink"}]},{"title":"Usefull Pages","design":"dashed-links","type":"sub","active":false,"children":[{"path":"/pages/search","title":"Search Website","type":"extTabLink"},{"path":"/authentication/unlockuser","title":"Unlock User","type":"extTabLink"},{"path":"/authentication/forgetpassword","title":"Forget Password","type":"extTabLink"},{"path":"/authentication/resetpassword","title":"Reset Password","type":"extTabLink"},{"path":"/maintenance","title":"Maintenance","type":"extTabLink"}]},{"title":"Coming Soon","type":"sub","active":false,"children":[{"path":"/comingsoon/comingsoon-simple","title":"Coming Soon","icon":"file","type":"extTabLink"},{"path":"/comingsoon/comingsoon-image","title":"Coming Image","icon":"file","type":"extTabLink"},{"path":"/comingsoon/comingsoon-video","title":"Coming Video","icon":"image","type":"extTabLink"}]}]}');const ooa={data:mt.data,megamenu:noa.p,searchData:[],togglesidebar:!0,activeoverlay:!1,searchOpen:!1,customizer:"",hideRightArrowRTL:!1,hideLeftArrowRTL:!0,hideRightArrow:!0,hideLeftArrow:!0,width:0,height:0,margin:0,menuWidth:0},roa={},coa={opensidebar:a=>{a.togglesidebar=!a.togglesidebar,window.innerWidth<991?a.activeoverlay=!0:a.activeoverlay=!1},resizetoggle:a=>{window.innerWidth<1007?a.togglesidebar=!1:a.togglesidebar=!0},searchTerm:(a,e)=>{let t=[];var s=e.toLowerCase();a.data.filter(e=>{if(e.title){if(e.title.toLowerCase().includes(s)&&"link"===e.type&&t.push(e),!e.children)return!1;e.children.filter(a=>{if(a.title.toLowerCase().includes(s)&&"link"===a.type&&(a.icon=e.icon,t.push(a)),!a.children)return!1;a.children.filter(a=>{a.title.toLowerCase().includes(s)&&(a.icon=e.icon,t.push(a))})}),a.searchData=t}})},setBonusNavActive:(a,e)=>{e.active||a.megamenu.forEach(t=>{if(a.megamenu.includes(e)&&(t.active=!1),!t.children)return!1;t.children.forEach(a=>{t.children.includes(e)&&(a.active=!1)})}),e.active=!e.active},setNavActive:(a,e)=>{e.active||a.data.forEach(t=>{if(a.data.includes(e)&&(t.active=!1),!t.children)return!1;t.children.forEach(a=>{t.children.includes(e)&&(a.active=!1)})}),e.active=!e.active},setActiveRoute:(a,e)=>{a.data.filter(a=>{a!==e&&(a.active=!1),a.children&&a.children.includes(e)&&(e.active=!0,a.active=!0),a.children&&a.children.filter(t=>{t.children&&t.children.includes(e)&&(e.active=!0,a.active=!0,t.active=!0)})})}},doa={opensidebar:(a,e)=>{a.commit("opensidebar",e)},resizetoggle:(a,e)=>{a.commit("resizetoggle",e)},setBonusNavActive:(a,e)=>{a.commit("setBonusNavActive",e)},searchTerm:(a,e)=>{a.commit("searchTerm",e)},setNavActive:(a,e)=>{a.commit("setNavActive",e)},setActiveRoute:(a,e)=>{a.commit("setActiveRoute",e)}};var uoa={namespaced:!0,state:ooa,getters:roa,actions:doa,mutations:coa},moa=(0,y.y$)({state:{langIcon:"",langLangauge:"",isActive:!1},getters:{langIcon:a=>a.langIcon,langLangauge:a=>a.langLangauge},mutations:{changeLang(a,e){localStorage.setItem("currentLanguage",e.id),localStorage.setItem("currentLanguageIcon",e.icon),a.langIcon=e.icon||"flag-icon-us",a.langLangauge=e.id||"EN"},change(a){a.isActive=!a.isActive}},actions:{setLang({commit:a},e){a("changeLang",e)}},modules:{layout:loa,menu:uoa}}),koa=(t(9953),t(9930)),hoa=t(5931),goa=JSON.parse('{"Dashboard":"Dashboard","Default":"Default","E-Commerce":"E-Commerce","Project":"Project","Project List":"Project List","Create New":"Create New","File Manager":"File Manager","Bookmarks":"Bookmarks","Contact":"Contact","Tasks":"Tasks","Todo":"Todo","Todo FireBase":"Todo FireBase","Widgets":"Widgets","General":"General","Chart":"Chart","Ui-Kits":"Ui-Kits","Avatars":"Avatars","Breadcrumb":"Breadcrumb","Grid":"Grid","Helper-Classes":"Helper-Classes","List":"List","Ribbons":"Ribbons","Shadow":"Shadow","Spinner":"Spinner","State-color":"State-color","Steps":"Steps","Tag and Pills":"Tag and Pills","Typography":"Typography","Bonus UI":"Bonus UI","Base":"Base","Accordion":"Accordion","Alert":"Alert","Carousel":"Carousel","Collapse":"Collapse","Datepicker":"Datepicker","Dropdown":"Dropdown","Modal":"Modal","Pagination":"Pagination","Popover":"Popover","Progressbar":"Progressbar","Rating":"Rating","Tabset":"Tabset","Timepicker":"Timepicker","Tooltip":"Tooltip","Typeahead":"Typeahead","Advance":"Advance","Drag and Drop":"Drag and Drop","Dropzone":"Dropzone","Image Cropper":"Image Cropper","Ngx Toastr":"Ngx Toastr","Owl-Carousel":"Owl-Carousel","Range Slider":"Range Slider","Scrollable":"Scrollable","Sticky":"Sticky","SweetAlert":"SweetAlert","Tour":"Tour","Upload":"Upload","Icons":"Icons","Flag icon":"Flag icon","Fontawesome Icon":"Fontawesome Icon","Ico Icon":"Ico Icon","Themify Icon":"Themify Icon","Feather Icon":"Feather Icon","Wheather Icon":"Wheather Icon","Simple line Icon":"Simple line Icon","Material Design Icon":"Material Design Icon","pe7 icon":"pe7 icon","Typicons icon":"Typicons icon","Ionic icon":"Ionic icon","Buttons":"Buttons","Default Style":"Default Style","Flat Style":"Flat Style","Edge Style":"Edge Style","Raised Style":"Raised Style","Button Group":"Button Group","Forms":"Forms","Form Controls":"Form Controls","Form Validation":"Form Validation","Base Inputs":"Base Inputs","Checkbox & Radio":"Checkbox & Radio","Input Groups":"Input Groups","Mega Options":"Mega Options","Form Default":"Form Default","Ngx Wizard":"Ngx Wizard","Tables":"Tables","Bootstrap Tables":"Bootstrap Tables","Basic Table":"Basic Table","Sizing Table":"Sizing Table","Border Table":"Border Table","Styling Table":"Styling Table","Ngx-Datatables":"Ngx-Datatables","Editing Table":"Editing Table","Filter Table":"Filter Table","Fullscreen Table":"Fullscreen Table","Paging Table":"Paging Table","Selection":"Selection","Smart Table":"Smart Table","Cards":"Cards","Basic Card":"Basic Card","Creative Card":"Creative Card","Tabbed Card":"Tabbed Card","Draggable Card":"Draggable Card","Timeline":"Timeline","Timeline 1":"Timeline 1","Timeline 2":"Timeline 2","Charts":"Charts","Google Chart":"Google Chart","Chartjs":"Chartjs","Chartist":"Chartist","Ngx-Chart":"Ngx-Chart","Map":"Map","Google Map":"Google Map","Leaflet Map":"Leaflet Map","Editor":"Editor","Users":"Users","Users Profile":"Users Profile","Users Edit":"Users Edit","Users Cards":"Users Cards","Calender":"Calender","Blog":"Blog","Blog Details":"Blog Details","Blog Single":"Blog Single","Email":"Email","Chat":"Chat","Social App":"Social App","Job-Search":"Job-Search","Card View":"Card View","List View":"List View","Job Detail":"Job Detail","Apply":"Apply","Learning":"Learning","Learning List":"Learning List","Detail Course":"Detail Course","FAQ":"FAQ","Knowledgebase":"Knowledgebase","Support Ticket":"Support Ticket","To-Do":"To-Do","Ecommerce":"Ecommerce","Product":"Product","Product page":"Product page","Product list":"Product list","Payment Details":"Payment Details","Invoice":"Invoice","Order History":"Order History","Pricing":"Pricing","Sample page":"Sample page","Search Pages":"Search Pages","Error Page":"Error Page","Error 400":"Error 400","Error 401":"Error 401","Error 403":"Error 403","Error 404":"Error 404","Error 500":"Error 500","Error 503":"Error 503","Authentication":"Authentication","Login Simple":"Login Simple","Login with Bg Image":"Login with Bg Image","Login with Bg video":"Login with Bg video","Register Simple":"Register Simple","Register with Bg Image":"Register with Bg Image","Register with Bg video":"Register with Bg video","Unlock User":"Unlock User","Forget Password":"Forget Password","Reset Password":"Reset Password","Coming Soon":"Coming Soon","Coming Simple":"Coming Simple","Coming with Bg Image":"Coming with Bg Image","Coming with Bg video":"Coming with Bg video","Maintenance":"Maintenance","Dashboards & Widgets.":"Dashboards & Widgets.","Applications":"Applications","Ready To Use Apps.":"Ready To Use Apps.","Components":"Components","UI Components & Elements.":"UI Components & Elements.","Forms & Table":"Forms & Table","Ready To Use Froms & Tables.":"Ready To Use Froms & Tables.","Miscellaneous":"Miscellaneous","Bouns Pages & Apps.":"Bouns Pages & Apps.","Gallery":"Gallery"}'),poa=JSON.parse('{"Dashboard":"painel de controle","Default":"PadrÃ£o","E-Commerce":"ComÃ©rcio EletrÃ´nico","Project":"Projeto","Widgets":"Widgets","General":"Geral","Chart":"grÃ¡fico","Project List":"Lista de Projetos","Create New":"Crie um novo","File Manager":"Gerenciador de arquivos","Bookmarks":"Favoritas","Contact":"Contato","Tasks":"Tarefas","Todo":"FaÃ§am","Todo FireBase":"FaÃ§am FireBase","Ui-kits":"Ui-kits","Avatars":"Avatares","Breadcrumb":"Breadcrumb","Grid":"Grade","Helper-Classes":"Classes Auxiliares","List":"Lista","Ribbons":"Fitas","Shadow":"Sombra","Spinner":"Girador","State-color":"Estado-cor","Steps":"Passos","Tag and Pills":"Tag e comprimidos","Typography":"Tipografia","Base":"Base","Accordion":"AcordeÃ£o","Alert":"Alerta","Carousel":"Carrossel","Collapse":"Colapso","Datepicker":"Datepicker","Dropdown":"Suspenso","Modal":"Modal","Pagination":"PaginaÃ§Ã£o","Popover":"Popover","Progressbar":"Barra de progresso","Rating":"AvaliaÃ§Ã£o","Tabset":"Tabset","Timepicker":"Timepicker","Tooltip":"Tooltip","Typeahead":"Typeahead","Advance":"AvanÃ§ar","Drag and Drop":"Arraste e solte","Dropzone":"Ponto de largada","Image Cropper":"Cropper de imagem","Ngx Toastr":"Ngx Toastr","Owl-Carousel":"Carrossel da Coruja","Range Slider":"Faixa Deslizante","Scrollable":"RolÃ¡vel","Sticky":"Pegajoso","SweetAlert":"SweetAlert","Tour":"Tour","Upload":"Envio","Icons":"Ãcones","Flag icon":"Bandeira, Ã­cone","Fontawesome Icon":"Ãcone do Fontawesome","Ico Icon":"Ãcone Ico","Themify Icon":"Themify Icon","Feather Icon":"Ãcone de penas","Wheather Icon":"Se Ã­cone","Simple line Icon":"Ãcone de linha simples","Material Design Icon":"Ãcone do Material Design","pe7 icon":"Ã­cone pe7","Typicons icon":"Ãcone de tipicons","Ionic icon":"Ãcone iÃ´nico","Buttons":"BotÃµes","Default Style":"Estilo PadrÃ£o","Flat Style":"Flat Style","Edge Style":"Estilo de borda","Raised Style":"Estilo levantado","Button Group":"Grupo de botÃµes","Forms":"FormulÃ¡rios","Form Controls":"Controles de FormulÃ¡rio","Form Validation":"ValidaÃ§Ã£o de FormulÃ¡rio","Base Inputs":"Entradas Base","Checkbox & Radio":"Caixa de seleÃ§Ã£o e rÃ¡dio","Input Groups":"Grupos de entrada","Mega Options":"Mega OpÃ§Ãµes","Form Default":"PadrÃ£o de formulÃ¡rio","Ngx Wizard":"Ngx Wizard","Tables":"Tabelas","Bootstrap Tables":"Tabelas de Bootstrap","Sizing Table":"Tabela de dimensionamento","Border Table":"Tabela de fronteira","Styling Table":"Tabela de denominaÃ§Ã£o","Ngx-Datatables":"Ngx-Datatables","Basic Table":"Mesa BÃ¡sica","Editing Table":"Tabela de EdiÃ§Ã£o","Filter Table":"Tabela de filtro","Fullscreen Table":"Tabela de tela cheia","Paging Table":"Tabela de PaginaÃ§Ã£o","Selection":"SeleÃ§Ã£o","Smart Table":"Mesa Inteligente","Cards":"Postais","Basic Card":"CartÃ£o BÃ¡sico","Creative Card":"CartÃ£o Criativo","Tabbed Card":"CartÃ£o com abas","Draggable Card":"CartÃ£o Draggable","Timeline":"Timeline","Timeline 1":"Linha do tempo 1","Timeline 2":"Linha do tempo 2","Charts":"GrÃ¡ficos","Google Chart":"Google Chart","Chartjs":"Chartjs","Chartist":"Cartista","ApexChart":"ApexChart","Ngx-Chart":"GrÃ¡fico Ngx","Map":"Mapa","Google Map":"Google Map","Leaflet Map":"Mapa do folheto","Editor":"editor","Users":"Comercial","Users Profile":"Perfil dos UsuÃ¡rios","Users Edit":"UsuÃ¡rios Editar","Users Cards":"CartÃµes de UsuÃ¡rios","Calender":"CalendÃ¡rio","Blog":"Blog","Blog Details":"Detalhes do Blog","Blog Single":"Ãnico Blog","Email":"O email","Chat":"Bate-papo","Social App":"App Social","Job-Search":"Procura de emprego","Card View":"Visualizar cartÃ£o","List View":"ExibiÃ§Ã£o de lista","Job Detail":"Detalhe do trabalho","Apply":"Aplique","Learning":"Aprendendo","Learning List":"Lista de aprendizado","Detail Course":"Curso Detalhado","FAQ":"Perguntas frequentes","Knowledgebase":"Base de Conhecimento","Support Ticket":"Bilhete de Suporte","To-Do":"FaÃ§am","Ecommerce":"ComÃ©rcio eletrÃ´nico","Product":"produtos","Product page":"PÃ¡gina do produto","Product list":"Lista de produtos","Payment Details":"Detalhes do pagamento","Invoice":"Fatura","Order History":"HistÃ³rico de pedidos","Pricing":"PreÃ§os","Sample page":"PÃ¡gina de exemplo","Search Pages":"PÃ¡ginas de pesquisa","Error Page":"PÃ¡gina de erro","Error 400":"Erro 400","Error 401":"Erro 401","Error 403":"Erro 403","Error 404":"Erro 404","Error 500":"Erro 500","Error 503":"Erro 503","Authentication":"AutenticaÃ§Ã£o","Login Simple":"Login simples","Login with Bg Image":"FaÃ§a o login com a imagem Bg","Login with Bg video":"Entrar com vÃ­deo Bg","Register Simple":"Cadastre-se simples","Register with Bg Image":"Registre-se com a imagem Bg","Register with Bg video":"Registre-se com vÃ­deo Bg","Unlock User":"Desbloquear usuÃ¡rio","Forget Password":"Esqueceu a senha","Reset Password":"Redefinir Senha","Coming Soon":"Em breve","Coming Simple":"Chegando Simples","Coming with Bg Image":"Vindo com imagem Bg","Coming with Bg video":"Vindo com vÃ­deo Bg","Maintenance":"ManutenÃ§Ã£o","Dashboards & Widgets.":"PainÃ©is e widgets.","Applications":"FormulÃ¡rios","Ready To Use Apps.":"Aplicativos prontos para usar.","Components":"Componentes","UI Components & Elements.":"Componentes e elementos da interface do usuÃ¡rio.","Forms & Table":"FormulÃ¡rios e mesa","Ready To Use Froms & Tables.":"Pronto para usar des e tabelas.","Miscellaneous":"Diversas","Bouns Pages & Apps.":"PÃ¡ginas e aplicativos de bouns.","Gallery":"Galeria","Bonus UI":"UI bÃ´nus"}'),boa=JSON.parse('{"Dashboard":"Tableau de bord","Default":"DÃ©faut","E-Commerce":"E-Commerce","Project":"Projet","Project List":"Liste des projets","Create New":"CrÃ©er un nouveau","File Manager":"Gestionnaire de fichiers","Bookmarks":"Favoris","Contact":"Contact","Tasks":"TÃ¢ches","Todo":"Faire","Todo FireBase":"Faire FireBase","Widgets":"Widgets","General":"gÃ©nÃ©ral","Chart":"graphique","Ui-Kits":"ElÃ©ments d\'interface utilisateur","Avatars":"Avatars","Breadcrumb":"Miette de pain","Grid":"la grille","Helper-Classes":"Classes d\'assistants","List":"liste","Ribbons":"Rubans","Shadow":"Ombre","Spinner":"Fileur","State-color":"Couleur d\'Ã©tat","Steps":"Pas","Tag and Pills":"Tag et pilules","Typography":"Typographie","Base":"Base","Accordion":"AccordÃ©on","Alert":"Alerte","Carousel":"Carrousel","Collapse":"Effondrer","Datepicker":"SÃ©lecteur de date","Dropdown":"Menu dÃ©roulant","Modal":"Modal","Pagination":"Pagination","Popover":"Popover","Progressbar":"Barre de progression","Rating":"Ãvaluation","Tabset":"Tabset","Timepicker":"Timepicker","Tooltip":"Info-bulle","Typeahead":"TÃªte de caractÃ¨res","Advance":"Avance","Drag and Drop":"Glisser dÃ©poser","Dropzone":"Zone de largage","Image Cropper":"Cropper Image","Ngx Toastr":"Ngx Toastr","Owl-Carousel":"Hibou-carrousel","Range Slider":"Range Slider","Scrollable":"Scrollable","Sticky":"Gluant","SweetAlert":"SweetAlert","Tour":"Tour","Upload":"TÃ©lÃ©charger","Icons":"Les icÃ´nes","Flag icon":"IcÃ´ne de drapeau","Fontawesome Icon":"IcÃ´ne Fontawesome","Ico Icon":"Ico Icon","Themify Icon":"IcÃ´ne Themify","Feather Icon":"IcÃ´ne de la plume","Wheather Icon":"Si icÃ´ne","Simple line Icon":"IcÃ´ne de ligne simple","Material Design Icon":"IcÃ´ne de conception matÃ©rielle","pe7 icon":"icÃ´ne pe7","Typicons icon":"IcÃ´ne de typicons","Ionic icon":"IcÃ´ne ionique","Buttons":"Boutons","Default Style":"Style par dÃ©faut","Flat Style":"Style plat","Edge Style":"Style de bord","Raised Style":"Style SurÃ©levÃ©","Button Group":"Groupe de boutons","Forms":"Formes","Form Controls":"ContrÃ´les de formulaire","Form Validation":"Validation du formulaire","Base Inputs":"EntrÃ©es de base","Checkbox & Radio":"Case Ã  cocher et radio","Input Groups":"Groupes d\'entrÃ©es","Mega Options":"Mega Options","Form Default":"Formulaire par dÃ©faut","Ngx Wizard":"Assistant Ngx","Tables":"les tables","Bootstrap Tables":"Tables Bootstrap","Sizing Table":"Tableau de dimensionnement","Border Table":"Table de frontiÃ¨re","Styling Table":"Table de coiffure","Ngx-Datatables":"Ngx-Datatables","Basic Table":"Table de base","Editing Table":"Tableau d\'Ã©dition","Filter Table":"Table de filtrage","Fullscreen Table":"Tableau plein Ã©cran","Paging Table":"Table de pagination","Selection":"SÃ©lection","Smart Table":"Smart Table","Cards":"Cartes","Basic Card":"Carte de base","Creative Card":"Carte crÃ©ative","Tabbed Card":"Carte Ã  onglets","Draggable Card":"Carte glissable","Timeline":"Chronologie","Timeline 1":"Chronologie 1","Timeline 2":"Chronologie 2","Charts":"Graphiques","Google Chart":"Google Chart","Chartjs":"Chartjs","Chartist":"Chartiste","Ngx-Chart":"Ngx-Chart","Map":"Carte","Google Map":"Google Map","Leaflet Map":"Carte du dÃ©pliant","Editor":"Ãditeur","Users":"Utilisateurs","Users Profile":"Profil des utilisateurs","Users Edit":"Utilisateurs Modifier","Users Cards":"Cartes Utilisateurs","Calender":"Calandre","Blog":"Blog","Blog Details":"DÃ©tails du blog","Blog Single":"Blog Single","Email":"Email","Chat":"Bavarder","Social App":"App sociale","Job-Search":"Recherche d\'emploi","Card View":"Vue carte","List View":"Voir la liste","Job Detail":"DÃ©tail du travail","Apply":"Appliquer","Learning":"Apprentissage","Learning List":"Liste d\'apprentissage","Detail Course":"Cours de dÃ©tail","FAQ":"FAQ","Knowledgebase":"Base de connaissances","Support Ticket":"Ticket de support","To-Do":"Faire","Ecommerce":"Commerce Ã©lectronique","Product":"Produit","Product page":"Page produit","Product list":"Liste de produits","Payment Details":"DÃ©tails de paiement","Invoice":"Facture d\'achat","Order History":"Historique des commandes","Pricing":"Prix","Sample page":"Page d\'exemple","Search Pages":"Pages de recherche","Error Page":"Page d\'erreur","Error 400":"Erreur 400","Error 401":"Erreur 401","Error 403":"Erreur 403","Error 404":"Erreur 404","Error 500":"Erreur 500","Error 503":"Erreur 503","Authentication":"Authentification","Login Simple":"Login Simple","Login with Bg Image":"Connexion avec Bg Image","Login with Bg video":"Connexion avec Bg video","Register Simple":"Inscrivez-vous simple","Register with Bg Image":"S\'inscrire avec Bg Image","Register with Bg video":"S\'inscrire avec Bg video","Unlock User":"DÃ©verrouiller l\'utilisateur","Forget Password":"Mot de passe oubliÃ©","Reset Password":"rÃ©initialiser le mot de passe","Coming Soon":"Arrive bientÃ´t","Coming Simple":"Venir simple","Coming with Bg Image":"Venir avec Bg Image","Coming with Bg video":"Venir avec Bg video","Maintenance":"Entretien","Dashboards & Widgets.":"Tableaux de bord et widgets.","Applications":"Applications","Ready To Use Apps.":"Applications prÃªtes Ã  l\'emploi.","Components":"Composantes","UI Components & Elements.":"Composants et Ã©lÃ©ments de l\'interface utilisateur.","Forms & Table":"Formulaires et tableau","Ready To Use Froms & Tables.":"Ã partir de et tableaux prÃªts Ã  l\'emploi.","Miscellaneous":"Divers","Bouns Pages & Apps.":"Bouns Pages & Apps.","Gallery":"Galerie","Bonus UI":"Bonus UI"}'),foa=JSON.parse('{"Dashboard":"Tablero","Default":"Defecto","E-Commerce":"Comercio electronico","Project":"Proyecto","Project List":"Lista de proyectos","Create New":"Crear nueva","File Manager":"Administradora de archivos","Bookmarks":"Marcadores","Contact":"Contacto","Tasks":"Tareas","Todo":"Que hacer","Todo FireBase":"Que hacer FireBase","Widgets":"Widgets","General":"general","Chart":"grÃ¡fico","Ui-Kits":"Ui-Kits","Avatars":"Avatares","Breadcrumb":"Migaja de pan","Grid":"CuadrÃ­cula","Helper-Classes":"Clases de ayuda","List":"Lista","Ribbons":"Cintas","Shadow":"Sombra","Spinner":"Hilandero","State-color":"Color del estado","Steps":"Pasos","Tag and Pills":"Etiqueta y pastillas","Typography":"TipografÃ­a","Base":"Base","Accordion":"AcordeÃ³n","Alert":"Alerta","Buttons":"Botones","Carousel":"Carrusel","Collapse":"Colapso","Datepicker":"Selector de fechas","Dropdown":"Desplegable","Modal":"Modal","Pagination":"PaginaciÃ³n","Popover":"Popover","Progressbar":"Barra de progreso","Rating":"ClasificaciÃ³n","Tabset":"Pastillas","Timepicker":"Timepicker","Tooltip":"InformaciÃ³n sobre herramientas","Typeahead":"Typeahead","Advance":"Avanzar","Drag and Drop":"Arrastrar y soltar","Dropzone":"Zona de descenso","Image Cropper":"Recortadora de imagen","Ngx Toastr":"Ngx Toastr","Owl-Carousel":"BÃºho-carrusel","Range Slider":"Control deslizante de rango","Scrollable":"Desplazable","Sticky":"Pegajoso","SweetAlert":"SweetAlert","Tour":"ExcursiÃ³n","Upload":"Subir","Icons":"Iconos","Flag icon":"Icono de bandera","Fontawesome Icon":"Icono de Fontawesome","Ico Icon":"Icono de Ico","Themify Icon":"Icono de Themify","Feather Icon":"Icono de pluma","Wheather Icon":"Si icono","Simple line Icon":"Icono de lÃ­nea simple","Material Design Icon":"Icono de diseÃ±o de materiales","pe7 icon":"icono de pe7","Typicons icon":"Icono de Typicons","Ionic icon":"Icono iÃ³nico","Default Style":"Estilo por Defecto","Flat Style":"Estilo plano","Edge Style":"Estilo de borde","Raised Style":"Estilo elevado","Button Group":"Grupo de botones","Forms":"Formas","Form Controls":"Controles de formulario","Form Validation":"ValidaciÃ³n de formularios","Base Inputs":"Entradas base","Checkbox & Radio":"Casilla de verificaciÃ³n y radio","Input Groups":"Grupos de entrada","Mega Options":"Mega Opciones","Form Default":"Forma predeterminada","Ngx Wizard":"Ngx Wizard","Tables":"Mesas","Bootstrap Tables":"Mesas de Bootstrap","Sizing Table":"Tabla de tallas","Border Table":"Tabla de borde","Styling Table":"Mesa de peluquerÃ­a","Ngx-Datatables":"Ngx-Datatable","Basic Table":"Tabla basica","Editing Table":"Mesa de ediciÃ³n","Filter Table":"Tabla de filtro","Fullscreen Table":"Tabla de pantalla completa","Paging Table":"Mesa de paginaciÃ³n","Selection":"SelecciÃ³n","Smart Table":"Mesa inteligente","Cards":"Tarjetas","Basic Card":"Tarjeta basica","Creative Card":"Tarjeta creativa","Tabbed Card":"Tarjeta con pestaÃ±as","Draggable Card":"Tarjeta Arrastrable","Timeline":"LÃ­nea de tiempo","Timeline 1":"LÃ­nea de tiempo 1","Timeline 2":"LÃ­nea de tiempo 2","Charts":"Cartas","Google Chart":"Google Chart","Chartjs":"Chartjs","Chartist":"Chartista","Ngx-Chart":"Ngx-grÃ¡fico","Map":"Mapa","Google Map":"Mapa de Google","Leaflet Map":"Mapa del folleto","Editor":"Editor","Users":"Usuarios","Users Profile":"Perfil de usuario","Users Edit":"Editar usuarios","Users Cards":"Tarjetas de usuario","Calender":"Calandrar","Blog":"Blog","Blog Details":"Detalles del blog","Blog Single":"Blog Single","Email":"Email","Chat":"Charla","Social App":"AplicaciÃ³n social","Job-Search":"BÃºsqueda de trabajo","Card View":"Vista de tarjeta","List View":"Vista de la lista","Job Detail":"Detalles del trabajo","Apply":"Aplicar","Learning":"Aprendizaje","Learning List":"Lista de aprendizaje","Detail Course":"Curso de detalle","FAQ":"Preguntas mÃ¡s frecuentes","Knowledgebase":"Base de conocimientos","Support Ticket":"Boleto de soporte","To-Do":"Que hacer","Ecommerce":"Comercio electrÃ³nico","Product":"Producto","Product page":"PÃ¡gina del producto","Product list":"Lista de productos","Payment Details":"Detalles del pago","Invoice":"Factura","Order History":"Historial de pedidos","Pricing":"Precios","Sample page":"PÃ¡gina de Ejemplo","Search Pages":"PÃ¡ginas de bÃºsqueda","Error Page":"PÃ¡gina de error","Error 400":"Error 400","Error 401":"Error 401","Error 403":"Error 403","Error 404":"Error 404","Error 500":"Error 500","Error 503":"Error 503","Authentication":"AutenticaciÃ³n","Login Simple":"Inicio de sesiÃ³n simple","Login with Bg Image":"Iniciar sesiÃ³n con Bg Image","Login with Bg video":"Iniciar sesiÃ³n con Bg video","Register Simple":"Registrarse Simple","Register with Bg Image":"Registrarse con Bg Image","Register with Bg video":"Registrarse en Bg video","Unlock User":"Desbloquear usuario","Forget Password":"ContraseÃ±a olvidada","Reset Password":"Restablecer la contraseÃ±a","Coming Soon":"PrÃ³ximamente","Coming Simple":"Coming Simple","Coming with Bg Image":"Viniendo con Bg Image","Coming with Bg video":"Viniendo con Bg video","Maintenance":"Mantenimiento","Dashboards & Widgets.":"Cuadros de mando y widgets.","Applications":"Aplicaciones","Ready To Use Apps.":"Aplicaciones listas para usar.","Components":"Componentes","UI Components & Elements.":"Componentes y elementos de la interfaz de usuario.","Forms & Table":"Formularios y tabla","Ready To Use Froms & Tables.":"Listo para usar desde y tablas.","Miscellaneous":"Diversa","Bouns Pages & Apps.":"Bouns pÃ¡ginas y aplicaciones.","Gallery":"GalerÃ­a","Bonus UI":"IU adicional"}');const Loa="en",yoa=[{id:"en",name:"English",icon:"flag-icon-us",short:"(US)"},{id:"de",name:"Deutsch",icon:"flag-icon-de"},{id:"es",name:"EspaÃ±ol",icon:"flag-icon-es"},{id:"fr",name:"FranÃ§ais",icon:"flag-icon-fr"},{id:"pt",name:"PortuguÃªs",icon:"flag-icon-pt",short:"(BR)"},{id:"cn",name:"ç®ä½ä¸­æ",icon:"flag-icon-cn"},{id:"ae",name:"ÙØ¹Ø±Ø¨ÙØ©",icon:"flag-icon-ae",short:"(AE)"}],voa={class:"page-title"},Coa={class:"row"},Poa={class:"col-6"},Eoa={key:0},Doa={class:"col-6"},Moa={class:"breadcrumb"},woa={key:0,class:"breadcrumb-item"},Foa={class:"breadcrumb-item active"};function Xoa(a,e,t,s,i,l){return(0,n.uX)(),(0,n.CE)("div",voa,[(0,n.Lk)("div",Coa,[(0,n.Lk)("div",Poa,[t.main?((0,n.uX)(),(0,n.CE)("h3",Eoa,(0,k.v_)(t.main),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Doa,[(0,n.Lk)("ol",Moa,[e[0]||(e[0]=(0,n.Lk)("li",{class:"breadcrumb-item"},[(0,n.Lk)("a",{href:"/api/api"},[(0,n.Lk)("i",{class:"fa fa-home"})])],-1)),t.main?((0,n.uX)(),(0,n.CE)("li",woa,(0,k.v_)(t.main),1)):(0,n.Q3)("",!0),(0,n.Lk)("li",Foa,(0,k.v_)(t.title),1)])])])])}var xoa={props:{title:{type:String,default:""},main:{type:String,default:""}}};const Toa=(0,r.A)(xoa,[["render",Xoa]]);var Soa=Toa,Boa=t(5329),Aoa=t(4084);t(7917);const _oa=localStorage.getItem("currentLanguage")&&yoa.filter(a=>a.id===localStorage.getItem("currentLanguage")).length>0?localStorage.getItem("currentLanguage"):Loa,joa=(0,hoa.hU)({locale:_oa,messages:{English:goa,"EspaÃ±ol":foa,"FranÃ§ais":boa,"PortuguÃªs":poa}});(0,l.Ef)(u).use(Yna).use(moa).use(joa).use(Boa.A).use(Aoa.Ay).use(nn.Ay).component(koa.A.name,koa.A).component("Breadcrumbs",Soa).mount("#app")}},e={};function t(s){var i=e[s];if(void 0!==i)return i.exports;var l=e[s]={exports:{}};return a[s].call(l.exports,l,l.exports,t),l.exports}t.m=a,function(){var a=[];t.O=function(e,s,i,l){if(!s){var n=1/0;for(d=0;d<a.length;d++){s=a[d][0],i=a[d][1],l=a[d][2];for(var o=!0,r=0;r<s.length;r++)(!1&l||n>=l)&&Object.keys(t.O).every(function(a){return t.O[a](s[r])})?s.splice(r--,1):(o=!1,l<n&&(n=l));if(o){a.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=a.length;d>0&&a[d-1][2]>l;d--)a[d]=a[d-1];a[d]=[s,i,l]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var s in e)t.o(e,s)&&!t.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:e[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){t.p=""}(),function(){var a={524:0};t.O.j=function(e){return 0===a[e]};var e=function(e,s){var i,l,n=s[0],o=s[1],r=s[2],c=0;if(n.some(function(e){return 0!==a[e]})){for(i in o)t.o(o,i)&&(t.m[i]=o[i]);if(r)var d=r(t)}for(e&&e(s);c<n.length;c++)l=n[c],t.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return t.O(d)},s=self["webpackChunkstarter_kit"]=self["webpackChunkstarter_kit"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],function(){return t(8539)});s=t.O(s)})();
//# sourceMappingURL=app.fc0e3974.js.map